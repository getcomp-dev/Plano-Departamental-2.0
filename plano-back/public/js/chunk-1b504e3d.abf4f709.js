(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b504e3d"],{"4c36":function(r,t,e){"use strict";e.r(t);var i=function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("tr",{staticClass:"novaturma"},[e("v-td",{attrs:{width:"25"}}),e("v-td",{attrs:{width:"40"}}),e("v-td",{attrs:{width:"55",paddingX:"2"}},[e("select",{directives:[{name:"model",rawName:"v-model.number",value:r.turmaForm.periodo,expression:"turmaForm.periodo",modifiers:{number:!0}}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(r){return r.selected}).map(function(t){var e="_value"in t?t._value:t.value;return r._n(e)});r.$set(r.turmaForm,"periodo",t.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"1"}},[r._v("1")]),e("option",{attrs:{value:"2"}},[r._v("2")]),e("option",{attrs:{value:"3"}},[r._v("3")]),e("option",{attrs:{value:"4"}},[r._v("4")])])]),e("v-td",{style:{backgroundColor:r.turmaForm.disciplina?r.turmaForm.disciplina.perfil.cor:""},attrs:{width:"80",paddinX:"2"}},[r._v("\n    "+r._s(r.turmaForm.disciplina?r.turmaForm.disciplina.perfil.abreviacao:"")+"\n  ")]),e("v-td",{attrs:{width:"80",paddinX:"2"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:r.turmaForm.disciplina,expression:"turmaForm.disciplina"}],on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,function(r){return r.selected}).map(function(r){var t="_value"in r?r._value:r.value;return t});r.$set(r.turmaForm,"disciplina",t.target.multiple?e:e[0])},r.handleChangeDisciplina]}},r._l(r.DisciplinasDCCInPerfis,function(t){return e("option",{key:t.codigo+t.id,domProps:{value:t}},[r._v(r._s(t.codigo)+"\n      ")])}),0)]),e("v-td",{attrs:{width:"330",paddinX:"2"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:r.turmaForm.disciplina,expression:"turmaForm.disciplina"}],on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,function(r){return r.selected}).map(function(r){var t="_value"in r?r._value:r.value;return t});r.$set(r.turmaForm,"disciplina",t.target.multiple?e:e[0])},r.handleChangeDisciplina]}},r._l(r.DisciplinasDCCInPerfisOrderedByNome,function(t){return e("option",{key:t.nome+t.id,domProps:{value:t}},[r._v(r._s(t.nome)+"\n      ")])}),0)]),e("v-td",{attrs:{width:"25"}},[r._v(r._s(r.totalCarga))]),e("v-td",{attrs:{width:"45"}},[e("input",{staticClass:"input-letra",attrs:{type:"text"},domProps:{value:r.turmaForm.letra},on:{keypress:r.maskTurmaLetra,input:function(t){r.turmaForm.letra=t.target.value.toUpperCase()}}})]),e("td",{staticStyle:{width:"160px",padding:"0 2px"}},[e("div",{staticClass:"d-flex align-items-center justify-content-start w-100"},[e("div",{staticClass:"d-flex flex-column",staticStyle:{width:"130px"}},[e("select",{directives:[{name:"model",rawName:"v-model.number",value:r.turmaForm.Docente1,expression:"turmaForm.Docente1",modifiers:{number:!0}}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(r){return r.selected}).map(function(t){var e="_value"in t?t._value:t.value;return r._n(e)});r.$set(r.turmaForm,"Docente1",t.target.multiple?e:e[0])}}},[e("option"),r._l(r.DocentesByPreferencia,function(t){return e("option",{key:t.id+t.apelido,domProps:{value:t.id}},[r._v(r._s(t.apelido)+"\n            "+r._s(r.orderByPreferencia&&r.preferenciaDocente(t)?"- "+r.preferenciaDocente(t):"")+"\n          ")])})],2),e("select",{directives:[{name:"model",rawName:"v-model.number",value:r.turmaForm.Docente2,expression:"turmaForm.Docente2",modifiers:{number:!0}}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(r){return r.selected}).map(function(t){var e="_value"in t?t._value:t.value;return r._n(e)});r.$set(r.turmaForm,"Docente2",t.target.multiple?e:e[0])}}},[e("option"),r._l(r.DocentesByPreferencia,function(t){return e("option",{key:t.apelido+t.id,domProps:{value:t.id}},[r._v(r._s(t.apelido)+"\n            "+r._s(r.orderByPreferencia&&r.preferenciaDocente(t)?"- "+r.preferenciaDocente(t):"")+"\n          ")])})],2)]),e("font-awesome-icon",{class:["clickable mx-auto",{"low-opacity":!r.orderByPreferencia}],staticStyle:{"font-size":"12px"},attrs:{icon:["fas","graduation-cap"],title:"Alternar ordenação de docentes por preferência"},on:{click:function(t){r.orderByPreferencia=!r.orderByPreferencia}}})],1)]),e("v-td",{attrs:{width:"80"}},[r.turmaForm.disciplina?e("select",{directives:[{name:"model",rawName:"v-model",value:r.turmaForm.turno1,expression:"turmaForm.turno1"}],on:{input:r.handleChangeTurno,change:function(t){var e=Array.prototype.filter.call(t.target.options,function(r){return r.selected}).map(function(r){var t="_value"in r?r._value:r.value;return t});r.$set(r.turmaForm,"turno1",t.target.multiple?e:e[0])}}},[r.disciplinaIsIntegralEAD?e("option",{attrs:{value:"EAD"}},[r._v("EAD")]):[e("option",{attrs:{value:"Diurno"}},[r._v("Diurno")]),e("option",{attrs:{value:"Noturno"}},[r._v("Noturno")])]],2):r._e()]),e("td",{staticStyle:{width:"85px"}},[r.turmaForm.disciplina?[e("select",{directives:[{name:"model",rawName:"v-model.number",value:r.turmaForm.Horario1,expression:"turmaForm.Horario1",modifiers:{number:!0}}],on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,function(r){return r.selected}).map(function(t){var e="_value"in t?t._value:t.value;return r._n(e)});r.$set(r.turmaForm,"Horario1",t.target.multiple?e:e[0])},function(t){return r.handleChangeHorario(1)}]}},[r.disciplinaIsParcialEAD||r.disciplinaIsIntegralEAD?r._e():e("option"),r._l(r.HorariosFiltredByTurno,function(t){return e("option",{key:"1-horarioEAD-id"+t.id,domProps:{value:t.id}},[r._v(r._s(t.horario))])})],2),r.totalCarga>=4?e("select",{directives:[{name:"model",rawName:"v-model.number",value:r.turmaForm.Horario2,expression:"turmaForm.Horario2",modifiers:{number:!0}}],on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,function(r){return r.selected}).map(function(t){var e="_value"in t?t._value:t.value;return r._n(e)});r.$set(r.turmaForm,"Horario2",t.target.multiple?e:e[0])},function(t){return r.handleChangeHorario(2)}]}},[r.disciplinaIsParcialEAD||r.disciplinaIsIntegralEAD?r._e():e("option"),r.disciplinaIsParcialEAD?r._l(r.HorariosEAD,function(t){return e("option",{key:"2-horarioEAD-id"+t.id,domProps:{value:t.id}},[r._v(r._s(t.horario))])}):r._l(r.HorariosFiltredByTurno,function(t){return e("option",{key:"1-horarioEAD-id"+t.id,domProps:{value:t.id}},[r._v(r._s(t.horario))])})],2):r._e()]:r._e()],2),e("td",{staticStyle:{width:"95px"}},[!r.disciplinaIsIntegralEAD&&r.turmaForm.disciplina?[e("select",{directives:[{name:"model",rawName:"v-model.number",value:r.turmaForm.Sala1,expression:"turmaForm.Sala1",modifiers:{number:!0}}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(r){return r.selected}).map(function(t){var e="_value"in t?t._value:t.value;return r._n(e)});r.$set(r.turmaForm,"Sala1",t.target.multiple?e:e[0])}}},[e("option"),r._l(r.AllSalas,function(t){return e("option",{key:"s1"+t.id,domProps:{value:t.id}},[r._v(r._s(t.nome)+"\n        ")])})],2),r.totalCarga>=4&&2!=r.turmaForm.disciplina.ead?e("select",{directives:[{name:"model",rawName:"v-model.number",value:r.turmaForm.Sala2,expression:"turmaForm.Sala2",modifiers:{number:!0}}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(r){return r.selected}).map(function(t){var e="_value"in t?t._value:t.value;return r._n(e)});r.$set(r.turmaForm,"Sala2",t.target.multiple?e:e[0])}}},[e("option"),r._l(r.AllSalas,function(t){return e("option",{key:"s2"+t.id,domProps:{value:t.id}},[r._v(r._s(t.nome)+"\n        ")])})],2):r._e()]:r._e()],2),e("v-td",{attrs:{width:45+35*r.cursosAtivadosLength}},[e("div",{staticStyle:{height:"43px"}})])],1)},a=[],o=e("e814"),n=e.n(o),s=(e("d25f"),e("7514"),e("96cf"),e("3b8d")),u=(e("759f"),e("cebc")),l=(e("c5f6"),e("2f62")),c=e("eaf8"),m=e("9165"),d={name:"NovaTurmaRow",mixins:[m["i"]],props:{cursosAtivadosLength:Number,default:0},data:function(){return{turmaForm:Object(c["b"])({periodo:1,letra:"A"}),orderByPreferencia:!1}},methods:Object(u["a"])({},Object(l["b"])(["createTurma"]),{handleChangeTurno:function(){this.turmaForm.Horario1=null,this.disciplinaIsParcialEAD||(this.turmaForm.Horario2=null)},handleChangeDisciplina:function(){this.turmaForm.Disciplina=this.turmaForm.disciplina.id,this.turmaForm.Horario1=null,this.turmaForm.Horario2=null,this.turmaForm.turno1=null,null!==this.turmaForm.disciplina&&(this.hasMoreThan4Creditos||(this.turmaForm.Docente2=null,this.turmaForm.Horario2=null,this.turmaForm.Sala2=null),this.disciplinaIsIntegralEAD?(this.turmaForm.turno1="EAD",this.turmaForm.Horario1=31,this.turmaForm.Horario2=31,this.turmaForm.Sala1=null,this.turmaForm.Sala2=null):this.disciplinaIsParcialEAD&&(this.turmaForm.Horario2=31,this.turmaForm.Docente2=null,this.turmaForm.Sala1=null,this.turmaForm.Sala2=null))},handleChangeHorario:function(r){1===r?this.setTurnoByHorario(this.turmaForm.Horario1):this.disciplinaIsParcialEAD||this.setTurnoByHorario(this.turmaForm.Horario2)},setTurnoByHorario:function(r){31==r&&this.disciplinaIsIntegralEAD?this.turmaForm.turno1="EAD":this.$_.some(this.HorariosNoturno,["id",r])?this.turmaForm.turno1="Noturno":this.$_.some(this.HorariosDiurno,["id",r])&&(this.turmaForm.turno1="Diurno")},handleCreateTurma:function(){var r=Object(s["a"])(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,this.setPartialLoading(!0),r.next=4,this.createTurma(this.turmaForm);case 4:r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),this.pushNotification({type:"error",title:"Erro ao criar nova turma!",text:r.t0.response?"A combinação de disciplina, período e turma deve ser única.":r.t0.message});case 9:return r.prev=9,this.setPartialLoading(!1),r.finish(9);case 12:case"end":return r.stop()}},r,this,[[0,6,9,12]])}));function t(){return r.apply(this,arguments)}return t}(),preferenciaDocente:function(r){var t=this.$_.find(this.PreferenciasDisciplina,{Docente:r.id});return!!t&&t.preferencia}}),computed:Object(u["a"])({},Object(l["c"])(["DisciplinasDCCInPerfis","DocentesAtivos","AllHorarios","HorariosEAD","HorariosNoturno","HorariosDiurno","AllSalas","PreferenciaDosDocentes"]),{PreferenciasDisciplina:function(){return this.$_.filter(this.PreferenciaDosDocentes,["Disciplina",this.turmaForm.Disciplina])},DocentesByPreferencia:function(){var r=this;return this.orderByPreferencia?this.$_.orderBy(this.DocentesAtivos,function(t){var e=r.$_.find(r.PreferenciasDisciplina,["Docente",t.id]);return e?e.preferencia:0},"desc"):this.DocentesAtivos},DisciplinasDCCInPerfisOrderedByNome:function(){return this.$_.orderBy(this.DisciplinasDCCInPerfis,["nome"])},HorariosFiltredByTurno:function(){if(this.disciplinaIsIntegralEAD)return this.HorariosEAD;switch(this.turmaForm.turno1){case"Noturno":return this.HorariosNoturno;case"Diurno":return this.HorariosDiurno;case"EAD":return this.HorariosEAD;default:return this.$_.filter(this.AllHorarios,function(r){return 31!=r.id})}},totalCarga:function(){return this.turmaForm.disciplina?n()(this.turmaForm.disciplina.cargaTeorica)+n()(this.turmaForm.disciplina.cargaPratica):""},disciplinaIsIntegralEAD:function(){return!!this.turmaForm.disciplina&&1===this.turmaForm.disciplina.ead},disciplinaIsParcialEAD:function(){return!!this.turmaForm.disciplina&&2===this.turmaForm.disciplina.ead}})},p=d,v=(e("d569"),e("2877")),f=Object(v["a"])(p,i,a,!1,null,"a26978ca",null);t["default"]=f.exports},d569:function(r,t,e){"use strict";var i=e("e04c"),a=e.n(i);a.a},e04c:function(r,t,e){}}]);
//# sourceMappingURL=chunk-1b504e3d.abf4f709.js.map