(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d213768"],{ad7f:function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a._self._c;return e("div",{staticClass:"main-component row"},[e("portal",{attrs:{to:"page-header"}},[e("BaseButton",{attrs:{template:"ajuda"},on:{click:function(e){return a.$refs.modalAjuda.toggle()}}})],1),e("div",{staticClass:"page-content"},[e("div",{staticClass:"div-table"},[e("BaseTable",{scopedSlots:a._u([{key:"thead",fn:function(){return[e("v-th-ordination",{attrs:{currentOrder:a.ordenacaoSalasMain,orderToCheck:"nome",width:"100",align:"start",title:"Nome da Sala"}},[a._v("\n            Nome\n          ")]),e("v-th-ordination",{attrs:{currentOrder:a.ordenacaoSalasMain,orderToCheck:"laboratorio",orderType:"desc",width:"95",align:"start"}},[a._v("\n            Laboratório\n          ")]),e("v-th-ordination",{attrs:{currentOrder:a.ordenacaoSalasMain,orderToCheck:"lotacao_maxima",orderType:"desc",width:"110",title:"Lotação maxima da Sala"}},[a._v("\n            Lotação max.\n          ")])]},proxy:!0},{key:"tbody",fn:function(){return[a._l(a.SalasOrdered,(function(t){return e("tr",{key:t.id,class:["clickable",{"bg-selected":a.salaSelectedId===t.id}],on:{click:function(e){return a.handleClickInSala(t)}}},[e("v-td",{attrs:{width:"100",align:"start"}},[a._v(a._s(t.nome))]),e("v-td",{attrs:{width:"95"}},[a._v(a._s(a.booleanToText(t.laboratorio)))]),e("v-td",{attrs:{width:"110"}},[a._v(a._s(t.lotacao_maxima))])],1)})),a.SalasOrdered.length?a._e():e("tr",[e("v-td",{attrs:{width:"290",colspan:"3"}},[e("b",[a._v("Nenhuma sala encontrada")])])],1)]},proxy:!0}])})],1),e("Card",{attrs:{title:"Sala",width:"320",toggleFooter:a.isEditing},on:{"btn-salvar":a.handleUpdateSala,"btn-delete":function(e){return a.$refs.modalDelete.open()},"btn-add":a.handleCreateSala,"btn-clean":a.clearSalaForm},scopedSlots:a._u([{key:"body",fn:function(){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col-7"},[e("VInput",{attrs:{label:"Nome",validation:a.$v.salaForm.nome},model:{value:a.salaForm.nome,callback:function(e){a.$set(a.salaForm,"nome",e)},expression:"salaForm.nome"}})],1),e("div",{staticClass:"col"},[e("VInput",{attrs:{label:"Lotação Máx.",inputType:"number",validation:a.$v.salaForm.lotacao_maxima},model:{value:a.salaForm.lotacao_maxima,callback:function(e){a.$set(a.salaForm,"lotacao_maxima",a._n(e))},expression:"salaForm.lotacao_maxima"}})],1)]),e("VCheckbox",{attrs:{label:"Laboratório",validation:a.$v.salaForm.laboratorio},model:{value:a.salaForm.laboratorio,callback:function(e){a.$set(a.salaForm,"laboratorio",a._n(e))},expression:"salaForm.laboratorio"}})]},proxy:!0}])})],1),e("ModalDelete",{ref:"modalDelete",attrs:{isDeleting:a.isEditing},on:{"btn-deletar":a.handleDeleteSala}},[e("li",{staticClass:"list-group-item"},[a.isEditing?e("span",[a._v("\n        Tem certeza que deseja excluír a sala\n        "),e("b",[a._v(a._s(a.salaForm.nome))]),a._v("\n        ?\n      ")]):e("span",[a._v("Nenhuma sala selecionada.")])])]),e("ModalAjuda",{ref:"modalAjuda"},[e("li",{staticClass:"list-group-item"},[e("b",[a._v("Adicionar sala:")]),a._v("\n      Preencha o cartão em branco à direita e em seguida, clique em Adicionar\n      "),e("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","plus"]}}),a._v("\n      .\n    ")],1),e("li",{staticClass:"list-group-item"},[e("b",[a._v("Editar sala:")]),a._v("\n      Clique na linha da tabela da sala que deseja alterar. Em seguida, no cartão à direita,\n      altere as informações que desejar e clique em Salvar\n      "),e("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","check"]}}),a._v("\n      .\n    ")],1),e("li",{staticClass:"list-group-item"},[e("b",[a._v("Deletar sala:")]),a._v("\n      Clique na linha da tabela da sala que deseja remover. Em seguida, no cartão à direita,\n      clique em Remover\n      "),e("font-awesome-icon",{staticClass:"icon-red",attrs:{icon:["fas","trash-alt"]}}),a._v("\n      e confirme a remoção na janela que será aberta.\n    ")],1),e("li",{staticClass:"list-group-item"},[e("b",[a._v("Limpar formulário:")]),a._v("\n      No cartão à direita, clique em Cancelar\n      "),e("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","times"]}}),a._v("\n      , para limpar as informações.\n    ")],1)])],1)},n=[],o=(t("8e6e"),t("ac6a"),t("456d"),t("a481"),t("96cf"),t("1da1")),i=t("ade3"),s=t("2f62"),l=t("d4b9"),c=t("b5ae"),u=t("2746"),d=t("eaf8"),m=t("a91e"),p=t("25df"),h=t("d027");function v(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,r)}return t}function f(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?v(Object(t),!0).forEach((function(e){Object(i["a"])(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}var b={name:"GeneriarSalas",components:{Card:p["b"],ModalAjuda:h["a"],ModalDelete:h["b"],VInput:p["h"],VCheckbox:p["g"]},data:function(){return{salaSelectedId:null,salaForm:Object(m["h"])(),ordenacaoSalasMain:{order:"nome",type:"asc"}}},validations:{salaForm:{nome:{required:c["required"]},laboratorio:{required:c["required"],integer:c["integer"]},lotacao_maxima:{required:c["required"],integer:c["integer"],minValue:Object(c["minValue"])(0)}}},methods:{booleanToText:d["a"],handleClickInSala:function(a){this.salaSelectedId=a.id,this.salaForm=f({},a)},clearSalaForm:function(){var a=this;this.salaSelectedId=null,this.salaForm=Object(m["h"])(),this.$nextTick((function(){return a.$v.$reset()}))},handleCreateSala:function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(){var e,t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(this.$v.salaForm.$touch(),!this.$v.salaForm.$anyError){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,this.setLoading({type:"partial",value:!0}),a.next=7,u["a"].create(this.salaForm);case 7:e=a.sent,this.clearSalaForm(),this.pushNotification({type:"success",text:"A Sala ".concat(e.Sala.nome," foi criada!")}),a.next=17;break;case 12:a.prev=12,a.t0=a["catch"](3),t="",a.t0.response.data.fullMessage&&(t+=a.t0.response.data.fullMessage.replace("\n","<br/>")),this.pushNotification({type:"error",title:"Erro ao criar sala",text:t});case 17:return a.prev=17,this.setLoading({type:"partial",value:!1}),a.finish(17);case 20:case"end":return a.stop()}}),a,this,[[3,12,17,20]])})));function e(){return a.apply(this,arguments)}return e}(),handleUpdateSala:function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(){var e,t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(this.$v.salaForm.$touch(),!this.$v.salaForm.$anyError){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,this.setLoading({type:"partial",value:!0}),a.next=7,u["a"].update(this.salaForm.id,this.salaForm);case 7:e=a.sent,this.pushNotification({type:"success",text:"A Sala ".concat(e.Sala.nome," foi atualizada!")}),a.next=16;break;case 11:a.prev=11,a.t0=a["catch"](3),t="",a.t0.response.data.fullMessage&&(t+="<br/>"+a.t0.response.data.fullMessage.replace("\n","<br/>")),this.pushNotification({type:"error",title:"Erro ao atualizar sala",text:t});case 16:return a.prev=16,this.setLoading({type:"partial",value:!1}),a.finish(16);case 19:case"end":return a.stop()}}),a,this,[[3,11,16,19]])})));function e(){return a.apply(this,arguments)}return e}(),handleDeleteSala:function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,this.setLoading({type:"partial",value:!0}),a.next=4,u["a"].delete(this.salaForm.id,this.salaForm);case 4:e=a.sent,this.clearSalaForm(),this.pushNotification({type:"success",text:"A Sala ".concat(e.Sala.nome," foi excluída!")}),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),this.pushNotification({type:"error",text:"Erro ao excluir Sala"});case 12:return a.prev=12,this.setLoading({type:"partial",value:!1}),a.finish(12);case 15:case"end":return a.stop()}}),a,this,[[0,9,12,15]])})));function e(){return a.apply(this,arguments)}return e}()},computed:f(f({},Object(s["c"])(["AllSalas"])),{},{SalasOrdered:function(){return Object(l["a"])(this.AllSalas,this.ordenacaoSalasMain.order,this.ordenacaoSalasMain.type)},isEditing:function(){return null!=this.salaForm.id}})},g=b,y=t("2877"),S=Object(y["a"])(g,r,n,!1,null,null,null);e["default"]=S.exports}}]);
//# sourceMappingURL=chunk-2d213768.a6a1725d.js.map