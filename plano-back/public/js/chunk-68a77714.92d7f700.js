(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68a77714"],{"123c":function(e,t,r){"use strict";r("b261")},"22a5":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-component"},[r("portal",{attrs:{to:"page-header"}},[r("BaseButton",{attrs:{template:"ajuda"},on:{click:function(t){return e.$refs.modalAjuda.toggle()}}})],1),r("div",{staticClass:"page-content"},[r("div",{staticClass:"div-table"},[r("BaseTable",{scopedSlots:e._u([{key:"thead",fn:function(){return[r("v-th-ordination",{attrs:{currentOrder:e.ordenacaoMainUsers,orderToCheck:"nome",width:"150",align:"start"}},[e._v("\n            Nome\n          ")]),r("v-th-ordination",{attrs:{currentOrder:e.ordenacaoMainUsers,orderToCheck:"login",width:"120",align:"start"}},[e._v("\n            Login\n          ")]),r("v-th-ordination",{attrs:{currentOrder:e.ordenacaoMainUsers,orderToCheck:"admin",orderType:"desc",width:"90",align:"start"}},[e._v("\n            Tipo\n          ")])]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.UsersOrdered,(function(t){return r("tr",{key:t.id,class:{"bg-selected":t.id===e.userSelected},on:{click:function(r){return e.handleClickInUser(t)}}},[r("v-td",{attrs:{width:"150",align:"start"}},[e._v(e._s(t.nome))]),r("v-td",{attrs:{width:"120",align:"start"}},[e._v(e._s(t.login))]),r("v-td",{attrs:{width:"90",align:"start"}},[e._v(e._s(e.adminText(t.admin)))])],1)})),e.UsersOrdered.length?e._e():r("tr",[r("v-td",{attrs:{width:"360",colspan:"3"}},[r("b",[e._v("Nenhum usuário encontrado")])])],1)]},proxy:!0}])})],1),r("Card",{attrs:{title:"Usuário",toggleFooter:e.isEditing},on:{"btn-salvar":e.editUser,"btn-delete":e.openModalDelete,"btn-add":e.createUser,"btn-clean":e.cleanUser},scopedSlots:e._u([{key:"form-group",fn:function(){return[r("div",{staticClass:"row mb-2 mx-0"},[r("div",{staticClass:"form-group col m-0 px-0"},[r("label",{attrs:{required:"",for:"userNome"}},[e._v("Nome")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.nome,expression:"userForm.nome"}],staticClass:"form-control",attrs:{type:"text",id:"userNome"},domProps:{value:e.userForm.nome},on:{input:function(t){t.target.composing||e.$set(e.userForm,"nome",t.target.value)}}})])]),r("div",{staticClass:"row mb-2 mx-0"},[r("div",{staticClass:"form-group col m-0 px-0"},[r("label",{attrs:{required:"",for:"login"}},[e._v("Login")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.login,expression:"userForm.login"}],staticClass:"form-control",attrs:{type:"text",id:"login"},domProps:{value:e.userForm.login},on:{input:function(t){t.target.composing||e.$set(e.userForm,"login",t.target.value)}}})])]),e.isEditing?e.isEditing?[r("ButtonSlideSection",{attrs:{isOpen:e.isEditingSenha},on:{"handel-click":e.toggleEditSenha}}),r("transition-group",{attrs:{name:"slideY",mode:"out-in"}},[e.isEditingSenha?[r("div",{key:"senha",staticClass:"row mb-2 mx-0"},[r("div",{staticClass:"form-group col m-0 px-0"},[r("label",{attrs:{required:"",for:"novaSenha"}},[e._v("Nova senha")]),r("InputPassword",{attrs:{iconSize:13,inputId:"novaSenha"},model:{value:e.novaSenha,callback:function(t){e.novaSenha=t},expression:"novaSenha"}})],1)]),r("div",{key:"confirma",staticClass:"row mb-2 mx-0"},[r("div",{staticClass:"form-group col m-0 px-0"},[r("label",{attrs:{required:"",for:"confirmaSenha"}},[e._v("Confirmar nova senha")]),r("InputPassword",{attrs:{iconSize:13,isInvalid:e.confirmaSenha!=e.novaSenha,inputId:"confirmaSenha"},model:{value:e.confirmaSenha,callback:function(t){e.confirmaSenha=t},expression:"confirmaSenha"}})],1)])]:e._e()],2)]:e._e():[r("div",{staticClass:"row mb-2 mx-0"},[r("div",{staticClass:"form-group col m-0 px-0"},[r("label",{attrs:{required:"",for:"novaSenha"}},[e._v("Senha")]),r("InputPassword",{attrs:{iconSize:13,inputId:"novaSenha"},model:{value:e.userForm.senha,callback:function(t){e.$set(e.userForm,"senha",t)},expression:"userForm.senha"}})],1)]),r("div",{staticClass:"row mb-2 mx-0"},[r("div",{staticClass:"form-group col m-0 px-0"},[r("label",{attrs:{required:"",for:"confirmaSenha"}},[e._v("Confirmar senha")]),r("InputPassword",{attrs:{iconSize:13,isInvalid:e.confirmaSenha!=e.userForm.senha,inputId:"confirmaSenha"},model:{value:e.confirmaSenha,callback:function(t){e.confirmaSenha=t},expression:"confirmaSenha"}})],1)])],r("div",{staticClass:"row mb-2 mx-0"},[r("div",{staticClass:"form-group col m-0 px-0"},[r("label",{attrs:{for:"userAdmin"}},[e._v("Tipo")]),r("select",{directives:[{name:"model",rawName:"v-model.number",value:e.userForm.admin,expression:"userForm.admin",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"userAdmin"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var r="_value"in t?t._value:t.value;return e._n(r)}));e.$set(e.userForm,"admin",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"0"}},[e._v("Consulta")]),r("option",{attrs:{value:"1"}},[e._v("Comissão")]),r("option",{attrs:{value:"2"}},[e._v("Administrador")])])])])]},proxy:!0}])})],1),r("ModalDelete",{ref:"modalDelete",attrs:{isDeleting:e.isEditing},on:{"btn-deletar":e.deleteUser}},[r("li",{staticClass:"list-group-item"},[r("span",[e.isEditing?[e._v("\n          Tem certeza que deseja excluír o usuário\n          "),r("b",[e._v(e._s(e.userForm.nome))]),e._v("\n          ?\n        ")]:[e._v("\n          Nenhum usuário selecionado!\n        ")]],2)])]),r("ModalAjuda",{ref:"modalAjuda"},[r("li",{staticClass:"list-group-item"},[r("b",[e._v("Adicionar:")]),e._v("\n      Preencha o cartão em branco à direita e em seguida, clique em Adicionar\n      "),r("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","plus"]}}),e._v("\n      .\n    ")],1),r("li",{staticClass:"list-group-item"},[r("b",[e._v("Editar:")]),e._v("\n      Clique na linha da tabela do usuário que deseja alterar. Em seguida, no cartão à\n      direita, altere as informações que desejar e clique em Salvar\n      "),r("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","check"]}}),e._v("\n      .\n    ")],1),r("li",{staticClass:"list-group-item"},[r("b",[e._v("Deletar:")]),e._v("\n      Clique na linha da tabela do usuário que deseja remover. Em seguida, no cartão à\n      direita, clique em Remover\n      "),r("font-awesome-icon",{staticClass:"icon-red",attrs:{icon:["fas","trash-alt"]}}),e._v("\n      e confirme a remoção na janela que será aberta.\n    ")],1),r("li",{staticClass:"list-group-item"},[r("b",[e._v("Limpar:")]),e._v("\n      No cartão à direita, clique em Cancelar\n      "),r("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","times"]}}),e._v("\n      , para limpar as informações.\n    ")],1),r("li",{staticClass:"list-group-item"},[r("b",[e._v("Ordenar:")]),e._v("\n      Clique no cabeçalho da tabela, na coluna desejada, para alterar a ordenação das\n      informações.\n    ")])])],1)},n=[],i=(r("1c01"),r("58b2"),r("8e6e"),r("d25f"),r("456d"),r("ade3")),s=(r("f3e2"),r("96cf"),r("1da1")),o=(r("ac6a"),r("ffc1"),r("f9f3")),c=r("758b"),u=r("d4b9"),l=r("25df"),d=r("d027");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={nome:"",login:"",senha:"",admin:0},f={name:"Usuarios",components:{Card:l["b"],InputPassword:l["c"],ButtonSlideSection:l["a"],ModalDelete:d["b"],ModalAjuda:d["a"]},data:function(){return{userSelected:null,isEditingSenha:!1,userForm:Object(c["a"])(p),novaSenha:"",confirmaSenha:"",ordenacaoMainUsers:{order:"nome",type:"asc"}}},methods:{adminText:function(e){return 0===e?"Consulta":1===e?"Comissão":2===e?"Administrador":void 0},toggleEditSenha:function(){this.isEditingSenha=!this.isEditingSenha,this.novaSenha="",this.confirmaSenha=""},handleClickInUser:function(e){this.cleanUser(),this.userSelected=e.id,this.showUser(e)},showUser:function(e){this.userForm=Object(c["a"])(e)},cleanUser:function(){this.userSelected=null,this.confirmaSenha="",this.isEditingSenha=!1,this.userForm=Object(c["a"])(p)},openModalDelete:function(){this.$refs.modalDelete.open()},validateEditUser:function(e){return(!this.isEditingSenha||this.confirmaSenha===this.novaSenha)&&this.validateUser(e)},validateUser:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var a=r[t];if((""===a[1]||null===a[1])&&"senha"!==a[0])return!1}return!0},createUser:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(c["a"])(this.userForm),this.validateUser(t)){e.next=4;break}return this.pushNotification({type:"error",text:"Campos obrigátorios incompletos ou inválidos."}),e.abrupt("return");case 4:return e.prev=4,e.next=7,o["a"].create(t);case 7:this.pushNotification({type:"success",text:"Usuário criado."}),this.cleanUser(),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),this.pushNotification({type:"error",text:e.t0});case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));function t(){return e.apply(this,arguments)}return t}(),editUser:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(c["a"])(this.userForm),t.senha=this.novaSenha,this.validateEditUser(t)){e.next=5;break}return this.pushNotification({type:"error",text:"Campos obrigátorios incompletos ou inválidos."}),e.abrupt("return");case 5:return e.prev=5,e.next=8,o["a"].updateSuper(t.id,t);case 8:this.pushNotification({type:"success",text:"Usuário atualizado."}),this.novaSenha="",this.confirmaSenha="",e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),this.pushNotification({type:"error",text:"Login ou senha inválida"});case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));function t(){return e.apply(this,arguments)}return t}(),deleteUser:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(c["a"])(this.userForm),e.prev=1,e.next=4,o["a"].delete(t.id,t);case 4:this.pushNotification({type:"success",text:"Usuário ".concat(t.nome," foi removido.")}),this.cleanUser(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.pushNotification({type:"error",text:e.t0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},computed:{Users:function(){var e=[];return this.$store.state.usuario.Usuarios.forEach((function(t){e.push(h(h({},t),{},{senha:""}))})),e},UsersOrdered:function(){var e=this.ordenacaoMainUsers,t=e.order,r=e.type,a=function(e){switch(t){case"nome":case"login":return e[t].toLowerCase();default:return e[t]}};return Object(u["a"])(this.Users,a,r)},isEditing:function(){return null!=this.userSelected}}},v=f,g=(r("123c"),r("2877")),b=Object(g["a"])(v,a,n,!1,null,"33716a38",null);t["default"]=b.exports},b261:function(e,t,r){},ffc1:function(e,t,r){var a=r("5ca1"),n=r("504c")(!0);a(a.S,"Object",{entries:function(e){return n(e)}})}}]);
//# sourceMappingURL=chunk-68a77714.92d7f700.js.map