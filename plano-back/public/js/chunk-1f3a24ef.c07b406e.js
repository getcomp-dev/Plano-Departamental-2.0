(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f3a24ef"],{"0bbd":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-component row"},[a("PageHeader",{attrs:{title:"Logs"}},[a("BaseButton",{attrs:{template:"filtros"},on:{click:function(t){return e.toggleAsideModal("filtros")}}}),a("BaseButton",{attrs:{template:"ajuda"},on:{click:function(t){return e.toggleAsideModal("ajuda")}}})],1),a("div",{staticClass:"div-table"},[a("BaseTable",{scopedSlots:e._u([{key:"thead",fn:function(){return[a("v-th",{attrs:{width:"110"}},[e._v("Tabela Modificada")]),a("v-th",{attrs:{width:"120"}},[e._v("Campo Modificado")]),a("v-th",{attrs:{width:"200"}},[e._v("Linha Modificada")]),a("v-th",{attrs:{width:"120"}},[e._v("Valor Anterior")]),a("v-th",{attrs:{width:"120"}},[e._v("Novo Valor")]),a("v-th",{attrs:{width:"65"}},[e._v("Operação")]),a("v-th",{attrs:{width:"80"}},[e._v("Usuário")]),a("v-th",{attrs:{width:"160"}},[e._v("Data")])]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.HistoryOrdered,(function(t){return a("tr",{key:t.id},[a("v-td",{attrs:{width:"110"}},[e._v(e._s(t.tabelaModificada))]),a("v-td",{attrs:{width:"120",paddingX:"0"}},[e._v("\n            "+e._s(t.campoModificado)+"\n          ")]),a("v-td",{attrs:{width:"200",paddingX:"0"}},[e._v("\n            "+e._s(e.linhaModificada(t))+"\n          ")]),a("v-td",{attrs:{width:"120",paddingX:"0"}},[e._v("\n            "+e._s(e.valorAnterior(t))+"\n          ")]),a("v-td",{attrs:{width:"120",paddingX:"0"}},[e._v("\n            "+e._s(e.valorNovo(t))+"\n          ")]),a("v-td",{attrs:{width:"65",paddingX:"0"}},[e._v("\n            "+e._s(t.tipoOperacao)+"\n          ")]),a("v-td",{attrs:{width:"80",paddingX:"0"}},[e._v("\n            "+e._s(t.usuario)+"\n          ")]),a("v-td",{attrs:{width:"160",paddingX:"0"}},[e._v("\n            "+e._s(e._f("convertDateUTC")(t.createdAt))+"\n          ")])],1)})),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.HistoryOrdered.length,expression:"!HistoryOrdered.length"}]},[a("v-td",{attrs:{width:"975",colspan:"8"}},[a("b",[e._v("Nenhuma operação encontrada.")]),e._v("\n            Clique no botão de filtros\n            "),a("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),e._v("\n            para selecioná-las.\n          ")],1)],1)]},proxy:!0}])})],1),a("ModalFiltros",{ref:"modalFiltros",attrs:{callbacks:e.modalFiltrosCallbacks,tabsOptions:e.modalFiltrosTabs}},[a("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Tabelas"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Tabelas'"}],attrs:{type:"modal"},scopedSlots:e._u([{key:"thead",fn:function(){return[a("v-th",{attrs:{width:"25"}}),a("v-th",{attrs:{width:"425",align:"start"}},[e._v("Nome")])]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.TabelasOptions,(function(t){return a("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:t.id+t.nome,on:{click:function(a){return e.toggleItemInArray(t,e.filtroTabelas.selecionados)}}},[a("v-td",{attrs:{width:"25",type:"content"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroTabelas.selecionados,expression:"filtroTabelas.selecionados"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.filtroTabelas.selecionados)?e._i(e.filtroTabelas.selecionados,t)>-1:e.filtroTabelas.selecionados},on:{change:function(a){var o=e.filtroTabelas.selecionados,i=a.target,s=!!i.checked;if(Array.isArray(o)){var r=t,n=e._i(o,r);i.checked?n<0&&e.$set(e.filtroTabelas,"selecionados",o.concat([r])):n>-1&&e.$set(e.filtroTabelas,"selecionados",o.slice(0,n).concat(o.slice(n+1)))}else e.$set(e.filtroTabelas,"selecionados",s)}}})]),a("v-td",{attrs:{width:"425",align:"start"}},[e._v(e._s(t.nome))])],1)}))},proxy:!0}])}),a("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Operações"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Operações'"}],attrs:{type:"modal"},scopedSlots:e._u([{key:"thead",fn:function(){return[a("v-th",{attrs:{width:"25"}}),a("v-th",{attrs:{width:"425",align:"start"}},[e._v("Tipo")])]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.OperacoesOptions,(function(t){return a("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:t.id+t.nome,on:{click:function(a){return e.toggleItemInArray(t,e.filtroOperacoes.selecionados)}}},[a("v-td",{attrs:{width:"25",type:"content"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroOperacoes.selecionados,expression:"filtroOperacoes.selecionados"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.filtroOperacoes.selecionados)?e._i(e.filtroOperacoes.selecionados,t)>-1:e.filtroOperacoes.selecionados},on:{change:function(a){var o=e.filtroOperacoes.selecionados,i=a.target,s=!!i.checked;if(Array.isArray(o)){var r=t,n=e._i(o,r);i.checked?n<0&&e.$set(e.filtroOperacoes,"selecionados",o.concat([r])):n>-1&&e.$set(e.filtroOperacoes,"selecionados",o.slice(0,n).concat(o.slice(n+1)))}else e.$set(e.filtroOperacoes,"selecionados",s)}}})]),a("v-td",{attrs:{width:"425",align:"start"}},[e._v(e._s(t.nome))])],1)}))},proxy:!0}])})],1),a("ModalAjuda",{ref:"modalAjuda"},[a("li",{staticClass:"list-group-item"},[a("b",[e._v("Visualizar conteúdo:")]),e._v("\n      Clique no ícone de filtros\n      "),a("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),e._v("\n      no cabeçalho da página e, na janela que se abrirá, utilize as abas para navegar\n      entre os tipos de filtro disponíveis. Marque quais informações deseja visualizar,\n      e para finalizar clique no botão OK.\n    ")],1)])],1)},i=[],s=(a("1c01"),a("58b2"),a("8e6e"),a("f3e2"),a("ac6a"),a("456d"),a("759f"),a("d25f"),a("ade3")),r=(a("7514"),a("28a5"),a("2909")),n=a("9165"),c=a("d027"),d=a("2f62");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={name:"DashboardHistory",mixins:[n["n"],n["m"],n["c"],n["l"]],components:{ModalFiltros:c["f"],ModalAjuda:c["a"]},data:function(){var e=this;return{asideModalsRefs:["modalFiltros","modalAjuda"],filtroOperacoes:{ativados:[],selecionados:[]},filtroTabelas:{ativados:[],selecionados:[]},modalFiltrosTabs:{current:"Tabelas",array:["Tabelas","Operações"]},modalFiltrosCallbacks:{selectNone:{Tabelas:function(){e.filtroTabelas.selecionados=[]},Operacoes:function(){e.filtroOperacoes.selecionados=[]}},selectAll:{Tabelas:function(){e.filtroTabelas.selecionados=Object(r["a"])(e.TabelasOptions)},Operacoes:function(){e.filtroOperacoes.selecionados=Object(r["a"])(e.OperacoesOptions)}},btnOk:function(){e.filtroTabelas.ativados=Object(r["a"])(e.filtroTabelas.selecionados),e.filtroOperacoes.ativados=Object(r["a"])(e.filtroOperacoes.selecionados)}}}},beforeMount:function(){this.modalFiltrosCallbacks.selectAll.Operacoes()},methods:{linhaModificada:function(e){var t=e.linhaModificada,a=void 0;switch(e.tabelaModificada){case"CargaPos":if("Delete"===e.tipoOperacao){a=t.split("/");var o=this.$_.find(this.$store.state.docente.Docentes,{id:parseInt(a[2])});t=void 0===o?"".concat(a[0],"/").concat(a[1],"/").concat(a[2]):"".concat(a[0],"/").concat(a[1],"/").concat(o.apelido)}break;case"DisciplinaGrade":a=t.split("/");var i=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:parseInt(a[1])}),s=this.$_.find(this.$store.state.grade.Grades,{id:parseInt(a[2])}),r=void 0===s?void 0:this.$_.find(this.$store.state.curso.Cursos,{id:s.Curso});t="".concat(void 0===s?a[2]:(void 0===r?"Curso Excluído":r.codigo)+" - "+s.nome,"/").concat(void 0===i?a[1]:i.codigo,"/").concat(a[0]);break;case"DocentePerfil":a=t.split("/");var n=this.$_.find(this.$store.state.docente.Docentes,{id:parseInt(a[1])}),c=this.$_.find(this.$store.state.perfil.Perfis,{id:parseInt(a[0])});t="".concat(void 0===n?a[1]:n.nome,"/").concat(void 0===c?a[0]:c.nome);break;case"Grade":a=t.split("/");var d=this.$_.find(this.$store.state.curso.Cursos,{id:parseInt(a[0])});t="".concat(void 0===d?a[0]:d.codigo," - ").concat(a[1]);break;case"Pedido":a=t.split("/");var l=this.$_.find(this.$store.state.turma.Turmas,{id:parseInt(a[0])}),v=void 0===l?void 0:this.$_.find(this.$store.state.disciplina.Disciplinas,{id:l.Disciplina}),u=this.$_.find(this.$store.state.curso.Cursos,{id:parseInt(a[1])});t="".concat(void 0===l?a[0]:null===l.Disciplina?"Turma Excluída":v.codigo+" "+l.letra,"/").concat(void 0===u?a[1]:u.codigo);break;case"PedidoExterno":a=t.split("/");var p=this.$_.find(this.$store.state.turmaExterna.Turmas,{id:parseInt(a[0])}),f=void 0===p?void 0:this.$_.find(this.$store.state.disciplina.Disciplinas,{id:p.Disciplina}),h=this.$_.find(this.$store.state.curso.Cursos,{id:parseInt(a[1])});t="".concat(void 0===p?a[0]:f.codigo+" "+p.letra,"/").concat(void 0===h?a[1]:h.codigo);break;case"Turma":a=t.split("/");var b=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:parseInt(a[1])});t="".concat(void 0===b?a[1]:b.codigo,"/").concat(a[0]);break;case"TurmaExterna":a=t.split("/");var m=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:parseInt(a[1])});t="".concat(void 0===m?a[1]:m.codigo,"/").concat(a[0]);break}return t},valorAnterior:function(e){var t=e.valorAnterior;switch(e.campoModificado){case"Curso":t=this.$_.find(this.$store.state.curso.Cursos,{id:parseInt(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.codigo;break;case"Disciplina":t=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:parseInt(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.codigo;break;case"Docente":case"Docente1":case"Docente2":t=this.$_.find(this.$store.state.docente.Docentes,{id:parseInt(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.apelido;break;case"Grade":if(t=this.$_.find(this.$store.state.grade.Grades,{id:parseInt(e.valorAnterior)}),void 0===t)t=e.valorAnterior;else{var a=this.$_.find(this.$store.state.curso.Cursos,{id:parseInt(t.Curso)});t="".concat(void 0===a?t.Curso:a.codigo,"/").concat(t.nome)}break;case"Horario":case"Horario1":case"Horario2":t=this.$_.find(this.$store.state.horario.Horarios,{id:parseInt(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.horario;break;case"Perfil":t=this.$_.find(this.$store.state.perfil.Perfis,{id:parseInt(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.nome;break;case"Sala":case"Sala1":case"Sala2":t=this.$_.find(this.$store.state.sala.Salas,{id:parseInt(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.nome;break}return t},valorNovo:function(e){var t=e.valorNovo;switch(e.campoModificado){case"Curso":t=this.$_.find(this.$store.state.curso.Cursos,{id:parseInt(e.valorNovo)}),t=void 0===t?e.valorNovo:t.codigo;break;case"Disciplina":t=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:parseInt(e.valorNovo)}),t=void 0===t?e.valorNovo:t.codigo;break;case"Docente":case"Docente1":case"Docente2":t=this.$_.find(this.$store.state.docente.Docentes,{id:parseInt(e.valorNovo)}),t=void 0===t?e.valorNovo:t.apelido;break;case"Grade":if(t=this.$_.find(this.$store.state.grade.Grades,{id:parseInt(e.valorNovo)}),void 0===t)t=e.valorNovo;else{var a=this.$_.find(this.$store.state.curso.Cursos,{id:parseInt(t.Curso)});t="".concat(void 0===a?t.Curso:a.codigo,"/").concat(t.nome)}break;case"Horario":case"Horario1":case"Horario2":t=this.$_.find(this.$store.state.horario.Horarios,{id:parseInt(e.valorNovo)}),t=void 0===t?e.valorNovo:t.horario;break;case"Perfil":t=this.$_.find(this.$store.state.perfil.Perfis,{id:parseInt(e.valorNovo)}),t=void 0===t?e.valorNovo:t.nome;break;case"Sala":case"Sala1":case"Sala2":t=this.$_.find(this.$store.state.sala.Salas,{id:parseInt(e.valorNovo)}),t=void 0===t?e.valorNovo:t.nome;break}return t}},computed:v(v({},Object(d["c"])(["onLoading","History"])),{},{HistoryOrdered:function(){return this.$_.orderBy(this.HistoryFilteredByOperacao,"id","desc")},HistoryFilteredByOperacao:function(){var e=this;return this.$_.filter(this.HistoryFilteredByTabelas,(function(t){return e.$_.some(e.filtroOperacoes.ativados,["id",t.tipoOperacao])}))},HistoryFilteredByTabelas:function(){var e=this;return this.$_.filter(this.History,(function(t){return e.$_.some(e.filtroTabelas.ativados,["id",t.tabelaModificada])}))},OperacoesOptions:function(){return[{nome:"Criação",id:"Create"},{nome:"Exclusão",id:"Delete"},{nome:"Edição",id:"Edit"}]},TabelasOptions:function(){return[{nome:"CARGA PÓS",id:"CargaPos"},{nome:"CURSO",id:"Curso"},{nome:"DISCIPLINA",id:"Disciplina"},{nome:"DISCIPLINA GRADE",id:"DisciplinaGrade"},{nome:"DOCENTE",id:"Docente"},{nome:"DOCENTE PERFIL",id:"DocentePerfil"},{nome:"GRADE",id:"Grade"},{nome:"PEDIDO",id:"Pedido"},{nome:"PEDIDO EXTERNO",id:"PedidoExterno"},{nome:"PERFIL",id:"Perfil"},{nome:"PLANO",id:"Plano"},{nome:"SALA",id:"Sala"},{nome:"TURMA",id:"Turma"},{nome:"TURMA EXTERNA",id:"TurmaExterna"}]}})},p=u,f=a("2877"),h=Object(f["a"])(p,o,i,!1,null,null,null);t["default"]=h.exports},"28a5":function(e,t,a){"use strict";var o=a("aae3"),i=a("cb7c"),s=a("ebd6"),r=a("0390"),n=a("9def"),c=a("5f1b"),d=a("520a"),l=a("79e5"),v=Math.min,u=[].push,p="split",f="length",h="lastIndex",b=4294967295,m=!l((function(){RegExp(b,"y")}));a("214f")("split",2,(function(e,t,a,l){var _;return _="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[f]||2!="ab"[p](/(?:ab)*/)[f]||4!="."[p](/(.?)(.?)/)[f]||"."[p](/()()/)[f]>1||""[p](/.?/)[f]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!o(e))return a.call(i,e,t);var s,r,n,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,p=void 0===t?b:t>>>0,m=new RegExp(e.source,l+"g");while(s=d.call(m,i)){if(r=m[h],r>v&&(c.push(i.slice(v,s.index)),s[f]>1&&s.index<i[f]&&u.apply(c,s.slice(1)),n=s[0][f],v=r,c[f]>=p))break;m[h]===s.index&&m[h]++}return v===i[f]?!n&&m.test("")||c.push(""):c.push(i.slice(v)),c[f]>p?c.slice(0,p):c}:"0"[p](void 0,0)[f]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,o){var i=e(this),s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,i,o):_.call(String(i),a,o)},function(e,t){var o=l(_,e,this,t,_!==a);if(o.done)return o.value;var d=i(e),u=String(this),p=s(d,RegExp),f=d.unicode,h=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),g=new p(m?d:"^(?:"+d.source+")",h),O=void 0===t?b:t>>>0;if(0===O)return[];if(0===u.length)return null===c(g,u)?[u]:[];var $=0,y=0,w=[];while(y<u.length){g.lastIndex=m?y:0;var k,T=c(g,m?u:u.slice(y));if(null===T||(k=v(n(g.lastIndex+(m?0:y)),u.length))===$)y=r(u,y,f);else{if(w.push(u.slice($,y)),w.length===O)return w;for(var A=1;A<=T.length-1;A++)if(w.push(T[A]),w.length===O)return w;y=$=k}}return w.push(u.slice($)),w}]}))}}]);
//# sourceMappingURL=chunk-1f3a24ef.c07b406e.js.map