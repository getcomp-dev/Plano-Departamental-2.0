(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29131a83"],{"39a3":function(t,e,r){},"59a8":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main-component row"},[r("PageHeader",{attrs:{title:"Cursos"}},[r("BaseButton",{attrs:{template:"ajuda"},on:{click:function(e){return t.$refs.modalAjuda.toggle()}}})],1),r("div",{staticClass:"page-content"},[r("div",{staticClass:"div-table"},[r("BaseTable",{scopedSlots:t._u([{key:"thead",fn:function(){return[r("v-th-ordination",{attrs:{currentOrder:t.ordenacaoCursos,orderToCheck:"codigo",width:"65",align:"start"}},[t._v("\n            Código\n          ")]),r("v-th-ordination",{attrs:{currentOrder:t.ordenacaoCursos,orderToCheck:"nome",width:"300",align:"start"}},[t._v("\n            Nome\n          ")]),r("v-th-ordination",{attrs:{currentOrder:t.ordenacaoCursos,orderToCheck:"turno",width:"65"}},[t._v("\n            Turno\n          ")]),r("v-th-ordination",{attrs:{currentOrder:t.ordenacaoCursos,orderToCheck:"alunosEntrada",orderType:"desc",width:"75",paddingX:"0",title:"Entrada de alunos 1º período"}},[t._v("\n            1º Período\n          ")]),r("v-th-ordination",{attrs:{currentOrder:t.ordenacaoCursos,orderToCheck:"alunosEntrada2",orderType:"desc",width:"75",paddingX:"0",title:"Entrada de alunos 3º período"}},[t._v("\n            3º Período\n          ")])]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.CursosOrdered,(function(e){return r("tr",{key:e.id+e.codigo,class:["clickable",{"bg-selected":t.cursoSelecionado===e.id}],on:{click:function(r){return t.handleClickInCurso(e)}}},[r("v-td",{attrs:{width:"65",align:"start"}},[t._v(t._s(e.codigo))]),r("v-td",{attrs:{width:"300",align:"start",title:e.nome}},[t._v("\n              "+t._s(e.nome)+"\n            ")]),r("v-td",{attrs:{width:"65"}},[t._v(t._s(e.turno))]),r("v-td",{attrs:{width:"75"}},[t._v(t._s(e.alunosEntrada))]),r("v-td",{attrs:{width:"75"}},[t._v(t._s(e.alunosEntrada2))])],1)})),t.CursosOrdered.length?t._e():r("tr",[r("v-td",{attrs:{width:"580",colspan:"5"}},[r("font-awesome-icon",{staticClass:"icon-red",attrs:{icon:["fas","exclamation-triangle"]}}),r("b",[t._v(" Nenhum curso encontrado!")])],1)],1)]},proxy:!0}])})],1),r("Card",{attrs:{title:"Curso",toggleFooter:t.isEditing},on:{"btn-salvar":t.handleEditCurso,"btn-delete":t.openModalDelete,"btn-add":t.handleCreateCurso,"btn-clean":t.cleanForm},scopedSlots:t._u([{key:"form-group",fn:function(){return[r("div",{staticClass:"row mb-2 mx-0"},[r("div",{staticClass:"form-group col m-0 px-0"},[r("label",{staticClass:"col-form-label",attrs:{required:"",for:"nome"}},[t._v("Nome")]),r("input",{staticClass:"input-maior form-control form-control-sm",attrs:{id:"nome",type:"text"},domProps:{value:t.cursoForm.nome},on:{input:function(e){t.cursoForm.nome=e.target.value.toUpperCase()}}})])]),r("div",{staticClass:"row mb-2 mx-0"},[r("div",{staticClass:"form-group col m-0 px-0"},[r("label",{staticClass:"col-form-label",attrs:{required:"",for:"codigo"}},[t._v("Código")]),r("input",{staticClass:"form-control form-control-sm input-menor",attrs:{type:"text",id:"codigo"},domProps:{value:t.cursoForm.codigo},on:{input:function(e){t.cursoForm.codigo=e.target.value.toUpperCase()}}})]),r("div",{staticClass:"form-group col m-0 px-0"},[r("label",{staticClass:"col-form-label",attrs:{required:"",for:"turno"}},[t._v("Turno")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.cursoForm.turno,expression:"cursoForm.turno"}],staticClass:"form-control form-control-sm input-medio",attrs:{type:"text",id:"turno"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.cursoForm,"turno",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"Diurno"}},[t._v("Diurno")]),r("option",{attrs:{value:"Noturno"}},[t._v("Noturno")]),r("option",{attrs:{value:"Integral"}},[t._v("Integral")])])])]),r("div",{staticClass:"row mb-2 mx-0"},[r("div",{staticClass:"form-group col m-0 px-0"},[r("label",{staticClass:"col-form-label",attrs:{required:"",for:"alunosEntrada1"}},[t._v("Alunos 1º Período\n            ")]),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.cursoForm.alunosEntrada,expression:"cursoForm.alunosEntrada",modifiers:{number:!0}}],staticClass:"form-control form-control-sm input-menor",attrs:{type:"number",min:"0",id:"alunosEnrada1"},domProps:{value:t.cursoForm.alunosEntrada},on:{keypress:t.maskOnlyNumber,blur:[function(e){return t.maskEmptyToZero(e,t.cursoForm,"alunosEntrada")},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.cursoForm,"alunosEntrada",t._n(e.target.value))}}})]),r("div",{staticClass:"form-group col m-0 px-0"},[r("label",{staticClass:"col-form-label",attrs:{required:"",for:"alunosEntrada2"}},[t._v("Alunos 2º Período\n            ")]),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.cursoForm.alunosEntrada2,expression:"cursoForm.alunosEntrada2",modifiers:{number:!0}}],staticClass:"form-control form-control-sm input-menor",attrs:{type:"number",min:"0",id:"alunosEntrada2"},domProps:{value:t.cursoForm.alunosEntrada2},on:{keypress:t.maskOnlyNumber,blur:[function(e){return t.maskEmptyToZero(e,t.cursoForm,"alunosEntrada2")},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.cursoForm,"alunosEntrada2",t._n(e.target.value))}}})])])]},proxy:!0}])})],1),r("ModalDelete",{ref:"modalDelete",attrs:{isDeleting:t.isEditing},on:{"btn-deletar":t.handleDeleteCurso}},[t.isEditing?r("li",{staticClass:"list-group-item"},[r("span",{domProps:{innerHTML:t._s(t.modalDeleteText)}})]):r("li",{staticClass:"list-group-item"},[t._v("Nenhuma curso selecionado.")])]),r("ModalAjuda",{ref:"modalAjuda"},[r("li",{staticClass:"list-group-item"},[r("b",[t._v("Adicionar:")]),t._v("\n      Preencha o cartão em branco à direita e em seguida, clique em Adicionar\n      "),r("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","plus"]}}),t._v(".\n    ")],1),r("li",{staticClass:"list-group-item"},[r("b",[t._v("Editar:")]),t._v(" Clique na linha da tabela do curso que deseja alterar. Em\n      seguida, no cartão à direita, altere as informações que desejar e clique em\n      Salvar "),r("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","check"]}}),t._v(".\n    ")],1),r("li",{staticClass:"list-group-item"},[r("b",[t._v("Deletar:")]),t._v(" Clique na linha da tabela do curso que deseja remover. Em\n      seguida, no cartão à direita, clique em Remover\n      "),r("font-awesome-icon",{staticClass:"icon-red",attrs:{icon:["fas","trash-alt"]}}),t._v(" e\n      confirme a remoção na janela que será aberta.\n    ")],1),r("li",{staticClass:"list-group-item"},[r("b",[t._v("Limpar:")]),t._v(" No cartão à direita, clique em Cancelar\n      "),r("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","times"]}}),t._v(", para limpar\n      as informações.\n    ")],1),r("li",{staticClass:"list-group-item"},[r("b",[t._v("Ordenar:")]),t._v(" Clique no cabeçalho da tabela, na coluna desejada, para\n      alterar a ordenação das informações.\n    ")])])],1)},a=[],s=(r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("d25f"),r("ac6a"),r("456d"),r("96cf"),r("1da1")),n=(r("7514"),r("ade3")),i=r("4dd0"),c=r.n(i),l=r("2f62"),u=r("9165"),d=r("d027"),m=r("25df");function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h={id:null,semestreInicial:null,posicao:null,nome:"",codigo:"",turno:"",alunosEntrada:0,alunosEntrada2:0},v={name:"DashboardCursos",mixins:[u["j"],u["i"]],components:{Card:m["b"],ModalDelete:d["b"],ModalAjuda:d["a"]},data:function(){return{modalDeleteText:"",cursoSelecionado:"",cursoForm:this.$_.clone(h),ordenacaoCursos:{order:"codigo",type:"asc"}}},created:function(){this.selectAll=!0},methods:f(f({},Object(l["b"])(["createCurso","editCurso","deleteCurso"])),{},{handleClickInCurso:function(t){this.cleanForm(),this.cursoSelecionado=t.id,this.cursoForm=this.$_.clone(t)},cleanForm:function(){this.cursoSelecionado="",this.cursoForm=this.$_.clone(h)},checkSeCursoTemAlgumPedido:function(t){for(var e in this.$store.state.pedido.Pedidos){var r=this.$_.find(this.$store.state.pedido.Pedidos[e],(function(e){return e.Curso===t&&(parseInt(e.vagasPeriodizadas,10)>0||parseInt(e.vagasNaoPeriodizadas,10)>0)}));if(r)return!0}return!1},openModalDelete:function(){this.checkSeCursoTemAlgumPedido(this.cursoForm.id)?this.modalDeleteText="\n        O curso <b>".concat(this.cursoForm.codigo," - ").concat(this.cursoForm.nome,"</b>\n        possui vagas alocadas. Tem certeza que deseja excluí-lo?"):this.modalDeleteText="Tem certeza que deseja excluír o curso\n        <b>".concat(this.cursoForm.codigo," - ").concat(this.cursoForm.nome,"</b>?"),this.$refs.modalDelete.open()},toggleCurso:function(t){var e=c.a.get("".concat(t));this.$store.dispatch("toggleCurso",t),c.a.set("".concat(t),!e)},toggleAllCursos:function(){!0===this.selectAll?(this.$store.dispatch("toggleAllCursosFalse"),this.selectAll=!1,c.a.set("toggle",!1)):(this.$store.dispatch("toggleAllCursosTrue"),this.selectAll=!0,c.a.set("toggle",!0))},handleCreateCurso:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.setPartialLoading(!0),t.next=4,this.createCurso(this.cursoForm);case 4:this.cleanForm(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.pushNotification({type:"error",title:"Erro ao criar novo curso!",text:t.t0.message||""});case 10:return t.prev=10,this.setPartialLoading(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[0,7,10,13]])})));function e(){return t.apply(this,arguments)}return e}(),handleEditCurso:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.setPartialLoading(!0),t.next=4,this.editCurso(this.cursoForm);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),this.pushNotification({type:"error",title:"Erro ao editar curso!",text:t.t0.message||""});case 9:return t.prev=9,this.setPartialLoading(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,this,[[0,6,9,12]])})));function e(){return t.apply(this,arguments)}return e}(),handleDeleteCurso:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.setPartialLoading(!0),t.next=4,this.deleteCurso(this.cursoForm);case 4:this.cleanForm(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.pushNotification({type:"error",title:"Erro ao deletar curso!",text:t.t0.message||""});case 10:return t.prev=10,this.setPartialLoading(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[0,7,10,13]])})));function e(){return t.apply(this,arguments)}return e}()}),computed:f(f({},Object(l["c"])(["AllCursos"])),{},{CursosOrdered:function(){return this.$_.orderBy(this.AllCursos,this.ordenacaoCursos.order,this.ordenacaoCursos.type)},isEditing:function(){return null!==this.cursoForm.id}})},g=v,C=(r("b22e"),r("2877")),b=Object(C["a"])(g,o,a,!1,null,"0646602e",null);e["default"]=b.exports},b22e:function(t,e,r){"use strict";var o=r("39a3"),a=r.n(o);a.a}}]);
//# sourceMappingURL=chunk-29131a83.999121ec.js.map