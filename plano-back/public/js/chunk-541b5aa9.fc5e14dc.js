(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-541b5aa9","chunk-2482e90a"],{"0f52":function(t,e,o){"use strict";o("c1e2")},ab6d:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main-component row p-0"},[o("portal",{attrs:{to:"page-header"}},[o("BaseButton",{attrs:{template:"filtros"},on:{click:function(e){return t.toggleAsideModal("filtros")}}}),o("BaseButton",{attrs:{template:"relatorio"},on:{click:function(e){return t.toggleAsideModal("relatorio")}}}),o("BaseButton",{attrs:{template:"download"},on:{click:function(e){return t.toggleAsideModal("DownloadTurmasCursos")}}}),o("BaseButton",{attrs:{template:"ajuda"},on:{click:function(e){return t.toggleAsideModal("ajuda")}}})],1),o("div",{staticClass:"div-table"},[o("BaseTable",{scopedSlots:t._u([{key:"thead",fn:function(){return[o("v-th",{attrs:{width:"80",title:"Código do Curso"}},[t._v("Cód. Curso")]),o("v-th",{attrs:{width:"300",title:"Nome do Curso"}},[t._v("Nome do Curso")]),o("v-th",{attrs:{width:"40",title:"Período"}},[t._v("P.")]),o("v-th",{attrs:{width:"80",title:"Código da Disciplina"}},[t._v("Disciplina")]),o("v-th",{attrs:{width:"40",title:"Turma"}},[t._v("T.")]),o("v-th",{attrs:{width:"120",title:"Horário"}},[t._v("Horário")]),o("v-th",{attrs:{width:"80",title:"Vagas"}},[t._v("Vagas")])]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.filtroCursos.ativados,(function(e){return[o("tr",{key:e.id+e.codigo,staticStyle:{"background-color":"#f1f1f1"}},[o("v-td",{attrs:{width:"80"}},[t._v(t._s(e.codigo))]),o("v-td",{attrs:{width:"300"}},[t._v(t._s(e.nome))]),o("v-td",{attrs:{width:"40"}}),o("v-td",{attrs:{width:"80"}}),o("v-td",{attrs:{width:"40"}}),o("v-td",{attrs:{width:"120"}}),o("v-td",{attrs:{width:"80"}})],1),t._l(t.getTurmasDoCurso(e.id),(function(r){return o("tr",{key:e.id+"-"+r.turma.id},[o("v-td",{attrs:{width:"80"}}),o("v-td",{attrs:{width:"300"}}),o("v-td",{attrs:{width:"40"}},[t._v(t._s(r.turma.periodo))]),o("v-td",{attrs:{width:"80"}},[t._v(t._s(r.turma.disciplina.codigo))]),o("v-td",{attrs:{width:"40"}},[t._v(t._s(r.turma.letra))]),o("v-td",{attrs:{width:"120"}},[t._v(t._s(t.horarioTotal(r.turma)))]),o("v-td",{attrs:{width:"80"}},[t._v("\n              "+t._s(r.pedido.vagasPeriodizadas+r.pedido.vagasNaoPeriodizadas)+"\n            ")])],1)}))]})),t.filtroCursos.ativados.length?t._e():o("tr",[o("v-td",{attrs:{colspan:"7",width:"740"}},[o("b",[t._v("Nenhum curso encontrado")])])],1)]},proxy:!0}])})],1),o("ModalRelatorio",{ref:"modalRelatorio",on:{"selection-option":function(e){return t.generatePdf(e)}}}),o("ModalDownloadTurmasCursos",{ref:"modalDownloadTurmasCursos",on:{"selection-option":function(e){return t.downloadTurmasCursos(e)}}}),o("ModalFiltros",{ref:"modalFiltros",attrs:{callbacks:t.modalFiltrosCallbacks,tabsOptions:t.modalFiltrosTabs}},[o("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Cursos"===t.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Cursos'"}],attrs:{type:"modal",hasSearchBar:!0},scopedSlots:t._u([{key:"thead-search",fn:function(){return[o("InputSearch",{attrs:{placeholder:"Pesquise nome ou codigo de um curso..."},model:{value:t.searchCursos,callback:function(e){t.searchCursos=e},expression:"searchCursos"}})]},proxy:!0},{key:"thead",fn:function(){return[o("v-th",{attrs:{width:"25"}}),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoModal.cursos,orderToCheck:"codigo",width:"70",align:"start"}},[t._v("\n          Código\n        ")]),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoModal.cursos,orderToCheck:"nome",width:"270",align:"start"}},[t._v("\n          Nome\n        ")]),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoModal.cursos,orderToCheck:"turno",width:"85",align:"start"}},[t._v("\n          Turno\n        ")])]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.CursosFiltrados,(function(e){return o("tr",{key:e.id+e.nome,on:{click:function(o){return t.toggleItemInArray(e,t.filtroCursos.selecionados)}}},[o("v-td",{attrs:{width:"25",type:"content"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtroCursos.selecionados,expression:"filtroCursos.selecionados"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.filtroCursos.selecionados)?t._i(t.filtroCursos.selecionados,e)>-1:t.filtroCursos.selecionados},on:{change:function(o){var r=t.filtroCursos.selecionados,a=o.target,s=!!a.checked;if(Array.isArray(r)){var i=e,n=t._i(r,i);a.checked?n<0&&t.$set(t.filtroCursos,"selecionados",r.concat([i])):n>-1&&t.$set(t.filtroCursos,"selecionados",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.filtroCursos,"selecionados",s)}}})]),o("v-td",{attrs:{width:"70",align:"start"}},[t._v(t._s(e.codigo))]),o("v-td",{attrs:{align:"start",width:"270",title:e.nome}},[t._v("\n            "+t._s(e.nome)+"\n          ")]),o("v-td",{attrs:{width:"85",align:"start"}},[t._v(t._s(e.turno))])],1)})),t.AllCursos.length?t._e():o("tr",[o("v-td",{attrs:{colspan:"3",width:"450"}},[t._v("\n            NENHUM CURSO ENCONTRADO\n          ")])],1)]},proxy:!0}])}),o("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Períodos"===t.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Períodos'"}],attrs:{type:"modal"},scopedSlots:t._u([{key:"thead",fn:function(){return[o("v-th",{attrs:{width:"25"}}),o("v-th",{attrs:{width:"425",align:"start"}},[t._v("Periodos Letivo")])]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.PeriodosOptions,(function(e){return o("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:e.id+e.nome,on:{click:function(o){return t.selecionaPeriodo(e,t.filtroPeriodos.selecionados)}}},[o("v-td",{attrs:{width:"25",type:"content"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtroPeriodos.selecionados,expression:"filtroPeriodos.selecionados"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.filtroPeriodos.selecionados)?t._i(t.filtroPeriodos.selecionados,e)>-1:t.filtroPeriodos.selecionados},on:{click:function(o){return o.stopPropagation(),t.selecionaPeriodo(e)},change:function(o){var r=t.filtroPeriodos.selecionados,a=o.target,s=!!a.checked;if(Array.isArray(r)){var i=e,n=t._i(r,i);a.checked?n<0&&t.$set(t.filtroPeriodos,"selecionados",r.concat([i])):n>-1&&t.$set(t.filtroPeriodos,"selecionados",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.filtroPeriodos,"selecionados",s)}}})]),o("v-td",{attrs:{width:"425",align:"start"}},[t._v(t._s(e.nome))])],1)}))},proxy:!0}])}),o("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Semestres"===t.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Semestres'"}],attrs:{type:"modal"},scopedSlots:t._u([{key:"thead",fn:function(){return[o("v-th",{attrs:{width:"25"}}),o("v-th",{attrs:{width:"425",align:"start"}},[t._v("Semestre Letivo")])]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.SemestresOptions,(function(e){return o("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:e.id+e.nome,on:{click:function(o){return t.selecionaSemestre(e)}}},[o("v-td",{attrs:{width:"25",type:"content"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtroSemestres.selecionados,expression:"filtroSemestres.selecionados"}],attrs:{type:"checkbox"},domProps:{value:e,indeterminate:e.halfChecked,checked:Array.isArray(t.filtroSemestres.selecionados)?t._i(t.filtroSemestres.selecionados,e)>-1:t.filtroSemestres.selecionados},on:{click:function(o){return o.stopPropagation(),t.selecionaSemestre(e)},change:function(o){var r=t.filtroSemestres.selecionados,a=o.target,s=!!a.checked;if(Array.isArray(r)){var i=e,n=t._i(r,i);a.checked?n<0&&t.$set(t.filtroSemestres,"selecionados",r.concat([i])):n>-1&&t.$set(t.filtroSemestres,"selecionados",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.filtroSemestres,"selecionados",s)}}})]),o("v-td",{attrs:{width:"425",align:"start"}},[t._v(t._s(e.nome))])],1)}))},proxy:!0}])})],1),o("ModalAjuda",{ref:"modalAjuda"},[o("li",{staticClass:"list-group-item"},[o("b",[t._v("Visualizar plano:")]),t._v("\n      Clique no ícone filtros\n      "),o("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),t._v("\n      . Em seguida, utilize as abas para navegar entre os filtros. Selecione as informações que\n      deseja visualizar e clique em OK.\n    ")],1),o("li",{staticClass:"list-group-item"},[o("b",[t._v("Relatório :")]),t._v("\n      Clique no ícone relatório\n      "),o("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","file-alt"]}}),t._v("\n      . Em seguida, indique se deseja gerar o relatório completo com todas as disciplinas ou o\n      relatório parcial com as disciplinas exibidas na tela.\n    ")],1),o("li",{staticClass:"list-group-item"},[o("b",[t._v("Visualizar vagas por turma:")]),t._v("\n      Clique no número de vagas desta turma, na última coluna da tabela, na linha correspondente.\n    ")])])],1)},a=[],s=(o("1c01"),o("58b2"),o("8e6e"),o("d25f"),o("456d"),o("4917"),o("ade3")),i=(o("96cf"),o("1da1")),n=(o("ac6a"),o("f3e2"),o("2909")),d=o("2f62"),c=o("0a94"),l=o("d4b9"),u=o("6740"),f=o("9429"),v=o("7556"),m=o("eaf8"),h=o("9165"),p=o("d027"),g=o("25df"),b=o("bec4"),y=o("027e"),C=o("21a6");function w(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function O(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?w(Object(o),!0).forEach((function(e){Object(s["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var _={name:"TurmasCursos",mixins:[h["p"],h["o"],h["b"],h["n"]],components:{ModalRelatorio:p["g"],ModalFiltros:p["f"],ModalAjuda:p["a"],InputSearch:g["d"],ModalVagas:b["default"],ModalDownloadTurmasCursos:p["d"]},data:function(){var t=this;return{turmaClicked:null,searchCursos:"",asideModalsRefs:["modalAjuda","modalRelatorio","modalFiltros","modalDownloadTurmasCursos"],ordenacaoMain:{disciplinas:{order:"codigo",type:"asc"}},ordenacaoModal:{cursos:{order:"codigo",type:"asc"}},filtroCursos:{selecionados:[],ativados:[]},filtroPeriodos:{ativados:[],selecionados:[]},filtroSemestres:{selecionados:[]},modalFiltrosTabs:{current:"Cursos",array:["Cursos","Períodos","Semestres"]},modalFiltrosCallbacks:{selectAll:{Cursos:function(){t.filtroCursos.selecionados=Object(n["a"])(t.CursosFiltrados)},Periodos:function(){t.filtroPeriodos.selecionados=Object(n["a"])(t.PeriodosOptions),t.filtroSemestres.selecionados=Object(n["a"])(t.SemestresOptions)},Semestres:function(){t.filtroSemestres.selecionados=Object(n["a"])(t.SemestresOptions),t.filtroPeriodos.selecionados=Object(n["a"])(t.PeriodosOptions)}},selectNone:{Cursos:function(){t.filtroCursos.selecionados=[]},Periodos:function(){t.filtroPeriodos.selecionados=[],t.filtroSemestres.selecionados=[]},Semestres:function(){t.filtroSemestres.selecionados=[],t.filtroPeriodos.selecionados=[]}},btnOk:function(){t.filtroCursos.ativados=Object(n["a"])(t.filtroCursos.selecionados),t.filtroPeriodos.ativados=Object(n["a"])(t.filtroPeriodos.selecionados)}}}},beforeMount:function(){this.modalFiltrosCallbacks.selectAll.Periodos()},methods:{getTurmasDoCurso:function(t){var e=this,o=[];return this.TurmasInDisciplinasPerfis.forEach((function(r){var a=e.Pedidos[r.id],s=Object(c["a"])(a,["Curso",t]);(s.vagasPeriodizadas>0||s.vagasNaoPeriodizadas>0)&&o.push({turma:r,pedido:s})})),Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(u["a"])(o,(function(t){return Object(f["a"])(e.filtroPeriodos.ativados,["id",t.turma.periodo])})),(function(t){return t.turma.letra})),(function(t){return t.turma.disciplina.codigo})),(function(t){return t.turma.periodo}))},horarioTotal:function(t){var e=Object(c["a"])(this.$store.state.horario.Horarios,{id:t.Horario1}),o=Object(c["a"])(this.$store.state.horario.Horarios,{id:t.Horario2}),r=void 0;return r=void 0===e&&void 0===o?"":void 0===o?e.horario:void 0===e?o.horario:e.horario+"/"+o.horario,r},generatePdf:function(t){var e,o;t?(e=this.AllCursos,o=this.PeriodosOptions):(e=this.filtroCursos.ativados,o=this.filtroPeriodos.ativados),Object(v["e"])({cursos:e,periodos:o,plano:this.currentPlano})},downloadTurmasCursos:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.setLoading({type:"partial",value:!0}),t.next=3,y["a"].generatePdfTurmasCurso({Plano:localStorage.getItem("Plano"),periodo:e}).then((function(){return y["a"].createZipTurmasCursos().then((function(){return fetch("http://200.131.219.57:3000/api/download/downloadTurmasCursosZip",{method:"GET",headers:{Authorization:"Bearer ".concat(o.$store.state.auth.token)}}).then((function(t){return t.blob()})).then((function(t){Object(C["saveAs"])(t,"TurmasCursos.zip"),o.setLoading({type:"partial",value:!1})}))}))}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},computed:O(O({},Object(d["c"])(["TurmasInDisciplinasPerfis","DisciplinasDCCInPerfis","PerfisDCC","AllPlanos","Pedidos","AllCursos"])),{},{CursosOrdered:function(){return Object(l["a"])(this.AllCursos,"codigo")},CursosFiltrados:function(){if(""===this.searchCursos)return this.AllCursos;var t=Object(m["d"])(this.searchCursos);return Object(u["a"])(this.AllCursos,(function(e){var o=Object(m["d"])(e.nome),r=Object(m["d"])(e.codigo);return o.match(t)||r.match(t)}))}})},P=_,k=(o("0f52"),o("2877")),j=Object(k["a"])(P,r,a,!1,null,"44cf67a7",null);e["default"]=j.exports},bec4:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("BaseModal",{ref:"baseModalVagas",attrs:{type:"editVagas",classes:"modal-vagas"},scopedSlots:t._u([null!==t.turma?{key:"modal-body",fn:function(){return[o("div",{staticClass:"modal-vagas-header"},[o("h2",{staticClass:"title"},[t._v("\n        "+t._s(t.turma.disciplina.codigo+" - "+t.turma.disciplina.nome)+"\n      ")]),o("label",{staticClass:"m-0 mr-2",attrs:{for:"selectTurma"}},[t._v("Turma:")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.turmaLetraForm,expression:"turmaLetraForm"}],staticClass:"form-control select-letra",attrs:{id:"selectTurma"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.turmaLetraForm=e.target.multiple?o:o[0]}}},t._l(t.TurmasOptionsModalVagas,(function(e){return o("option",{key:e.id+e.letra,domProps:{value:e.letra}},[t._v("\n          "+t._s(e.letra)+"\n        ")])})),0)]),o("div",{staticClass:"div-table"},[o("BaseTable",{attrs:{styles:"height:auto"},scopedSlots:t._u([{key:"thead",fn:function(){return[o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoVagas,orderToCheck:"curso.codigo",width:"65",align:"start"}},[t._v("\n            Código\n          ")]),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoVagas,orderToCheck:"curso.nome",width:"300",align:"start"}},[t._v("\n            Nome\n          ")]),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoVagas,orderToCheck:"vagasPeriodizadas",orderType:"desc",width:"55",title:"Vagas periodizadas"}},[t._v("\n            Grade\n          ")]),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoVagas,orderToCheck:"vagasNaoPeriodizadas",orderType:"desc",width:"55",title:"Vagas não periodizadas"}},[t._v("\n            Extra\n          ")]),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoVagas,orderToCheck:"vagasTotais",orderType:"desc",width:"55",title:"Total de vagas"}},[t._v("\n            Total\n          ")])]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.PedidosOrdered,(function(e){return o("tr",{key:e.Turma+e.curso.codigo},[o("v-td",{attrs:{width:"65",align:"start"}},[t._v(t._s(e.curso.codigo))]),o("v-td",{attrs:{width:"300",align:"start"}},[t._v(t._s(e.curso.nome))]),o("v-td",{attrs:{width:"55"}},[t._v(t._s(e.vagasPeriodizadas))]),o("v-td",{attrs:{width:"55"}},[t._v(t._s(e.vagasNaoPeriodizadas))]),o("v-td",{attrs:{width:"55"}},[t._v(t._s(e.vagasTotais))])],1)})),t.PedidosOrdered.length?t._e():o("tr",[o("v-td",{attrs:{colspan:"5",width:"530"}},[o("b",[t._v("Turma atual não possui nenhuma vaga cadastrada")])])],1)]},proxy:!0}],null,!1,555459395)})],1)]},proxy:!0}:null],null,!0)})},a=[],s=(o("1c01"),o("58b2"),o("8e6e"),o("f3e2"),o("d25f"),o("ac6a"),o("456d"),o("6d67"),o("ade3")),i=o("2f62"),n=o("d4b9"),d=o("0a94"),c=o("6740");function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){Object(s["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var f={name:"ModalVagas",props:{turma:{type:null|Object,required:!0}},data:function(){return{turmaLetraForm:null,ordenacaoVagas:{order:"vagasTotais",type:"desc"}}},methods:{open:function(){this.$refs.baseModalVagas.open()},close:function(){this.$refs.baseModalVagas.close()}},computed:u(u({},Object(i["c"])(["TurmasInDisciplinasPerfis","AllCursos"])),{},{PedidosOrdered:function(){return Object(n["a"])(this.PedidosFiltredByTurma,this.ordenacaoVagas.order,this.ordenacaoVagas.type)},PedidosFiltredByTurma:function(){var t=this;if(null===this.turmaLetraForm)return[];var e=Object(d["a"])(this.TurmasOptionsModalVagas,["letra",this.turmaLetraForm]),o=Object(c["a"])(this.Pedidos[e.id],(function(t){return t.vagasPeriodizadas>0||t.vagasNaoPeriodizadas>0}));return o.map((function(e){var o=Object(d["a"])(t.AllCursos,["id",e.Curso]);return u(u({},e),{},{vagasTotais:e.vagasPeriodizadas+e.vagasNaoPeriodizadas,curso:o})}))},TurmasOptionsModalVagas:function(){var t=this;if(null===this.turma)return[];var e=Object(c["a"])(this.TurmasInDisciplinasPerfis,(function(e){return e.Disciplina===t.turma.Disciplina&&e.periodo===t.turma.periodo}));return Object(n["a"])(e,["periodo"])},Pedidos:function(){return this.$store.state.pedido.Pedidos}}),watch:{turma:function(t){this.turmaLetraForm=t.letra}}},v=f,m=(o("e9b8"),o("2877")),h=Object(m["a"])(v,r,a,!1,null,"0511078a",null);e["default"]=h.exports},c1e2:function(t,e,o){},ceeb:function(t,e,o){},e9b8:function(t,e,o){"use strict";o("ceeb")}}]);
//# sourceMappingURL=chunk-541b5aa9.fc5e14dc.js.map