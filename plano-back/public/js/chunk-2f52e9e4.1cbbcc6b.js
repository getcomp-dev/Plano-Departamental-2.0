(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f52e9e4"],{"1c4c":function(t,r,e){"use strict";var n=e("9b43"),a=e("5ca1"),i=e("4bf8"),o=e("1fa8"),c=e("33a4"),u=e("9def"),s=e("f1ae"),l=e("27ee");a(a.S+a.F*!e("5cc5")((function(t){Array.from(t)})),"Array",{from:function(t){var r,e,a,f,d=i(t),p="function"==typeof this?this:Array,b=arguments.length,h=b>1?arguments[1]:void 0,v=void 0!==h,m=0,y=l(d);if(v&&(h=n(h,b>2?arguments[2]:void 0,2)),void 0==y||p==Array&&c(y))for(r=u(d.length),e=new p(r);r>m;m++)s(e,m,v?h(d[m],m):d[m]);else for(f=y.call(d),e=new p;!(a=f.next()).done;m++)s(e,m,v?o(f,h,[a.value,m],!0):a.value);return e.length=m,e}})},"2caf":function(t,r,e){var n=e("5ca1");n(n.S,"Array",{isArray:e("1169")})},"2fdb":function(t,r,e){"use strict";var n=e("5ca1"),a=e("d2c8"),i="includes";n(n.P+n.F*e("5147")(i),"String",{includes:function(t){return!!~a(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"37c8":function(t,r,e){r.f=e("2b4c")},3846:function(t,r,e){e("9e1e")&&"g"!=/./g.flags&&e("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:e("0bfb")})},"3a72":function(t,r,e){var n=e("7726"),a=e("8378"),i=e("2d00"),o=e("37c8"),c=e("86cc").f;t.exports=function(t){var r=a.Symbol||(a.Symbol=i?{}:n.Symbol||{});"_"==t.charAt(0)||t in r||c(r,t,{value:o.f(t)})}},5147:function(t,r,e){var n=e("2b4c")("match");t.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[n]=!1,!"/./"[t](r)}catch(a){}}return!0}},"5df3":function(t,r,e){"use strict";var n=e("02f4")(!0);e("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,r=this._t,e=this._i;return e>=r.length?{value:void 0,done:!0}:(t=n(r,e),this._i+=t.length,{value:t,done:!1})}))},"67ab":function(t,r,e){var n=e("ca5a")("meta"),a=e("d3f4"),i=e("69a8"),o=e("86cc").f,c=0,u=Object.isExtensible||function(){return!0},s=!e("79e5")((function(){return u(Object.preventExtensions({}))})),l=function(t){o(t,n,{value:{i:"O"+ ++c,w:{}}})},f=function(t,r){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,n)){if(!u(t))return"F";if(!r)return"E";l(t)}return t[n].i},d=function(t,r){if(!i(t,n)){if(!u(t))return!0;if(!r)return!1;l(t)}return t[n].w},p=function(t){return s&&b.NEED&&u(t)&&!i(t,n)&&l(t),t},b=t.exports={KEY:n,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},"6b54":function(t,r,e){"use strict";e("3846");var n=e("cb7c"),a=e("0bfb"),i=e("9e1e"),o="toString",c=/./[o],u=function(t){e("2aba")(RegExp.prototype,o,t,!0)};e("79e5")((function(){return"/a/b"!=c.call({source:"a",flags:"b"})}))?u((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?a.call(t):void 0)})):c.name!=o&&u((function(){return c.call(this)}))},"7bbc":function(t,r,e){var n=e("6821"),a=e("9093").f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return a(t)}catch(r){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==i.call(t)?c(t):a(n(t))}},"7f7f":function(t,r,e){var n=e("86cc").f,a=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in a||e("9e1e")&&n(a,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"87b3":function(t,r,e){var n=Date.prototype,a="Invalid Date",i="toString",o=n[i],c=n.getTime;new Date(NaN)+""!=a&&e("2aba")(n,i,(function(){var t=c.call(this);return t===t?o.call(this):a}))},"8a81":function(t,r,e){"use strict";var n=e("7726"),a=e("69a8"),i=e("9e1e"),o=e("5ca1"),c=e("2aba"),u=e("67ab").KEY,s=e("79e5"),l=e("5537"),f=e("7f20"),d=e("ca5a"),p=e("2b4c"),b=e("37c8"),h=e("3a72"),v=e("d4c0"),m=e("1169"),y=e("cb7c"),g=e("d3f4"),O=e("4bf8"),w=e("6821"),S=e("6a99"),j=e("4630"),E=e("2aeb"),D=e("7bbc"),x=e("11e9"),A=e("2621"),I=e("86cc"),P=e("0d58"),_=x.f,k=I.f,C=D.f,H=n.Symbol,N=n.JSON,T=N&&N.stringify,F="prototype",R=p("_hidden"),q=p("toPrimitive"),J={}.propertyIsEnumerable,$=l("symbol-registry"),z=l("symbols"),L=l("op-symbols"),M=Object[F],B="function"==typeof H&&!!A.f,K=n.QObject,W=!K||!K[F]||!K[F].findChild,G=i&&s((function(){return 7!=E(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a}))?function(t,r,e){var n=_(M,r);n&&delete M[r],k(t,r,e),n&&t!==M&&k(M,r,n)}:k,Y=function(t){var r=z[t]=E(H[F]);return r._k=t,r},Q=B&&"symbol"==typeof H.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof H},U=function(t,r,e){return t===M&&U(L,r,e),y(t),r=S(r,!0),y(e),a(z,r)?(e.enumerable?(a(t,R)&&t[R][r]&&(t[R][r]=!1),e=E(e,{enumerable:j(0,!1)})):(a(t,R)||k(t,R,j(1,{})),t[R][r]=!0),G(t,r,e)):k(t,r,e)},V=function(t,r){y(t);var e,n=v(r=w(r)),a=0,i=n.length;while(i>a)U(t,e=n[a++],r[e]);return t},X=function(t,r){return void 0===r?E(t):V(E(t),r)},Z=function(t){var r=J.call(this,t=S(t,!0));return!(this===M&&a(z,t)&&!a(L,t))&&(!(r||!a(this,t)||!a(z,t)||a(this,R)&&this[R][t])||r)},tt=function(t,r){if(t=w(t),r=S(r,!0),t!==M||!a(z,r)||a(L,r)){var e=_(t,r);return!e||!a(z,r)||a(t,R)&&t[R][r]||(e.enumerable=!0),e}},rt=function(t){var r,e=C(w(t)),n=[],i=0;while(e.length>i)a(z,r=e[i++])||r==R||r==u||n.push(r);return n},et=function(t){var r,e=t===M,n=C(e?L:w(t)),i=[],o=0;while(n.length>o)!a(z,r=n[o++])||e&&!a(M,r)||i.push(z[r]);return i};B||(H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),r=function(e){this===M&&r.call(L,e),a(this,R)&&a(this[R],t)&&(this[R][t]=!1),G(this,t,j(1,e))};return i&&W&&G(M,t,{configurable:!0,set:r}),Y(t)},c(H[F],"toString",(function(){return this._k})),x.f=tt,I.f=U,e("9093").f=D.f=rt,e("52a7").f=Z,A.f=et,i&&!e("2d00")&&c(M,"propertyIsEnumerable",Z,!0),b.f=function(t){return Y(p(t))}),o(o.G+o.W+o.F*!B,{Symbol:H});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),at=0;nt.length>at;)p(nt[at++]);for(var it=P(p.store),ot=0;it.length>ot;)h(it[ot++]);o(o.S+o.F*!B,"Symbol",{for:function(t){return a($,t+="")?$[t]:$[t]=H(t)},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol!");for(var r in $)if($[r]===t)return r},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!B,"Object",{create:X,defineProperty:U,defineProperties:V,getOwnPropertyDescriptor:tt,getOwnPropertyNames:rt,getOwnPropertySymbols:et});var ct=s((function(){A.f(1)}));o(o.S+o.F*ct,"Object",{getOwnPropertySymbols:function(t){return A.f(O(t))}}),N&&o(o.S+o.F*(!B||s((function(){var t=H();return"[null]"!=T([t])||"{}"!=T({a:t})||"{}"!=T(Object(t))}))),"JSON",{stringify:function(t){var r,e,n=[t],a=1;while(arguments.length>a)n.push(arguments[a++]);if(e=r=n[1],(g(r)||void 0!==t)&&!Q(t))return m(r)||(r=function(t,r){if("function"==typeof e&&(r=e.call(this,t,r)),!Q(r))return r}),n[1]=r,T.apply(N,n)}}),H[F][q]||e("32e9")(H[F],q,H[F].valueOf),f(H,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},"9ae6":function(t,r,e){"use strict";e.r(r);var n=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[t._m(0),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[t._m(1),e("input",{ref:"input1periodo",staticClass:"w-100 form-control-file",attrs:{id:"turmas1",type:"file",accept:".csv"}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col"},[t._m(2),e("input",{ref:"input3periodo",staticClass:"w-100 form-control-file",attrs:{id:"turmas3",type:"file",accept:".csv"}})])])])},a=[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("p",{staticClass:"alert alert-secondary"},[t._v("\n    Selecione arquivos\n    "),e("b",[t._v(".csv")]),t._v("\n    para importar as turmas de cada periodo do novo plano.\n    "),e("br"),t._v("\n    Note que o formato do arquivo requerido é o relatorio de plano departamental gerado\n    pelo SIGA na página: Acadêmico > Consultas > Plano Departamental.\n  ")])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("label",{attrs:{for:"turmas1"}},[t._v("\n        Turmas do\n        "),e("b",[t._v("primeiro")]),t._v("\n        período:\n      ")])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("label",{attrs:{for:"turmas2"}},[t._v("\n        Turmas do\n        "),e("b",[t._v("terceiro")]),t._v("\n        período:\n      ")])}];e("2caf"),e("ac4d"),e("8a81"),e("5df3"),e("1c4c"),e("7f7f"),e("6b54"),e("87b3"),e("1c01"),e("58b2"),e("8e6e"),e("f3e2"),e("d25f"),e("ac6a"),e("456d"),e("4f37"),e("6762"),e("2fdb"),e("28a5"),e("a481");function i(t){if(Array.isArray(t))return t}function o(t,r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var e=[],n=!0,a=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(n=(o=c.next()).done);n=!0)if(e.push(o.value),r&&e.length===r)break}catch(u){a=!0,i=u}finally{try{n||null==c["return"]||c["return"]()}finally{if(a)throw i}}return e}}var c=e("06c5");function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,r){return i(t)||o(t,r)||Object(c["a"])(t,r)||u()}e("96cf");var l=e("1da1"),f=e("ade3"),d=e("2f62"),p=e("0a94"),b=e("9429"),h=e("1146"),v=e.n(h),m=e("ebd8"),y=e("eaf8");function g(t,r){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=O(t))||r&&t&&"number"===typeof t.length){e&&(t=e);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return o=t.done,t},e:function(t){c=!0,i=t},f:function(){try{o||null==e.return||e.return()}finally{if(c)throw i}}}}function O(t,r){if(t){if("string"===typeof t)return w(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?w(t,r):void 0}}function w(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function S(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function j(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?S(Object(e),!0).forEach((function(r){Object(f["a"])(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):S(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}var E={name:"ModalImportPlano",props:{plano:{type:Object,required:!0}},methods:j(j({},Object(d["b"])(["createTurma","editPedido"])),{},{handleImportPlano:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var r,e,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=s(this.$refs.input1periodo.files,1),e=r[0],n=s(this.$refs.input3periodo.files,1),a=n[0],e||a){t.next=4;break}throw new Error("Nenhum arquivo selecionado");case 4:return t.next=6,m["a"].create(this.plano);case 6:return i=t.sent,t.next=9,this.readInputFileTurmas(e,i.Plano.id,1);case 9:return t.next=11,this.readInputFileTurmas(a,i.Plano.id,3);case 11:case"end":return t.stop()}}),t,this)})));function r(){return t.apply(this,arguments)}return r}(),readInputFileTurmas:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(r,e,n){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=new FileReader,a.onload=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(r){var a,o,c,u,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=v.a.read(r.target.result,{type:"binary"}),o=a.Sheets[a.SheetNames[0]],c=JSON.stringify(v.a.utils.sheet_to_json(o)),u=c.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s/g,""),s=JSON.parse(u),t.next=7,i.createTurmasImported(s,e,n);case 7:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),a.readAsBinaryString(r);case 3:case"end":return t.stop()}}),t)})));function r(r,e,n){return t.apply(this,arguments)}return r}(),createTurmasImported:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(r,e,n){var a,i,o,c,u,s,l,f,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(o in a={disciplinaCod:null,letra:null,cursoCod:null,vagas1:null,vagas2:null,horarioESala:null,docentes:null},i=0,r[0])1===i?a.disciplinaCod=o:2===i?a.letra=o:3===i?a.cursoCod=o:5===i?a.vagas1=o:6===i?a.vagas2=o:7===i?a.horarioESala=o:8===i&&(a.docentes=o),i++;c={},u=g(r),t.prev=5,u.s();case 7:if((s=u.n()).done){t.next=23;break}if(l=s.value,f=Object(y["b"])({periodo:n,Plano:e,letra:l[a.letra]||null}),this.setDisciplina(f,l[a.disciplinaCod]),this.setHorariosESalas(f,l[a.horarioESala]),this.setDocentes(f,l[a.docentes]),f.Disciplina&&f.letra&&f.turno1){t.next=15;break}return t.abrupt("continue",21);case 15:if(!this.turmasIsEqual(c,f)){t.next=17;break}return t.abrupt("continue",21);case 17:return t.next=19,this.createTurma(f);case 19:d=t.sent,c=j({},d);case 21:t.next=7;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](5),u.e(t.t0);case 28:return t.prev=28,u.f(),t.finish(28);case 31:case"end":return t.stop()}}),t,this,[[5,25,28,31]])})));function r(r,e,n){return t.apply(this,arguments)}return r}(),createPedido:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(r,e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={Turma:null,Curso:null,vagasNaoPeriodizadas:0,vagasPeriodizadas:0,vagasOferecidas:0,vagasOcupadas:0},a.Turma=n,a.Curso=this.findCursoId(r[e.cursoCod]),a.vagasOferecidas=r[e.vagas1],a.vagasOcupadas=r[e.vagas2],!a.Curso){t.next=10;break}return t.next=8,this.editPedido(a);case 8:t.next=11;break;case 10:console.log("Curso não econtrado: "+r[e.cursoCod]);case 11:case"end":return t.stop()}}),t,this)})));function r(r,e,n){return t.apply(this,arguments)}return r}(),setDisciplina:function(t,r){if(r){var e=Object(p["a"])(this.AllDisciplinas,["codigo",r]);t.Disciplina=e?e.id:null}},setHorariosESalas:function(t,r){if(r){var e=r.split(";"),n=s(e,2),a=n[0],i=n[1];t.Horario1=this.findHorarioId(a),t.Horario2=this.findHorarioId(i),t.turno1=this.findTurno(t.Horario1,t.Horario2),"EAD"!==t.turno1&&(t.Sala1=this.findSalaId(a),t.Sala2=this.findSalaId(i))}},setDocentes:function(t,r){if(r){var e=r.split(";"),n=s(e,2),a=n[0],i=n[1];t.Docente1=this.findDocenteId(a),t.Docente2=this.findDocenteId(i)}},findTurno:function(t,r){return t||r?31==t?"EAD":Object(b["a"])(this.HorariosNoturno,["id",t])||Object(b["a"])(this.HorariosNoturno,["id",r])?"Noturno":"Diurno":null},findCursoId:function(t){if(!t)return null;var r=Object(p["a"])(this.AllCursos,["codigo",t]);return r?r.id:null},findDocenteId:function(t){if(!t)return null;var r=Object(p["a"])(this.AllDocentes,(function(r){return Object(y["d"])(r.nome)===Object(y["d"])(t)}));return r?r.id:null},findHorarioId:function(t){if(!t)return null;var r=t.split(","),e=s(r,3),n=e[0],a=e[1],i=e[2],o=this.findHorarioNomeByDiaEHora(n,a);if(o){var c=Object(p["a"])(this.AllHorarios,["horario",o]);return c?c.id:null}return Object(y["d"])(i).includes(Object(y["d"])("HORÁRIO EAD"))?(console.log("EAD sala",i),31):null},findHorarioNomeByDiaEHora:function(t,r){if(!t||!r)return null;var e=null,n=null;switch(t.trim().substring(0,3).toLowerCase()){case"seg":e="2a";break;case"ter":e="3a";break;case"qua":e="4a";break;case"qui":e="5a";break;case"sex":e="6a";break;case"sab":return"EAD"}var a=Object(p["a"])(this.ListaDeTodosHorarios,(function(t){return t.nome.includes(r.substring(0,2)+"-")}));return n=a?a.nome:null,e&&n?e+" "+n:null},findSalaId:function(t){if(!t)return null;var r=t.split(","),e=s(r,3),n=e[2],a=Object(y["d"])(n),i=Object(p["a"])(this.AllSalas,(function(t){var r=Object(y["d"])(t.nome);return a.includes(r)}));return i?i.id:null},turmasIsEqual:function(t,r){return t.letra===r.letra&&t.Disciplina===r.Disciplina&&t.Horario1===r.Horario1&&t.Horario2===r.Horario2}}),computed:j({},Object(d["c"])(["AllHorarios","HorariosNoturno","AllDisciplinas","AllCursos","ListaDeTodosHorarios","AllTurmas","AllSalas","AllDocentes","PeriodosLetivos"]))},D=E,x=e("2877"),A=Object(x["a"])(D,n,a,!1,null,null,null);r["default"]=A.exports},ac4d:function(t,r,e){e("3a72")("asyncIterator")},d2c8:function(t,r,e){var n=e("aae3"),a=e("be13");t.exports=function(t,r,e){if(n(r))throw TypeError("String#"+e+" doesn't accept regex!");return String(a(t))}},d4c0:function(t,r,e){var n=e("0d58"),a=e("2621"),i=e("52a7");t.exports=function(t){var r=n(t),e=a.f;if(e){var o,c=e(t),u=i.f,s=0;while(c.length>s)u.call(t,o=c[s++])&&r.push(o)}return r}}}]);
//# sourceMappingURL=chunk-2f52e9e4.1cbbcc6b.js.map