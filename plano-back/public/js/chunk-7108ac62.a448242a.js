(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7108ac62","chunk-2d21764f"],{7545:function(e,a,r){"use strict";r.r(a);var t=function(){var e=this,a=e._self._c;return a("div",{staticClass:"main-component row"},[a("portal",{attrs:{to:"page-header"}},[a("BaseButton",{attrs:{title:"Importar disciplinas na grade",type:"icon",color:"gray"},on:{click:e.handleImportarDisciplinas}},[a("font-awesome-icon",{attrs:{icon:["fas","file-import"]}})],1),a("BaseButton",{attrs:{template:"ajuda"},on:{click:function(a){return e.$refs.modalAjuda.toggle()}}})],1),a("keep-alive",["DCC"===e.currentTab?a("DisciplinasGradesContent",{key:"DCC",attrs:{arraysData:e.contentPropsDCC.arraysData,disciplinaGradeServices:e.contentPropsDCC.services,currentTab:e.currentTab},on:{"change-tab":function(a){e.currentTab=a}}}):a("DisciplinasGradesContent",{key:"Outros",attrs:{arraysData:e.contentPropsOutros.arraysData,disciplinaGradeServices:e.contentPropsOutros.services,currentTab:e.currentTab},on:{"change-tab":function(a){e.currentTab=a}}})],1),a("ModalAjuda",{ref:"modalAjuda"},[a("li",{staticClass:"list-group-item"},[a("b",[e._v("Importar Disciplinas na Grade:")]),e._v("\n      Para importar as disciplinas da grade, clique no ícone de importação\n      "),a("font-awesome-icon",{attrs:{icon:["fas","file-import"]}}),e._v("\n      para abrir o modal e selecionar o curso e grade, além do arquivo\n      "),a("strong",[e._v(".csv")]),e._v("\n      para importação.\n    ")],1),a("li",{staticClass:"list-group-item"},[a("b",[e._v("Visualizar conteúdo:")]),e._v("\n      Na parte superior do cartão à direita, selecione o curso e a grade que deseja visualizar.\n    ")]),a("li",{staticClass:"list-group-item"},[a("b",[e._v("Adicionar disciplina na grade:")]),e._v("\n      Para adicionar uma disciplina à grade selecionada, preencha o cartão à direita com os dados\n      necessários e em seguida clique em Adicionar.\n      "),a("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","plus"]}}),e._v("\n      .\n    ")],1),a("li",{staticClass:"list-group-item"},[a("b",[e._v("Editar disciplina da grade:")]),e._v("\n      Para editar uma disciplinas da grade selecionada clique na linha da tabela da disciplina que\n      deseja alterar. Em seguida, no cartão à direita, altere as informações que desejar e clique\n      em Salvar\n      "),a("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","check"]}}),e._v("\n      .\n    ")],1),a("li",{staticClass:"list-group-item"},[a("b",[e._v("Deletar disciplina da grade:")]),e._v("\n      Clique na linha da tabela da disciplina que deseja remover. Em seguida, no cartão à direita,\n      clique em Remover\n      "),a("font-awesome-icon",{staticClass:"icon-red",attrs:{icon:["fas","trash-alt"]}}),e._v("\n      e confirme a remoção na janela que será aberta.\n    ")],1),a("li",{staticClass:"list-group-item"},[a("b",[e._v("Limpar formulário:")]),e._v("\n      No cartão à direita, clique em Cancelar\n      "),a("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","times"]}}),e._v("\n      , para limpar as informações da disciplina porém a grade continuará selecionada.\n    ")],1)]),a("ModalImportacao",{ref:"modalImportacao"})],1)},n=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("ade3")),s=r("2f62"),o=r("fb5e"),c=r("4929"),l=r("d027"),u=r("616b"),d=r("c716");function p(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,t)}return r}function f(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?p(Object(r),!0).forEach((function(a){Object(i["a"])(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}var m={name:"GerenciarGrades",components:{DisciplinasGradesContent:u["default"],ModalAjuda:l["a"],ModalImportacao:d["default"]},data:function(){return{currentTab:"DCC"}},methods:{handleImportarDisciplinas:function(){this.$refs.modalImportacao.open()}},computed:f(f({},Object(s["c"])(["DisciplinasGradesExternas","AllGradesCursosExternos","AllCursos","AllGrades","DisciplinasGrades","PrincipaisCursosDCC"])),{},{CursosComGradesExternas:function(){var e=this;return this.AllCursos.filter((function(a){return e.AllGradesCursosExternos.some((function(e){return e.Curso===a.id}))}))},contentPropsDCC:function(){return{arraysData:{DisciplinasGrades:this.DisciplinasGrades,Grades:this.AllGrades,Cursos:this.PrincipaisCursosDCC},services:c["a"]}},contentPropsOutros:function(){return{arraysData:{DisciplinasGrades:this.DisciplinasGradesExternas,Grades:this.AllGradesCursosExternos,Cursos:this.CursosComGradesExternas},services:o["a"]}}})},h=m,b=r("2877"),v=Object(b["a"])(h,t,n,!1,null,null,null);a["default"]=v.exports},c716:function(e,a,r){"use strict";r.r(a);var t=function(){var e=this,a=e._self._c;return a("BaseModal",{ref:"BaseModalDisciplinaGrade",attrs:{title:"Importação de Disciplinas na Grade",hasOverlay:!0,hasFooter:!0},scopedSlots:e._u([{key:"modal-body",fn:function(){return[a("div",{staticClass:"row"},[a("VSelect",{staticClass:"col-7",attrs:{label:"Curso"},on:{change:e.handleSelectCurso},model:{value:e.cursoSelecionado,callback:function(a){e.cursoSelecionado=a},expression:"cursoSelecionado"}},e._l(e.cursosDCCOrdered,(function(e){return a("VOption",{key:e.codigo,attrs:{value:e,text:e.nome}})})),1),a("VSelect",{staticClass:"col-5",attrs:{label:"Grade",disabled:!e.hasCursoSelected},model:{value:e.gradeSelecionada,callback:function(a){e.gradeSelecionada=a},expression:"gradeSelecionada"}},[e.hasCursoSelected?e._l(e.gradesCursoSelecionado,(function(e){return a("VOption",{key:e.id,attrs:{value:e,text:e.nome}})})):a("VOption",{attrs:{text:"Nenhuma grade encontrada"}})],2)],1),a("p",{staticClass:"alert alert-secondary my-2"},[e._v("\n      Selecione o curso e a sua grade acima e o arquivo a ser importado. O arquivo deve\n      "),a("br"),e._v("\n      ser importado de acordo com a grade selecionada.\n    ")]),a("div",{staticClass:"col"},[a("VInputFile",{attrs:{label:"Selecione o arquivo",accept:".csv"},model:{value:e.fileImportacao,callback:function(a){e.fileImportacao=a},expression:"fileImportacao"}})],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[a("BaseButton",{staticClass:"px-3 ml-auto",attrs:{text:"OK",color:"green"},on:{click:e.handleImport}})]},proxy:!0}])})},n=[],i=(r("ac4d"),r("8a81"),r("5df3"),r("1c4c"),r("7f7f"),r("6b54"),r("87b3"),r("8e6e"),r("456d"),r("7514"),r("ac6a"),r("96cf"),r("1da1")),s=r("ade3"),o=r("25df"),c=r("eaf8"),l=r("2f62"),u=r("4929"),d=r("d4b9");function p(e,a){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))||a&&e&&"number"===typeof e.length){r&&(e=r);var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function f(e,a){if(e){if("string"===typeof e)return m(e,a);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,a):void 0}}function m(e,a){(null==a||a>e.length)&&(a=e.length);for(var r=0,t=new Array(a);r<a;r++)t[r]=e[r];return t}function h(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,t)}return r}function b(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?h(Object(r),!0).forEach((function(a){Object(s["a"])(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}var v={components:{VInputFile:o["i"],VSelect:o["m"],VOption:o["l"]},data:function(){return{fileImportacao:null,cursoSelecionado:null,gradesCursoSelecionado:null,gradeSelecionada:null}},methods:b(b({},Object(l["b"])(["initializeProgressBar","updateProgressBar","finishProgressBar","createDisciplinasGrade"])),{},{handleImport:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r,t,n,i,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c["g"])(this.fileImportacao);case 3:a=e.sent,Object(c["k"])(a),this.initializeProgressBar({finalValue:a.length}),r=[],this.DisciplinasGrades.forEach((function(e){e.Grade===s.gradeSelecionada.id&&r.push(e)})),t=p(a);try{for(t.s();!(n=t.n()).done;)i=n.value,this.handleCreateDisciplinasNaGrade(i,r)}catch(o){t.e(o)}finally{t.f()}this.pushNotification({type:"success",text:"Disciplinas criadas na Grade"}),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),this.pushNotification({type:"error",title:"Erro ao importar disciplinas nas grades!",text:e.t0.message});case 16:return e.prev=16,this.close(),e.next=20,this.finishProgressBar();case 20:return e.finish(16);case 21:case"end":return e.stop()}}),e,this,[[0,13,16,21]])})));function a(){return e.apply(this,arguments)}return a}(),handleCreateDisciplinasNaGrade:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a,r){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a&&r.length){e.next=2;break}return e.abrupt("return");case 2:if(t={periodo:null,Disciplina:null,disciplina:null,Grade:null,obrigatoria:!1},t.Grade=this.gradeSelecionada.id,"-"==a.PERIODO?t.periodo=15:t.periodo=+a.PERIODO,t.Disciplina=this.getIdDisciplina(a.CODIGO),t.disciplina=this.disciplinaFound(t.Disciplina),t.obrigatoria=+a.OBRIGATORIA,"number"!==typeof t.Disciplina){e.next=11;break}return e.next=11,this.createDisciplinasGrade(t,r);case 11:case"end":return e.stop()}}),e,this)})));function a(a,r){return e.apply(this,arguments)}return a}(),createDisciplinasGrade:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a,r){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.checkDiscGradeExiste(a,r),!t){e.next=6;break}return e.next=4,u["a"].update(a.Disciplina,a.Grade,a);case 4:e.next=8;break;case 6:return e.next=8,u["a"].create(a);case 8:this.updateProgressBar();case 9:case"end":return e.stop()}}),e,this)})));function a(a,r){return e.apply(this,arguments)}return a}(),checkDiscGradeExiste:function(e,a){var r,t=p(a);try{for(t.s();!(r=t.n()).done;){var n=r.value;if(e.Disciplina===n.Disciplina)return!0}}catch(i){t.e(i)}finally{t.f()}return!1},open:function(){this.$refs.BaseModalDisciplinaGrade.open()},close:function(){this.$refs.BaseModalDisciplinaGrade.close()},handleSelectCurso:function(){var e=this;this.gradesCursoSelecionado=this.AllGrades.filter((function(a){return a.Curso==e.cursoSelecionado.id}))},getIdDisciplina:function(e){var a,r=p(this.AllDisciplinas);try{for(r.s();!(a=r.n()).done;){var t=a.value;if(t.codigo==e)return t.id}}catch(n){r.e(n)}finally{r.f()}},disciplinaFound:function(e){return this.AllDisciplinas.find((function(a){return a.id===e}))}}),computed:b(b({},Object(l["c"])(["PrincipaisCursosDCC","AllDisciplinas","AllGrades","DisciplinasGrades"])),{},{hasCursoSelected:function(){return this.cursoSelecionado},cursosDCCOrdered:function(){return Object(d["a"])(this.PrincipaisCursosDCC,"name")}})},g=v,C=r("2877"),y=Object(C["a"])(g,t,n,!1,null,null,null);a["default"]=y.exports}}]);
//# sourceMappingURL=chunk-7108ac62.a448242a.js.map