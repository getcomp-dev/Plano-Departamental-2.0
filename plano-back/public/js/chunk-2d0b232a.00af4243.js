(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b232a"],{"22a5":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"main-component"},[t("portal",{attrs:{to:"page-header"}},[t("BaseButton",{attrs:{template:"ajuda"},on:{click:function(a){return e.$refs.modalAjuda.toggle()}}})],1),t("div",{staticClass:"page-content"},[t("div",{staticClass:"div-table"},[t("BaseTable",{scopedSlots:e._u([{key:"thead",fn:function(){return[t("v-th-ordination",{attrs:{currentOrder:e.ordenacaoUsuarios,orderToCheck:"nome",width:"150",align:"start"}},[e._v("\n            Nome\n          ")]),t("v-th-ordination",{attrs:{currentOrder:e.ordenacaoUsuarios,orderToCheck:"login",width:"120",align:"start"}},[e._v("\n            Login\n          ")]),t("v-th-ordination",{attrs:{currentOrder:e.ordenacaoUsuarios,orderToCheck:"admin",orderType:"desc",width:"90",align:"start"}},[e._v("\n            Tipo\n          ")])]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.UsuariosOrdered,(function(a){return t("tr",{key:a.id,class:{"bg-selected":a.id===e.usuarioClickado},on:{click:function(t){return e.selecionaUsuario(a)}}},[t("v-td",{attrs:{width:"150",align:"start"}},[e._v(e._s(a.nome))]),t("v-td",{attrs:{width:"120",align:"start"}},[e._v(e._s(a.login))]),t("v-td",{attrs:{width:"90",align:"start"}},[e._v(e._s(e.adminText(a.admin)))])],1)})),e.UsuariosOrdered.length?e._e():t("tr",[t("v-td",{attrs:{width:"360",colspan:"3"}},[t("b",[e._v("Nenhum usuário encontrado")])])],1)]},proxy:!0}])})],1),t("Card",{attrs:{title:"Usuário",toggleFooter:e.isEditing},on:{"btn-salvar":e.handleUpdateUsuario,"btn-delete":e.openModalDelete,"btn-add":e.handleCreateUsuario,"btn-clean":e.cleanUsuarioForm},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"row mb-2 mx-0"},[t("div",{staticClass:"form-group col m-0 px-0"},[t("label",{attrs:{required:"",for:"usuarioNome"}},[e._v("Nome")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.usuarioForm.nome,expression:"usuarioForm.nome"}],staticClass:"form-control input-lg",attrs:{id:"usuarioNome",type:"text"},domProps:{value:e.usuarioForm.nome},on:{input:function(a){a.target.composing||e.$set(e.usuarioForm,"nome",a.target.value)}}})])]),t("div",{staticClass:"row mb-2 mx-0"},[t("div",{staticClass:"form-group col m-0 px-0"},[t("label",{attrs:{required:"",for:"login"}},[e._v("Login")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.usuarioForm.login,expression:"usuarioForm.login"}],staticClass:"form-control input-lg",attrs:{type:"text",id:"login"},domProps:{value:e.usuarioForm.login},on:{input:function(a){a.target.composing||e.$set(e.usuarioForm,"login",a.target.value)}}})])]),e.isEditing?e.isEditing?[t("ButtonSlideSection",{attrs:{isOpen:e.isEditingSenha},on:{"handel-click":e.toggleEditSenha}}),t("transition-group",{attrs:{name:"slideY",mode:"out-in"}},[e.isEditingSenha?[t("div",{key:"senha",staticClass:"row mb-2 mx-0"},[t("div",{staticClass:"form-group col m-0 px-0"},[t("label",{attrs:{required:"",for:"novaSenha"}},[e._v("Nova senha")]),t("InputPassword",{attrs:{iconSize:13,inputId:"novaSenha"},model:{value:e.usuarioForm.senha,callback:function(a){e.$set(e.usuarioForm,"senha",a)},expression:"usuarioForm.senha"}})],1)]),t("div",{key:"confirma",staticClass:"row mb-2 mx-0"},[t("div",{staticClass:"form-group col m-0 px-0"},[t("label",{attrs:{required:"",for:"confirmaSenha"}},[e._v("Confirmar nova senha")]),t("InputPassword",{attrs:{iconSize:13,isInvalid:e.confirmaSenha!=e.usuarioForm.senha,inputId:"confirmaSenha"},model:{value:e.confirmaSenha,callback:function(a){e.confirmaSenha=a},expression:"confirmaSenha"}})],1)])]:e._e()],2)]:e._e():[t("div",{staticClass:"row mb-2 mx-0"},[t("div",{staticClass:"form-group col m-0 px-0"},[t("label",{attrs:{required:"",for:"novaSenha"}},[e._v("Senha")]),t("InputPassword",{attrs:{iconSize:13,inputId:"novaSenha"},model:{value:e.usuarioForm.senha,callback:function(a){e.$set(e.usuarioForm,"senha",a)},expression:"usuarioForm.senha"}})],1)]),t("div",{staticClass:"row mb-2 mx-0"},[t("div",{staticClass:"form-group col m-0 px-0"},[t("label",{attrs:{required:"",for:"confirmaSenha"}},[e._v("Confirmar senha")]),t("InputPassword",{attrs:{iconSize:13,isInvalid:e.confirmaSenha!=e.usuarioForm.senha,inputId:"confirmaSenha"},model:{value:e.confirmaSenha,callback:function(a){e.confirmaSenha=a},expression:"confirmaSenha"}})],1)])],t("div",{staticClass:"row mb-2 mx-0"},[t("div",{staticClass:"form-group col m-0 px-0"},[t("label",{attrs:{for:"usuarioAdmin"}},[e._v("Tipo")]),t("select",{directives:[{name:"model",rawName:"v-model.number",value:e.usuarioForm.admin,expression:"usuarioForm.admin",modifiers:{number:!0}}],staticClass:"form-control input-lg",attrs:{id:"usuarioAdmin"},on:{change:function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(a){var t="_value"in a?a._value:a.value;return e._n(t)}));e.$set(e.usuarioForm,"admin",a.target.multiple?t:t[0])}}},[t("option",{domProps:{value:0}},[e._v("Consulta")]),t("option",{domProps:{value:1}},[e._v("Comissão")]),t("option",{domProps:{value:2}},[e._v("Administrador")])])])])]},proxy:!0}])})],1),t("ModalDelete",{ref:"modalDelete",attrs:{isDeleting:e.isEditing},on:{"btn-deletar":e.handleDeleteUsuario}},[t("li",{staticClass:"list-group-item"},[t("span",[e.isEditing?[e._v("\n          Tem certeza que deseja excluír o usuário\n          "),t("b",[e._v(e._s(e.usuarioForm.nome))]),e._v("\n          ?\n        ")]:[e._v("Nenhum usuário selecionado!")]],2)])]),t("ModalAjuda",{ref:"modalAjuda"},[t("li",{staticClass:"list-group-item"},[t("b",[e._v("Adicionar:")]),e._v("\n      Preencha o cartão em branco à direita e em seguida, clique em Adicionar\n      "),t("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","plus"]}}),e._v("\n      .\n    ")],1),t("li",{staticClass:"list-group-item"},[t("b",[e._v("Editar:")]),e._v("\n      Clique na linha da tabela do usuário que deseja alterar. Em seguida, no cartão à direita,\n      altere as informações que desejar e clique em Salvar\n      "),t("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","check"]}}),e._v("\n      .\n    ")],1),t("li",{staticClass:"list-group-item"},[t("b",[e._v("Deletar:")]),e._v("\n      Clique na linha da tabela do usuário que deseja remover. Em seguida, no cartão à direita,\n      clique em Remover\n      "),t("font-awesome-icon",{staticClass:"icon-red",attrs:{icon:["fas","trash"]}}),e._v("\n      e confirme a remoção na janela que será aberta.\n    ")],1),t("li",{staticClass:"list-group-item"},[t("b",[e._v("Limpar:")]),e._v("\n      No cartão à direita, clique em Cancelar\n      "),t("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","times"]}}),e._v("\n      , para limpar as informações.\n    ")],1),t("li",{staticClass:"list-group-item"},[t("b",[e._v("Ordenar:")]),e._v("\n      Clique no cabeçalho da tabela, na coluna desejada, para alterar a ordenação das informações.\n    ")])])],1)},i=[],n=(t("1c01"),t("58b2"),t("8e6e"),t("f3e2"),t("d25f"),t("ac6a"),t("456d"),t("96cf"),t("1da1")),o=t("ade3"),s=t("d4b9"),u=t("2f62"),c=t("25df"),l=t("d027");function d(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?d(Object(t),!0).forEach((function(a){Object(o["a"])(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var h={nome:"",login:"",senha:"",admin:0},p={name:"GerenciarUsuarios",components:{Card:c["c"],InputPassword:c["d"],ButtonSlideSection:c["b"],ModalDelete:l["b"],ModalAjuda:l["a"]},data:function(){return{usuarioForm:h,confirmaSenha:"",usuarioClickado:null,isEditingSenha:!1,ordenacaoUsuarios:{order:"nome",type:"asc"}}},methods:m(m({},Object(u["b"])(["updateUsuario","createUsuario","deleteUsuario"])),{},{adminText:function(e){return 0===e?"Consulta":1===e?"Comissão":2===e?"Administrador":void 0},openModalDelete:function(){this.$refs.modalDelete.open()},toggleEditSenha:function(){this.isEditingSenha=!this.isEditingSenha,this.usuarioForm.senha="",this.confirmaSenha=""},selecionaUsuario:function(e){this.cleanUsuarioForm(),this.usuarioClickado=e.id,this.usuarioForm=m({},e)},cleanUsuarioForm:function(){this.usuarioClickado=null,this.confirmaSenha="",this.isEditingSenha=!1,this.usuarioForm=m({},h)},handleCreateUsuario:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.setLoading({type:"partial",value:!0}),this.confirmaSenha===this.usuarioForm.senha){e.next=4;break}throw new Error("Campo senha e confirmar senha devem ser iguais.");case 4:return e.next=6,this.createUsuario({data:this.usuarioForm,notify:!0});case 6:this.cleanUsuarioForm(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.pushNotification({type:"error",text:e.t0.message});case 12:return e.prev=12,this.setLoading({type:"partial",value:!1}),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[0,9,12,15]])})));function a(){return e.apply(this,arguments)}return a}(),handleUpdateUsuario:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.setLoading({type:"partial",value:!0}),!this.isEditingSenha||this.usuarioForm.senha){e.next=4;break}throw new Error("Campo <b>senha</b> inválido.");case 4:if(this.confirmaSenha===this.usuarioForm.senha){e.next=6;break}throw new Error("Campo senha e confirmar senha devem ser iguais.");case 6:return e.next=8,this.updateUsuario({data:this.usuarioForm,notify:!0});case 8:this.usuarioForm.senha="",this.confirmaSenha="",e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),this.pushNotification({type:"error",text:e.t0.message});case 15:return e.prev=15,this.setLoading({type:"partial",value:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[0,12,15,18]])})));function a(){return e.apply(this,arguments)}return a}(),handleDeleteUsuario:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.setLoading({type:"partial",value:!0}),e.next=4,this.deleteUsuario({data:this.usuarioForm,notify:!0});case 4:this.cleanUsuarioForm(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.pushNotification({type:"error",text:e.t0.message});case 10:return e.prev=10,this.setLoading({type:"partial",value:!1}),e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,7,10,13]])})));function a(){return e.apply(this,arguments)}return a}()}),computed:m(m({},Object(u["c"])(["AllUsuarios"])),{},{UsuariosOrdered:function(){var e=this.ordenacaoUsuarios,a=e.order,t=e.type;return Object(s["a"])(this.AllUsuarios,(function(e){switch(a){case"nome":case"login":return e[a].toLowerCase();default:return e[a]}}),t)},isEditing:function(){return null!=this.usuarioClickado}})},f=p,v=t("2877"),g=Object(v["a"])(f,r,i,!1,null,null,null);a["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d0b232a.00af4243.js.map