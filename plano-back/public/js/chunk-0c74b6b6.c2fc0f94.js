(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c74b6b6"],{"0bbd":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-component row"},[a("portal",{attrs:{to:"page-header"}},[a("BaseButton",{attrs:{template:"filtros"},on:{click:function(t){return e.toggleAsideModal("filtros")}}}),a("BaseButton",{attrs:{template:"ajuda"},on:{click:function(t){return e.toggleAsideModal("ajuda")}}})],1),a("div",{staticClass:"div-table"},[a("BaseTable",{scopedSlots:e._u([{key:"thead",fn:function(){return[a("v-th",{attrs:{width:"110"}},[e._v("Tabela Modificada")]),a("v-th",{attrs:{width:"120"}},[e._v("Campo Modificado")]),a("v-th",{attrs:{width:"200"}},[e._v("Linha Modificada")]),a("v-th",{attrs:{width:"120"}},[e._v("Valor Anterior")]),a("v-th",{attrs:{width:"120"}},[e._v("Novo Valor")]),a("v-th",{attrs:{width:"65"}},[e._v("Operação")]),a("v-th",{attrs:{width:"80"}},[e._v("Usuário")]),a("v-th",{attrs:{width:"160"}},[e._v("Data")])]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.HistoryOrdered,(function(t){return a("tr",{key:t.id},[a("v-td",{attrs:{width:"110"}},[e._v(e._s(t.tabelaModificada))]),a("v-td",{attrs:{width:"120",paddingX:"0"}},[e._v("\n            "+e._s(t.campoModificado)+"\n          ")]),a("v-td",{attrs:{width:"200",paddingX:"0"}},[e._v("\n            "+e._s(e.linhaModificada(t))+"\n          ")]),a("v-td",{attrs:{width:"120",paddingX:"0"}},[e._v("\n            "+e._s(e.valorAnterior(t))+"\n          ")]),a("v-td",{attrs:{width:"120",paddingX:"0"}},[e._v("\n            "+e._s(e.valorNovo(t))+"\n          ")]),a("v-td",{attrs:{width:"65",paddingX:"0"}},[e._v("\n            "+e._s(t.tipoOperacao)+"\n          ")]),a("v-td",{attrs:{width:"80",paddingX:"0"}},[e._v("\n            "+e._s(t.usuario)+"\n          ")]),a("v-td",{attrs:{width:"160",paddingX:"0"}},[e._v("\n            "+e._s(e.parseDateUTC(t.createdAt))+"\n          ")])],1)})),e.HistoryOrdered.length?e._e():a("tr",[a("v-td",{attrs:{width:"975",colspan:"8"}},[a("b",[e._v("Nenhuma operação encontrada.")]),e._v("\n            Clique no botão de filtros\n            "),a("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),e._v("\n            para selecioná-las.\n          ")],1)],1)]},proxy:!0}])})],1),a("ModalFiltros",{ref:"modalFiltros",attrs:{callbacks:e.modalFiltrosCallbacks,tabsOptions:e.modalFiltrosTabs}},[a("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Tabelas"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Tabelas'"}],attrs:{type:"modal"},scopedSlots:e._u([{key:"thead",fn:function(){return[a("v-th",{attrs:{width:"25"}}),a("v-th",{attrs:{width:"425",align:"start"}},[e._v("Nome")])]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.TabelasOptions,(function(t){return a("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:t.id+t.nome,on:{click:function(a){return e.toggleItemInArray(t,e.filtroTabelas.selecionados)}}},[a("v-td",{attrs:{width:"25",type:"content"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroTabelas.selecionados,expression:"filtroTabelas.selecionados"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.filtroTabelas.selecionados)?e._i(e.filtroTabelas.selecionados,t)>-1:e.filtroTabelas.selecionados},on:{change:function(a){var o=e.filtroTabelas.selecionados,i=a.target,r=!!i.checked;if(Array.isArray(o)){var s=t,n=e._i(o,s);i.checked?n<0&&e.$set(e.filtroTabelas,"selecionados",o.concat([s])):n>-1&&e.$set(e.filtroTabelas,"selecionados",o.slice(0,n).concat(o.slice(n+1)))}else e.$set(e.filtroTabelas,"selecionados",r)}}})]),a("v-td",{attrs:{width:"425",align:"start"}},[e._v(e._s(t.nome))])],1)}))},proxy:!0}])}),a("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Operações"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Operações'"}],attrs:{type:"modal"},scopedSlots:e._u([{key:"thead",fn:function(){return[a("v-th",{attrs:{width:"25"}}),a("v-th",{attrs:{width:"425",align:"start"}},[e._v("Tipo")])]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.OperacoesOptions,(function(t){return a("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:t.id+t.nome,on:{click:function(a){return e.toggleItemInArray(t,e.filtroOperacoes.selecionados)}}},[a("v-td",{attrs:{width:"25",type:"content"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroOperacoes.selecionados,expression:"filtroOperacoes.selecionados"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.filtroOperacoes.selecionados)?e._i(e.filtroOperacoes.selecionados,t)>-1:e.filtroOperacoes.selecionados},on:{change:function(a){var o=e.filtroOperacoes.selecionados,i=a.target,r=!!i.checked;if(Array.isArray(o)){var s=t,n=e._i(o,s);i.checked?n<0&&e.$set(e.filtroOperacoes,"selecionados",o.concat([s])):n>-1&&e.$set(e.filtroOperacoes,"selecionados",o.slice(0,n).concat(o.slice(n+1)))}else e.$set(e.filtroOperacoes,"selecionados",r)}}})]),a("v-td",{attrs:{width:"425",align:"start"}},[e._v(e._s(t.nome))])],1)}))},proxy:!0}])})],1),a("ModalAjuda",{ref:"modalAjuda"},[a("li",{staticClass:"list-group-item"},[a("b",[e._v("Visualizar conteúdo:")]),e._v("\n      Clique no ícone de filtros\n      "),a("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),e._v("\n      no cabeçalho da página e, na janela que se abrirá, utilize as abas para navegar entre os\n      tipos de filtro disponíveis. Marque quais informações deseja visualizar, e para finalizar\n      clique no botão OK.\n    ")],1)])],1)},i=[],r=(a("1c01"),a("58b2"),a("8e6e"),a("f3e2"),a("d25f"),a("ac6a"),a("456d"),a("28a5"),a("ade3")),s=a("2909"),n=a("2f62"),c=a("0a94"),l=a("d4b9"),d=a("6740"),v=a("9429"),u=a("9165"),p=a("eaf8"),b=a("d027");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={name:"DashboardHistory",mixins:[u["l"],u["k"],u["j"]],components:{ModalFiltros:b["f"],ModalAjuda:b["a"]},data:function(){var e=this;return{asideModalsRefs:["modalFiltros","modalAjuda"],filtroOperacoes:{ativados:[],selecionados:[]},filtroTabelas:{ativados:[],selecionados:[]},modalFiltrosTabs:{current:"Tabelas",array:["Tabelas","Operações"]},modalFiltrosCallbacks:{selectNone:{Tabelas:function(){e.filtroTabelas.selecionados=[]},Operacoes:function(){e.filtroOperacoes.selecionados=[]}},selectAll:{Tabelas:function(){e.filtroTabelas.selecionados=Object(s["a"])(e.TabelasOptions)},Operacoes:function(){e.filtroOperacoes.selecionados=Object(s["a"])(e.OperacoesOptions)}},btnOk:function(){e.filtroTabelas.ativados=Object(s["a"])(e.filtroTabelas.selecionados),e.filtroOperacoes.ativados=Object(s["a"])(e.filtroOperacoes.selecionados)}}}},beforeMount:function(){this.fetchAllHistory(),this.modalFiltrosCallbacks.selectAll.Operacoes()},beforeDestroy:function(){this.clearHistoryState()},methods:h(h({},Object(n["b"])(["fetchAllHistory","clearHistoryState"])),{},{parseDateUTC:p["h"],linhaModificada:function(e){var t=e.linhaModificada,a=void 0;switch(e.tabelaModificada){case"CargaPos":if("Delete"===e.tipoOperacao){a=t.split("/");var o=Object(c["a"])(this.$store.state.docente.Docentes,{id:parseInt(a[2])});t=void 0===o?"".concat(a[0],"/").concat(a[1],"/").concat(a[2]):"".concat(a[0],"/").concat(a[1],"/").concat(o.apelido)}break;case"DisciplinaGrade":a=t.split("/");var i=Object(c["a"])(this.$store.state.disciplina.Disciplinas,{id:parseInt(a[1])}),r=Object(c["a"])(this.$store.state.grade.Grades,{id:parseInt(a[2])}),s=void 0===r?void 0:Object(c["a"])(this.$store.state.curso.Cursos,{id:r.Curso});t="".concat(void 0===r?a[2]:(void 0===s?"Curso Excluído":s.codigo)+" - "+r.nome,"/").concat(void 0===i?a[1]:i.codigo,"/").concat(a[0]);break;case"DocentePerfil":a=t.split("/");var n=Object(c["a"])(this.$store.state.docente.Docentes,{id:parseInt(a[1])}),l=Object(c["a"])(this.$store.state.perfil.Perfis,{id:parseInt(a[0])});t="".concat(void 0===n?a[1]:n.nome,"/").concat(void 0===l?a[0]:l.nome);break;case"Grade":a=t.split("/");var d=Object(c["a"])(this.$store.state.curso.Cursos,{id:parseInt(a[0])});t="".concat(void 0===d?a[0]:d.codigo," - ").concat(a[1]);break;case"Pedido":a=t.split("/");var v=Object(c["a"])(this.$store.state.turma.Turmas,{id:parseInt(a[0])}),u=void 0===v?void 0:Object(c["a"])(this.$store.state.disciplina.Disciplinas,{id:v.Disciplina}),p=Object(c["a"])(this.$store.state.curso.Cursos,{id:parseInt(a[1])});t="".concat(void 0===v?a[0]:null===v.Disciplina?"Turma Excluída":u.codigo+" "+v.letra,"/").concat(void 0===p?a[1]:p.codigo);break;case"PedidoExterno":a=t.split("/");var b=Object(c["a"])(this.$store.state.turmaExterna.Turmas,{id:parseInt(a[0])}),f=void 0===b?void 0:Object(c["a"])(this.$store.state.disciplina.Disciplinas,{id:b.Disciplina}),h=Object(c["a"])(this.$store.state.curso.Cursos,{id:parseInt(a[1])});t="".concat(void 0===b?a[0]:f.codigo+" "+b.letra,"/").concat(void 0===h?a[1]:h.codigo);break;case"Turma":a=t.split("/");var O=Object(c["a"])(this.$store.state.disciplina.Disciplinas,{id:parseInt(a[1])});t="".concat(void 0===O?a[1]:O.codigo,"/").concat(a[0]);break;case"TurmaExterna":a=t.split("/");var m=Object(c["a"])(this.$store.state.disciplina.Disciplinas,{id:parseInt(a[1])});t="".concat(void 0===m?a[1]:m.codigo,"/").concat(a[0]);break}return t},valorAnterior:function(e){var t=e.valorAnterior;switch(e.campoModificado){case"Curso":t=Object(c["a"])(this.$store.state.curso.Cursos,{id:parseInt(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.codigo;break;case"Disciplina":t=Object(c["a"])(this.$store.state.disciplina.Disciplinas,{id:parseInt(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.codigo;break;case"Docente":case"Docente1":case"Docente2":t=Object(c["a"])(this.$store.state.docente.Docentes,{id:parseInt(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.apelido;break;case"Grade":if(t=Object(c["a"])(this.$store.state.grade.Grades,{id:parseInt(e.valorAnterior)}),void 0===t)t=e.valorAnterior;else{var a=Object(c["a"])(this.$store.state.curso.Cursos,{id:parseInt(t.Curso)});t="".concat(void 0===a?t.Curso:a.codigo,"/").concat(t.nome)}break;case"Horario":case"Horario1":case"Horario2":t=Object(c["a"])(this.$store.state.horario.Horarios,{id:parseInt(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.horario;break;case"Perfil":t=Object(c["a"])(this.$store.state.perfil.Perfis,{id:parseInt(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.nome;break;case"Sala":case"Sala1":case"Sala2":t=Object(c["a"])(this.$store.state.sala.Salas,{id:parseInt(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.nome;break}return t},valorNovo:function(e){var t=e.valorNovo;switch(e.campoModificado){case"Curso":t=Object(c["a"])(this.$store.state.curso.Cursos,{id:parseInt(e.valorNovo)}),t=void 0===t?e.valorNovo:t.codigo;break;case"Disciplina":t=Object(c["a"])(this.$store.state.disciplina.Disciplinas,{id:parseInt(e.valorNovo)}),t=void 0===t?e.valorNovo:t.codigo;break;case"Docente":case"Docente1":case"Docente2":t=Object(c["a"])(this.$store.state.docente.Docentes,{id:parseInt(e.valorNovo)}),t=void 0===t?e.valorNovo:t.apelido;break;case"Grade":if(t=Object(c["a"])(this.$store.state.grade.Grades,{id:parseInt(e.valorNovo)}),void 0===t)t=e.valorNovo;else{var a=Object(c["a"])(this.$store.state.curso.Cursos,{id:parseInt(t.Curso)});t="".concat(void 0===a?t.Curso:a.codigo,"/").concat(t.nome)}break;case"Horario":case"Horario1":case"Horario2":t=Object(c["a"])(this.$store.state.horario.Horarios,{id:parseInt(e.valorNovo)}),t=void 0===t?e.valorNovo:t.horario;break;case"Perfil":t=Object(c["a"])(this.$store.state.perfil.Perfis,{id:parseInt(e.valorNovo)}),t=void 0===t?e.valorNovo:t.nome;break;case"Sala":case"Sala1":case"Sala2":t=Object(c["a"])(this.$store.state.sala.Salas,{id:parseInt(e.valorNovo)}),t=void 0===t?e.valorNovo:t.nome;break}return t}}),computed:h(h({},Object(n["c"])(["onLoading","History"])),{},{HistoryOrdered:function(){return Object(l["a"])(this.HistoryFilteredByOperacao,"id","desc")},HistoryFilteredByOperacao:function(){var e=this;return Object(d["a"])(this.HistoryFilteredByTabelas,(function(t){return Object(v["a"])(e.filtroOperacoes.ativados,["id",t.tipoOperacao])}))},HistoryFilteredByTabelas:function(){var e=this;return Object(d["a"])(this.History,(function(t){return Object(v["a"])(e.filtroTabelas.ativados,["id",t.tabelaModificada])}))},OperacoesOptions:function(){return[{nome:"Criação",id:"Create"},{nome:"Exclusão",id:"Delete"},{nome:"Edição",id:"Edit"}]},TabelasOptions:function(){return[{nome:"CARGA PÓS",id:"CargaPos"},{nome:"CURSO",id:"Curso"},{nome:"DISCIPLINA",id:"Disciplina"},{nome:"DISCIPLINA GRADE",id:"DisciplinaGrade"},{nome:"DOCENTE",id:"Docente"},{nome:"DOCENTE PERFIL",id:"DocentePerfil"},{nome:"GRADE",id:"Grade"},{nome:"PEDIDO",id:"Pedido"},{nome:"PEDIDO EXTERNO",id:"PedidoExterno"},{nome:"PERFIL",id:"Perfil"},{nome:"PLANO",id:"Plano"},{nome:"SALA",id:"Sala"},{nome:"TURMA",id:"Turma"},{nome:"TURMA EXTERNA",id:"TurmaExterna"}]}})},m=O,g=a("2877"),y=Object(g["a"])(m,o,i,!1,null,null,null);t["default"]=y.exports},"28a5":function(e,t,a){"use strict";var o=a("aae3"),i=a("cb7c"),r=a("ebd6"),s=a("0390"),n=a("9def"),c=a("5f1b"),l=a("520a"),d=a("79e5"),v=Math.min,u=[].push,p="split",b="length",f="lastIndex",h=4294967295,O=!d((function(){RegExp(h,"y")}));a("214f")("split",2,(function(e,t,a,d){var m;return m="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[b]||2!="ab"[p](/(?:ab)*/)[b]||4!="."[p](/(.?)(.?)/)[b]||"."[p](/()()/)[b]>1||""[p](/.?/)[b]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!o(e))return a.call(i,e,t);var r,s,n,c=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,p=void 0===t?h:t>>>0,O=new RegExp(e.source,d+"g");while(r=l.call(O,i)){if(s=O[f],s>v&&(c.push(i.slice(v,r.index)),r[b]>1&&r.index<i[b]&&u.apply(c,r.slice(1)),n=r[0][b],v=s,c[b]>=p))break;O[f]===r.index&&O[f]++}return v===i[b]?!n&&O.test("")||c.push(""):c.push(i.slice(v)),c[b]>p?c.slice(0,p):c}:"0"[p](void 0,0)[b]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,o){var i=e(this),r=void 0==a?void 0:a[t];return void 0!==r?r.call(a,i,o):m.call(String(i),a,o)},function(e,t){var o=d(m,e,this,t,m!==a);if(o.done)return o.value;var l=i(e),u=String(this),p=r(l,RegExp),b=l.unicode,f=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(O?"y":"g"),g=new p(O?l:"^(?:"+l.source+")",f),y=void 0===t?h:t>>>0;if(0===y)return[];if(0===u.length)return null===c(g,u)?[u]:[];var j=0,k=0,w=[];while(k<u.length){g.lastIndex=O?k:0;var T,A=c(g,O?u:u.slice(k));if(null===A||(T=v(n(g.lastIndex+(O?0:k)),u.length))===j)k=s(u,k,b);else{if(w.push(u.slice(j,k)),w.length===y)return w;for(var D=1;D<=A.length-1;D++)if(w.push(A[D]),w.length===y)return w;k=j=T}}return w.push(u.slice(j)),w}]}))},aae3:function(e,t,a){var o=a("d3f4"),i=a("2d95"),r=a("2b4c")("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==i(e))}}}]);
//# sourceMappingURL=chunk-0c74b6b6.c2fc0f94.js.map