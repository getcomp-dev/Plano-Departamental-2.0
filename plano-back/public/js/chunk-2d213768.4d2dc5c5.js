(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d213768"],{ad7f:function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"main-component row"},[t("portal",{attrs:{to:"page-header"}},[t("BaseButton",{attrs:{template:"ajuda"},on:{click:function(e){return a.$refs.modalAjuda.toggle()}}})],1),t("div",{staticClass:"page-content"},[t("div",{staticClass:"div-table"},[t("BaseTable",{scopedSlots:a._u([{key:"thead",fn:function(){return[t("v-th-ordination",{attrs:{currentOrder:a.ordenacaoSalasMain,orderToCheck:"nome",width:"100",align:"start"}},[a._v("\n            Nome\n          ")]),t("v-th-ordination",{attrs:{currentOrder:a.ordenacaoSalasMain,orderToCheck:"laboratorio",orderType:"desc",width:"90",align:"start"}},[a._v("\n            Laboratório\n          ")]),t("v-th-ordination",{attrs:{currentOrder:a.ordenacaoSalasMain,orderToCheck:"lotacao_maxima",orderType:"desc",width:"100"}},[a._v("\n            Lotação max.\n          ")])]},proxy:!0},{key:"tbody",fn:function(){return[a._l(a.SalasOrdered,(function(e){return t("tr",{key:e.id,class:[{"bg-selected":a.salaSelected===e.id},"clickable"],on:{click:function(t){return a.handleClickInSala(e)}}},[t("v-td",{attrs:{width:"100",align:"start"}},[a._v(a._s(e.nome))]),t("v-td",{attrs:{width:"90"}},[a._v(a._s(a.generateBooleanText(e.laboratorio)))]),t("v-td",{attrs:{width:"100"}},[a._v(a._s(e.lotacao_maxima))])],1)})),a.SalasOrdered.length?a._e():t("tr",[t("v-td",{attrs:{width:"290",colspan:"3"}},[t("b",[a._v("Nenhuma sala encontrada")])])],1)]},proxy:!0}])})],1),t("Card",{attrs:{title:"Sala",toggleFooter:a.isEdit},on:{"btn-salvar":a.editSala,"btn-delete":a.openModalDelete,"btn-add":a.addSala,"btn-clean":a.cleanSala},scopedSlots:a._u([{key:"form-group",fn:function(){return[t("div",{staticClass:"row mb-2 mx-0"},[t("div",{staticClass:"form-group col m-0 px-0"},[t("label",{staticClass:"col-form-label",attrs:{required:"",for:"salaNome"}},[a._v("Nome")]),t("input",{staticClass:"form-control form-control-sm input-md",attrs:{id:"salaNome",type:"text"},domProps:{value:a.salaForm.nome},on:{change:function(e){a.salaForm.nome=a.normalizeInputText(e)}}})]),t("div",{staticClass:"form-group col m-0 px-0"},[t("label",{staticClass:"col-form-label",attrs:{required:"",for:"lotacaoMaxima"}},[a._v("Lotação Máx.")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:a.salaForm.lotacao_maxima,expression:"salaForm.lotacao_maxima",modifiers:{number:!0}}],staticClass:"form-control form-control-sm text-center input-md",attrs:{id:"lotacaoMaxima",type:"number",min:"0"},domProps:{value:a.salaForm.lotacao_maxima},on:{keypress:a.maskOnlyNumber,input:function(e){e.target.composing||a.$set(a.salaForm,"lotacao_maxima",a._n(e.target.value))},blur:function(e){return a.$forceUpdate()}}})])]),t("div",{staticClass:"row mb-2 mx-0"},[t("div",{staticClass:"form-check form-check-inline col m-0 px-0"},[t("label",{staticClass:"form-check-label mr-2",attrs:{for:"laboratorio"}},[a._v("Laboratório")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.salaForm.laboratorio,expression:"salaForm.laboratorio"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"laboratorio",value:"1"},domProps:{checked:Array.isArray(a.salaForm.laboratorio)?a._i(a.salaForm.laboratorio,"1")>-1:a.salaForm.laboratorio},on:{change:function(e){var t=a.salaForm.laboratorio,r=e.target,o=!!r.checked;if(Array.isArray(t)){var l="1",n=a._i(t,l);r.checked?n<0&&a.$set(a.salaForm,"laboratorio",t.concat([l])):n>-1&&a.$set(a.salaForm,"laboratorio",t.slice(0,n).concat(t.slice(n+1)))}else a.$set(a.salaForm,"laboratorio",o)}}})])])]},proxy:!0}])})],1),t("ModalDelete",{ref:"modalDelete",attrs:{isDeleting:a.isEdit},on:{"btn-deletar":a.deleteSala}},[t("li",{staticClass:"list-group-item"},[a.isEdit?t("span",[a._v("\n        Tem certeza que deseja excluír a sala\n        "),t("b",[a._v(a._s(a.salaForm.nome))]),a._v("\n        ?\n      ")]):t("span",[a._v("Nenhuma sala selecionada.")])])]),t("ModalAjuda",{ref:"modalAjuda"},[t("li",{staticClass:"list-group-item"},[t("b",[a._v("Adicionar:")]),a._v("\n      Preencha o cartão em branco à direita e em seguida, clique em Adicionar\n      "),t("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","plus"]}}),a._v("\n      .\n    ")],1),t("li",{staticClass:"list-group-item"},[t("b",[a._v("Editar:")]),a._v("\n      Clique na linha da tabela da sala que deseja alterar. Em seguida, no cartão à direita,\n      altere as informações que desejar e clique em Salvar\n      "),t("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","check"]}}),a._v("\n      .\n    ")],1),t("li",{staticClass:"list-group-item"},[t("b",[a._v("Deletar:")]),a._v("\n      Clique na linha da tabela da sala que deseja remover. Em seguida, no cartão à direita,\n      clique em Remover\n      "),t("font-awesome-icon",{staticClass:"icon-red",attrs:{icon:["fas","trash-alt"]}}),a._v("\n      e confirme a remoção na janela que será aberta.\n    ")],1),t("li",{staticClass:"list-group-item"},[t("b",[a._v("Limpar:")]),a._v("\n      No cartão à direita, clique em Cancelar\n      "),t("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","times"]}}),a._v("\n      , para limpar as informações.\n    ")],1),t("li",{staticClass:"list-group-item"},[t("b",[a._v("Ordenar:")]),a._v("\n      Clique no cabeçalho da tabela, na coluna desejada, para alterar a ordenação das informações.\n    ")])])],1)},o=[],l=(t("1c01"),t("58b2"),t("8e6e"),t("f3e2"),t("d25f"),t("ac6a"),t("456d"),t("ade3")),n=(t("a481"),t("2f62")),s=t("758b"),i=t("d4b9"),c=t("2746"),d=t("9165"),m=t("25df"),u=t("d027");function f(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,r)}return t}function p(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(Object(t),!0).forEach((function(e){Object(l["a"])(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}var b={id:null,nome:null,laboratorio:0,lotacao_maxima:0},h={name:"DashboardSalas",mixins:[d["k"],d["e"],d["m"]],components:{Card:m["b"],ModalAjuda:u["a"],ModalDelete:u["b"]},data:function(){return{error:null,salaSelected:null,salaForm:Object(s["a"])(b),ordenacaoSalasMain:{order:"nome",type:"asc"}}},methods:{openModalDelete:function(){this.$refs.modalDelete.open()},handleClickInSala:function(a){this.showSala(a),this.salaSelected=a.id},cleanSala:function(){this.salaSelected=null,this.salaForm=Object(s["a"])(b),this.error=null},showSala:function(a){this.cleanSala(),this.salaForm=Object(s["a"])(a)},addSala:function(){var a=this;c["a"].create(this.salaForm).then((function(e){a.cleanSala(),a.$notify({group:"general",title:"Sucesso!",text:"A Sala ".concat(e.Sala.nome," foi criada!"),type:"success"})})).catch((function(e){a.error="",e.response.data.fullMessage&&(a.error+=e.response.data.fullMessage.replace("\n","<br/>")),a.$notify({group:"general",title:"Erro ao criar sala!",text:a.error,type:"error"})}))},editSala:function(){var a=this;""===this.salaForm.lotacao_maxima&&(this.salaForm.lotacao_maxima=0),c["a"].update(this.salaForm.id,this.salaForm).then((function(e){a.$notify({group:"general",title:"Sucesso!",text:"A Sala ".concat(e.Sala.nome," foi atualizada!"),type:"success"})})).catch((function(e){a.error="<b>Erro ao atualizar Sala</b>",e.response.data.fullMessage&&(a.error+="<br/>"+e.response.data.fullMessage.replace("\n","<br/>")),a.$notify({group:"general",title:"Erro!",text:a.error,type:"error"})}))},deleteSala:function(){var a=this;c["a"].delete(this.salaForm.id,this.salaForm).then((function(e){a.cleanSala(),a.$notify({group:"general",title:"Sucesso!",text:"A Sala ".concat(e.Sala.nome," foi excluída!"),type:"success"})})).catch((function(){a.error="<b>Erro ao excluir Sala</b>",a.$notify({group:"general",title:"Erro!",text:a.error,type:"error"})}))}},computed:p(p({},Object(n["c"])(["AllSalas"])),{},{SalasOrdered:function(){return Object(i["a"])(this.AllSalas,this.ordenacaoSalasMain.order,this.ordenacaoSalasMain.type)},isEdit:function(){return null!=this.salaForm.id}})},v=h,g=t("2877"),_=Object(g["a"])(v,r,o,!1,null,null,null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d213768.4d2dc5c5.js.map