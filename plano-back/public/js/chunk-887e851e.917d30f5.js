(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-887e851e","chunk-2d0f02af"],{"0441":function(e,t,r){},"1eb9":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("BaseModal",{ref:"baseModalPlano",staticClass:"modal-plano",attrs:{title:"Plano Departamental",type:"editTurma",hasOverlay:!0,hasFooter:!0},scopedSlots:e._u([{key:"modal-body",fn:function(){return[r("NavTab",{attrs:{currentTab:e.currentTab,allTabs:["Importar","Copiar"]},on:{"change-tab":function(t){e.currentTab=t}}}),r("ImportPlano",{directives:[{name:"show",rawName:"v-show",value:"Importar"===e.currentTab,expression:"currentTab === 'Importar'"}],ref:"importPlano",attrs:{plano:e.plano,closeModal:e.close}}),r("CopyPlano",{directives:[{name:"show",rawName:"v-show",value:"Copiar"===e.currentTab,expression:"currentTab === 'Copiar'"}],ref:"copyPlano",attrs:{plano:e.plano,closeModal:e.close}})]},proxy:!0},{key:"modal-footer",fn:function(){return["Copiar"===e.currentTab?[r("BaseButton",{attrs:{text:"Selecionar Todos",color:"lightblue"},on:{click:function(t){return e.$refs.copyPlano.selectAllDisciplinas()}}}),r("BaseButton",{attrs:{text:"Desmarcar Todos",color:"gray"},on:{click:function(t){return e.$refs.copyPlano.selectNoneDisciplinas()}}}),r("BaseButton",{staticClass:"px-3",attrs:{text:"OK",color:"green"},on:{click:e.handleCreatePlano}})]:[r("BaseButton",{staticClass:"px-3 ml-auto",attrs:{text:"OK",color:"green"},on:{click:e.handleCreatePlano}})]]},proxy:!0}])})},a=[],o=(r("96cf"),r("1da1")),i=r("25df"),s=r("4775"),c=r("9ae6"),u={name:"ModalNovoPlano",components:{CopyPlano:s["default"],ImportPlano:c["default"],NavTab:i["h"]},props:{plano:{type:Object,required:!0}},data:function(){return{currentTab:"Importar"}},methods:{open:function(){this.$refs.baseModalPlano.open()},close:function(){this.$refs.baseModalPlano.close()},handleCreatePlano:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Importar"!==this.currentTab){e.next=5;break}return e.next=3,this.$refs.importPlano.handleImportPlano();case 3:e.next=8;break;case 5:if("Copiar"!==this.currentTab){e.next=8;break}return e.next=8,this.$refs.copyPlano.handleCopyPlano();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},l=u,p=(r("4c05"),r("2877")),f=Object(p["a"])(l,n,a,!1,null,null,null);t["default"]=f.exports},"4c05":function(e,t,r){"use strict";r("0441")},"9ae6":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group"},[e._m(1),r("input",{ref:"input1periodo",staticClass:"w-100 form-control-file",attrs:{id:"turmas1",type:"file",accept:".csv"}})])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col"},[e._m(2),r("input",{ref:"input3periodo",staticClass:"w-100 form-control-file",attrs:{id:"turmas3",type:"file",accept:".csv"}})])])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"alert alert-secondary"},[e._v("\n    Selecione arquivos\n    "),r("b",[e._v(".csv")]),e._v("\n    para importar as turmas de cada periodo do novo plano.\n    "),r("br"),e._v("\n    Note que o formato do arquivo requerido é o relatorio de plano departamental gerado pelo SIGA\n    na página: Acadêmico > Consultas > Plano Departamental.\n  ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{attrs:{for:"turmas1"}},[e._v("\n        Turmas do\n        "),r("b",[e._v("primeiro")]),e._v("\n        período:\n      ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{attrs:{for:"turmas2"}},[e._v("\n        Turmas do\n        "),r("b",[e._v("terceiro")]),e._v("\n        período:\n      ")])}],o=(r("2caf"),r("ac4d"),r("8a81"),r("5df3"),r("1c4c"),r("7f7f"),r("6b54"),r("87b3"),r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("d25f"),r("ac6a"),r("456d"),r("3835")),i=(r("96cf"),r("1da1")),s=r("ade3"),c=r("2f62"),u=r("eaf8"),l=r("348f");function p(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=f(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function f(e,t){if(e){if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={name:"ModalImportPlano",props:{plano:{type:Object,required:!0},closeModal:{type:Function,required:!0}},methods:b(b({},Object(c["b"])(["createPlano","createTurma","createPedidoOferecido","initializeProgressBar","updateProgressBar","finishProgressBar"])),{},{handleImportPlano:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(o["a"])(this.$refs.input1periodo.files,1),r=t[0],n=Object(o["a"])(this.$refs.input3periodo.files,1),a=n[0],r||a){e.next=5;break}return this.pushNotification({type:"error",text:"Nenhum arquivo selecionado"}),e.abrupt("return");case 5:return e.prev=5,e.next=8,Object(u["f"])(r);case 8:return i=e.sent,e.next=11,Object(u["f"])(a);case 11:return s=e.sent,Object(l["d"])(i),Object(l["d"])(s),this.initializeProgressBar({finalValue:i.length+s.length}),e.next=17,this.createPlano({data:this.plano});case 17:return c=e.sent,e.next=20,this.createTurmasFileSIGA(i,c.id,1);case 20:return e.next=22,this.createTurmasFileSIGA(s,c.id,3);case 22:this.closeModal(),this.pushNotification({type:"success",text:"Plano criado e turmas importadas"}),e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](5),this.pushNotification({type:"error",title:"Erro ao criar plano!",text:e.t0.message});case 29:return e.prev=29,e.next=32,this.finishProgressBar();case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,this,[[5,26,29,33]])})));function t(){return e.apply(this,arguments)}return t}(),createTurmasFileSIGA:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,o,i,s,c,u,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:a={},o=Object(l["a"])(t[0]),i=p(t),e.prev=5,i.s();case 7:if((s=i.n()).done){e.next=26;break}if(c=s.value,this.updateProgressBar(),u=Object(l["c"])(c,o,r,n),u){e.next=13;break}return e.abrupt("continue",24);case 13:if(!this.turmasIsEqual(a,u)){e.next=18;break}return e.next=16,this.handleCreatePedidoOferecido(c,o,a.id);case 16:e.next=24;break;case 18:return e.next=20,this.createTurma({data:u});case 20:return f=e.sent,e.next=23,this.handleCreatePedidoOferecido(c,o,f.id);case 23:a=b({},f);case 24:e.next=7;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e["catch"](5),i.e(e.t0);case 31:return e.prev=31,i.f(),e.finish(31);case 34:case"end":return e.stop()}}),e,this,[[5,28,31,34]])})));function t(t,r,n){return e.apply(this,arguments)}return t}(),handleCreatePedidoOferecido:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=Object(l["b"])(t,r,n),!a){e.next=4;break}return e.next=4,this.createPedidoOferecido({data:a}).catch((function(){}));case 4:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}(),turmasIsEqual:function(e,t){return e.letra===t.letra&&e.Disciplina===t.Disciplina}})},v=m,y=r("2877"),O=Object(y["a"])(v,n,a,!1,null,null,null);t["default"]=O.exports}}]);
//# sourceMappingURL=chunk-887e851e.917d30f5.js.map