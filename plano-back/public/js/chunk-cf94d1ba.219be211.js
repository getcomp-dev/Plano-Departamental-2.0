(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf94d1ba","chunk-2d0cebdd","chunk-2d21764f"],{"616b":function(e,i,r){"use strict";r.r(i);var a=function(){var e=this,i=e.$createElement,r=e._self._c||i;return r("div",{staticClass:"page-content"},[r("div",{staticClass:"flex flex-column flex-grow-1"},[r("NavTab",{attrs:{currentTab:e.currentTab,allTabs:["DCC","Outros"]},on:{"change-tab":function(i){return e.$emit("change-tab",i)}}}),r("div",{staticClass:"div-table"},[r("BaseTable",{attrs:{styles:"height:calc(100vh - 130px)"},scopedSlots:e._u([{key:"thead",fn:function(){return[r("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplinasMain,orderToCheck:"periodo",width:"70",title:"Período letivo"}},[e._v("\n            Período\n          ")]),r("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplinasMain,orderToCheck:"disciplina.codigo",width:"80",align:"start",title:"Código da Disciplina"}},[e._v("\n            Código\n          ")]),r("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplinasMain,orderToCheck:"disciplina.nome",width:"400",align:"start",title:"Nome da Disciplina"}},[e._v("\n            Disciplina\n          ")]),r("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplinasMain,orderToCheck:"obrigatoria",width:"70",title:"Disciplina Obrigatória na Grade"}},[e._v("\n            Obrigatória\n          ")])]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.DisciplinaGradesOrdered,(function(i){return r("tr",{key:i.Disciplina,class:["clickable",{"bg-custom":e.isEven(i.periodo)},{"bg-selected":e.disciplinaSelectedId===i.Disciplina}],on:{click:function(r){return e.handleClickInDisciplina(i)}}},[15!==i.periodo?r("v-td",{attrs:{width:"70"}},[e._v("\n              "+e._s(i.periodo)+"\n            ")]):r("v-td",{attrs:{width:"70"}},[e._v("-")]),r("v-td",{attrs:{width:"80",align:"start"}},[e._v(e._s(i.disciplina.codigo))]),r("v-td",{attrs:{width:"400",align:"start"}},[e._v(e._s(i.disciplina.nome))]),i.obrigatoria?r("v-td",{attrs:{width:"70"}},[e._v("Sim")]):r("v-td",{attrs:{width:"70"}},[e._v("-")])],1)})),e.hasGradeSelected?e.DisciplinaGradesOrdered.length?e._e():r("tr",[r("v-td",{attrs:{width:"620",colspan:"3"}},[r("b",[e._v("Nenhuma disciplina encontrada")]),e._v("\n              na grade selecionada.\n            ")])],1):r("tr",[r("v-td",{attrs:{width:"620",colspan:"3"}},[r("b",[e._v("Nenhuma disciplina encontrada")]),e._v("\n              , selecione uma grade.\n            ")])],1)]},proxy:!0}])})],1)],1),r("Card",{attrs:{title:"Disciplinas",width:"420"},scopedSlots:e._u([{key:"body",fn:function(){return[r("div",{staticClass:"row"},[r("div",{staticClass:"col-8"},[r("VSelect",{attrs:{label:"Curso"},on:{change:e.handleSelectCursos},model:{value:e.currentCursoId,callback:function(i){e.currentCursoId=i},expression:"currentCursoId"}},[e.CursosOptions.length?e._e():r("VOption",{attrs:{text:"Nenhum cursos encontrado"}}),e._l(e.CursosOptions,(function(e){return r("VOption",{key:e.nome+e.id,attrs:{value:e.id,text:e.nome}})}))],2)],1),r("div",{staticClass:"col"},[r("VSelect",{attrs:{label:"Grade",disabled:!e.hasCursoSelected},on:{change:e.handleSelectGrade},model:{value:e.currentGradeId,callback:function(i){e.currentGradeId=i},expression:"currentGradeId"}},[e.GradesOptionsFiltred.length?e._e():r("VOption",{attrs:{text:"Nenhuma grade encontrada"}}),e._l(e.GradesOptionsFiltred,(function(e){return r("VOption",{key:e.id+e.nome,attrs:{value:e.id,text:e.nome}})}))],2)],1)]),r("div",{staticClass:"w-100 border my-2"}),r("VSelect",{attrs:{label:"Disciplina",validation:e.$v.disciplinaGradeForm.Disciplina,disabled:!e.hasGradeSelected},on:{change:e.handleSelectDisciplina},model:{value:e.disciplinaGradeForm.Disciplina,callback:function(i){e.$set(e.disciplinaGradeForm,"Disciplina",i)},expression:"disciplinaGradeForm.Disciplina"}},[e.DisciplinasOptions.length?e._e():r("VOption",{attrs:{text:"Nenhuma disciplina encontrada"}}),e._l(e.DisciplinasOptions,(function(e){return r("VOption",{key:e.id+e.nome,attrs:{value:e.id,text:e.nome}})}))],2),r("div",{staticClass:"row"},[r("div",{staticClass:"col-4"},[r("VSelect",{attrs:{label:"Código",validation:e.$v.disciplinaGradeForm.Disciplina,disabled:!e.hasGradeSelected},on:{change:e.handleSelectDisciplina},model:{value:e.disciplinaGradeForm.Disciplina,callback:function(i){e.$set(e.disciplinaGradeForm,"Disciplina",i)},expression:"disciplinaGradeForm.Disciplina"}},[e.DisciplinasOptions.length?e._e():r("VOption",{attrs:{text:"Nenhuma disciplina encontrada"}}),e._l(e.DisciplinasOptions,(function(e){return r("VOption",{key:e.id+e.nome,attrs:{value:e.id,text:e.codigo}})}))],2)],1),r("div",{staticClass:"col-3"},[r("VInput",{attrs:{inputType:"number",label:"Período",validation:e.$v.disciplinaGradeForm.periodo,min:1,disabled:!e.hasGradeSelected},model:{value:e.disciplinaGradeForm.periodo,callback:function(i){e.$set(e.disciplinaGradeForm,"periodo",e._n(i))},expression:"disciplinaGradeForm.periodo"}})],1),r("div",{staticClass:"col-3"},[r("VSelect",{attrs:{label:"Obrigatória",validation:e.$v.disciplinaGradeForm.obrigatoria,disabled:!e.hasDisciplinaSelected},on:{change:e.handleSelectObrigatoria},model:{value:e.disciplinaGradeForm.obrigatoria,callback:function(i){e.$set(e.disciplinaGradeForm,"obrigatoria",i)},expression:"disciplinaGradeForm.obrigatoria"}},[e.DisciplinasOptions.length?e._e():r("VOption",{attrs:{text:"-"}}),e._l(e.obrigatoriaOpcoes,(function(e){return r("VOption",{key:e,attrs:{text:e,value:e}})}))],2)],1),r("div",{staticClass:"col"},[r("BaseButton",{staticClass:"btn-append",staticStyle:{"margin-top":"23px"},attrs:{disabled:!e.hasGradeSelected||!e.isEditDisciplina,template:"salvar",title:"Atualizar período da disciplina"},on:{click:e.handleUpdateDisciplinaGrade}})],1)])]},proxy:!0},{key:"footer",fn:function(){return[r("BaseButton",{attrs:{template:"adicionar",title:"Adicionar à Grade",disabled:!e.hasGradeSelected||e.isEditDisciplina},on:{click:e.handleCreateDisciplinaGrade}}),r("BaseButton",{attrs:{template:"deletar",title:"Deletar Disciplina",disabled:!e.hasGradeSelected||!e.isEditDisciplina},on:{click:function(i){return e.$refs.modalDelete.open()}}}),r("BaseButton",{attrs:{template:"cancelar",disabled:!e.hasGradeSelected},on:{click:e.clearDisciplina}})]},proxy:!0}])}),r("ModalDelete",{ref:"modalDelete",attrs:{isDeleting:e.isEditDisciplina},on:{"btn-deletar":e.handleDeleteDisciplinaGrade}},[e.isEditDisciplina?r("li",{staticClass:"list-group-item"},[r("span",[e._v("\n        Tem certeza que deseja excluír a disciplina\n        "),r("b",[e._v(e._s(e.disciplinaGradeForm.disciplina.nome))]),e._v("\n        ?\n      ")])]):r("li",{staticClass:"list-group-item"},[e._v("Nenhuma disciplina selecionada.")])])],1)},t=[],n=(r("2caf"),r("ac4d"),r("8a81"),r("5df3"),r("1c4c"),r("7f7f"),r("6b54"),r("87b3"),r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("ac6a"),r("456d"),r("d25f"),r("96cf"),r("1da1")),s=r("ade3"),o=(r("7514"),r("2f62")),c=r("5c8a"),l=r("d4b9"),d=r("b5ae"),u=r("a91e"),p=r("d027"),f=r("25df");function h(e,i){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=m(e))||i&&e&&"number"===typeof e.length){r&&(e=r);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,n=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw n}}}}function m(e,i){if(e){if("string"===typeof e)return b(e,i);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,i):void 0}}function b(e,i){(null==i||i>e.length)&&(i=e.length);for(var r=0,a=new Array(i);r<i;r++)a[r]=e[r];return a}function v(e,i){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),r.push.apply(r,a)}return r}function g(e){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?v(Object(r),!0).forEach((function(i){Object(s["a"])(e,i,r[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))}))}return e}var D={name:"DisciplinasGradesContent",components:{Card:f["b"],ModalDelete:p["b"],NavTab:f["e"],VInput:f["h"],VSelect:f["m"],VOption:f["l"]},props:{currentTab:{type:String,required:!0},arraysData:{type:Object,required:!0,validator:function(e){return"DisciplinasGrades"in e&&"Grades"in e&&"Cursos"in e}},disciplinaGradeServices:{type:Object,required:!0,validator:function(e){return"create"in e&&"update"in e&&"delete"in e}}},data:function(){return{disciplinaGradeForm:Object(u["c"])(),gradeForm:Object(u["e"])(),currentGradeId:null,currentCursoId:null,currentDisciplina:null,disciplinaSelectedId:null,ordenacaoDisciplinasMain:{order:"periodo",type:"asc"},obrigatoriaOpcoes:["Não","Sim"]}},validations:{disciplinaGradeForm:{periodo:{required:d["required"],integer:d["integer"],maxValue:Object(d["maxValue"])(15),minValue:Object(d["minValue"])(1)},Disciplina:{required:d["required"]},obrigatoria:{required:d["required"]}}},methods:{handleSelectCursos:function(){this.clearDisciplina(),this.clearGradeForm(),this.currentGradeId=null,this.currentDisciplina=null},handleSelectGrade:function(){this.clearDisciplina(),this.currentDisciplina=null,this.currentGradeId&&this.showGrade(this.currentGradeId)},handleSelectDisciplina:function(){var e=this;this.currentDisciplina=this.disciplinaGradeForm.Disciplina;var i=this.AllDisciplinas.find((function(i){return i.id===e.disciplinaGradeForm.Disciplina}));if(i){this.disciplinaGradeForm.disciplina=g({},i),this.disciplinaGradeForm.Grade=this.currentGradeId,this.disciplinaGradeForm.obrigatoria=this.obrigatoriaOpcoes[this.isDisciplinaObrigatoria(this.disciplinaGradeForm.disciplina)];var r=this.DisciplinaGradesFiltred.find((function(e){return e.Disciplina===i.id}));r?(this.disciplinaSelectedId=i.id,this.disciplinaGradeForm.periodo=r.periodo):this.clearClick()}},handleSelectObrigatoria:function(){return this.currentObrigatoria=this.disciplinaGradeForm.obrigatoria},isDisciplinaObrigatoria:function(e){if(e){var i,r=h(this.DisciplinaGradesOrdered);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a.disciplina.id===e.id)return a.obrigatoria}}catch(t){r.e(t)}finally{r.f()}}},handleClickInDisciplina:function(e){this.currentDisciplina=this.disciplinaGradeForm.Disciplina,this.disciplinaSelectedId=e.Disciplina,this.showGrade(this.currentGradeId),this.showDisciplina(e)},clearClick:function(){this.disciplinaSelectedId=null},clearGradeForm:function(){this.gradeForm=Object(u["e"])()},clearDisciplina:function(){var e=this;this.clearClick(),this.disciplinaGradeForm=Object(u["c"])(),this.$nextTick((function(){return e.$v.$reset()}))},showGrade:function(e){var i=this.arraysData.Grades.find((function(i){return i.id===e}));this.gradeForm=Object(c["a"])(i)},showDisciplina:function(e){this.disciplinaGradeForm=Object(c["a"])(e),this.disciplinaGradeForm.obrigatoria=this.obrigatoriaOpcoes[this.isDisciplinaObrigatoria(this.disciplinaGradeForm.disciplina)],this.disciplinaGradeForm.Grade=this.gradeForm.id},converteObrigatoriaParaNum:function(e){if(e)return"number"===typeof e?e:"Sim"===e?1:0},isEven:function(e){return e%2===0},handleCreateDisciplinaGrade:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$v.disciplinaGradeForm.$touch(),!this.$v.disciplinaGradeForm.$anyError){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,this.setLoading({type:"partial",value:!0}),i=g({},this.disciplinaGradeForm),i.obrigatoria=this.converteObrigatoriaParaNum(i.obrigatoria),e.next=9,this.disciplinaGradeServices.create(i);case 9:r=e.sent,this.disciplinaSelectedId=r.DisciplinaGrade.Disciplina,this.$notify({group:"general",title:"Sucesso!",text:"A disciplina <b>".concat(i.disciplina.nome,"</b> foi adicionada à grade\n          <b>").concat(this.gradeForm.nome,"</b>"),type:"success"}),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](3),this.$notify({group:"general",title:"Erro!",text:"Erro ao incluir disciplina, verifique se a disciplina já não existe na grade",type:"error"});case 17:return e.prev=17,this.setLoading({type:"partial",value:!1}),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[3,14,17,20]])})));function i(){return e.apply(this,arguments)}return i}(),handleUpdateDisciplinaGrade:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$v.disciplinaGradeForm.$touch(),!this.$v.disciplinaGradeForm.$anyError){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,this.setLoading({type:"partial",value:!0}),i=g({},this.disciplinaGradeForm),i.obrigatoria=this.converteObrigatoriaParaNum(i.obrigatoria),e.next=9,this.disciplinaGradeServices.update(i.Disciplina,i.Grade,i);case 9:this.$notify({group:"general",title:"Sucesso!",text:"A disciplina <b>".concat(this.disciplinaGradeForm.disciplina.nome,"</b> foi atualizada!"),type:"success"}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),this.$notify({group:"general",title:"Erro!",text:"Erro ao atualizar disciplina",type:"error"});case 15:return e.prev=15,this.setLoading({type:"partial",value:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[3,12,15,18]])})));function i(){return e.apply(this,arguments)}return i}(),handleDeleteDisciplinaGrade:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.setLoading({type:"partial",value:!0}),i=g({},this.disciplinaGradeForm),i.obrigatoria=this.converteObrigatoriaParaNum(i.obrigatoria),e.next=6,this.disciplinaGradeServices.delete(i.Disciplina,i.Grade,i);case 6:this.$notify({group:"general",title:"Sucesso!",text:"A disciplina <b>".concat(i.disciplina.nome,"</b> foi excluída da grade\n           <b>").concat(this.gradeForm.nome,"</b>"),type:"success"}),this.clearClick(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),this.$notify({group:"general",title:"Erro!",text:"Erro ao excluir disciplina",type:"error"});case 13:return e.prev=13,this.setLoading({type:"partial",value:!1}),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[0,10,13,16]])})));function i(){return e.apply(this,arguments)}return i}()},computed:g(g({},Object(o["c"])(["AllDisciplinas"])),{},{hasCursoSelected:function(){return null!=this.currentCursoId},hasGradeSelected:function(){return null!=this.currentGradeId},hasDisciplinaSelected:function(){return null!=this.currentDisciplina},isEditDisciplina:function(){return null!==this.disciplinaSelectedId},DisciplinaGradesOrdered:function(){var e=this.ordenacaoDisciplinasMain,i=e.order,r=e.type;return Object(l["a"])(this.DisciplinaGradesFiltred,i,r)},DisciplinaGradesFiltred:function(){var e=this;return this.arraysData.DisciplinasGrades.filter((function(i){return e.currentGradeId===i.Grade}))},GradesOptionsFiltred:function(){var e=this;return this.arraysData.Grades.filter((function(i){return i.Curso==e.currentCursoId}))},DisciplinasOptions:function(){return Object(l["a"])(this.AllDisciplinas,"nome")},CursosOptions:function(){return Object(l["a"])(this.arraysData.Cursos,"nome")}})},O=D,y=r("2877"),G=Object(y["a"])(O,a,t,!1,null,null,null);i["default"]=G.exports},7545:function(e,i,r){"use strict";r.r(i);var a=function(){var e=this,i=e.$createElement,r=e._self._c||i;return r("div",{staticClass:"main-component row"},[r("portal",{attrs:{to:"page-header"}},[r("BaseButton",{attrs:{title:"Importar disciplinas na grade",type:"icon",color:"gray"},on:{click:e.handleImportarDisciplinas}},[r("font-awesome-icon",{attrs:{icon:["fas","file-import"]}})],1),r("BaseButton",{attrs:{template:"ajuda"},on:{click:function(i){return e.$refs.modalAjuda.toggle()}}})],1),r("keep-alive",["DCC"===e.currentTab?r("DisciplinasGradesContent",{key:"DCC",attrs:{arraysData:e.contentPropsDCC.arraysData,disciplinaGradeServices:e.contentPropsDCC.services,currentTab:e.currentTab},on:{"change-tab":function(i){e.currentTab=i}}}):r("DisciplinasGradesContent",{key:"Outros",attrs:{arraysData:e.contentPropsOutros.arraysData,disciplinaGradeServices:e.contentPropsOutros.services,currentTab:e.currentTab},on:{"change-tab":function(i){e.currentTab=i}}})],1),r("ModalAjuda",{ref:"modalAjuda"},[r("li",{staticClass:"list-group-item"},[r("b",[e._v("Importar Disciplinas na Grade:")]),e._v("\n      Para importar as disciplinas da grade, clique no ícone de importação\n      "),r("font-awesome-icon",{attrs:{icon:["fas","file-import"]}}),e._v("\n      para abrir o modal e selecionar o curso e grade, além do arquivo\n      "),r("strong",[e._v(".csv")]),e._v("\n      para importação.\n    ")],1),r("li",{staticClass:"list-group-item"},[r("b",[e._v("Visualizar conteúdo:")]),e._v("\n      Na parte superior do cartão à direita, selecione o curso e a grade que deseja visualizar.\n    ")]),r("li",{staticClass:"list-group-item"},[r("b",[e._v("Adicionar disciplina na grade:")]),e._v("\n      Para adicionar uma disciplina à grade selecionada, preencha o cartão à direita com os dados\n      necessários e em seguida clique em Adicionar.\n      "),r("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","plus"]}}),e._v("\n      .\n    ")],1),r("li",{staticClass:"list-group-item"},[r("b",[e._v("Editar disciplina da grade:")]),e._v("\n      Para editar uma disciplinas da grade selecionada clique na linha da tabela da disciplina que\n      deseja alterar. Em seguida, no cartão à direita, altere as informações que desejar e clique\n      em Salvar\n      "),r("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","check"]}}),e._v("\n      .\n    ")],1),r("li",{staticClass:"list-group-item"},[r("b",[e._v("Deletar disciplina da grade:")]),e._v("\n      Clique na linha da tabela da disciplina que deseja remover. Em seguida, no cartão à direita,\n      clique em Remover\n      "),r("font-awesome-icon",{staticClass:"icon-red",attrs:{icon:["fas","trash-alt"]}}),e._v("\n      e confirme a remoção na janela que será aberta.\n    ")],1),r("li",{staticClass:"list-group-item"},[r("b",[e._v("Limpar formulário:")]),e._v("\n      No cartão à direita, clique em Cancelar\n      "),r("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","times"]}}),e._v("\n      , para limpar as informações da disciplina porém a grade continuará selecionada.\n    ")],1)]),r("ModalImportacao",{ref:"modalImportacao"})],1)},t=[],n=(r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("ac6a"),r("456d"),r("759f"),r("d25f"),r("ade3")),s=r("2f62"),o=r("fb5e"),c=r("4929"),l=r("d027"),d=r("616b"),u=r("c716");function p(e,i){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),r.push.apply(r,a)}return r}function f(e){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?p(Object(r),!0).forEach((function(i){Object(n["a"])(e,i,r[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))}))}return e}var h={name:"GerenciarGrades",components:{DisciplinasGradesContent:d["default"],ModalAjuda:l["a"],ModalImportacao:u["default"]},data:function(){return{currentTab:"DCC"}},methods:{handleImportarDisciplinas:function(){this.$refs.modalImportacao.open()}},computed:f(f({},Object(s["c"])(["DisciplinasGradesExternas","AllGradesCursosExternos","AllCursos","AllGrades","DisciplinasGrades","PrincipaisCursosDCC"])),{},{CursosComGradesExternas:function(){var e=this;return this.AllCursos.filter((function(i){return e.AllGradesCursosExternos.some((function(e){return e.Curso===i.id}))}))},contentPropsDCC:function(){return{arraysData:{DisciplinasGrades:this.DisciplinasGrades,Grades:this.AllGrades,Cursos:this.PrincipaisCursosDCC},services:c["a"]}},contentPropsOutros:function(){return{arraysData:{DisciplinasGrades:this.DisciplinasGradesExternas,Grades:this.AllGradesCursosExternos,Cursos:this.CursosComGradesExternas},services:o["a"]}}})},m=h,b=r("2877"),v=Object(b["a"])(m,a,t,!1,null,null,null);i["default"]=v.exports},c716:function(e,i,r){"use strict";r.r(i);var a=function(){var e=this,i=e.$createElement,r=e._self._c||i;return r("BaseModal",{ref:"BaseModalDisciplinaGrade",attrs:{title:"Importação de Disciplinas na Grade",hasOverlay:!0,hasFooter:!0},scopedSlots:e._u([{key:"modal-body",fn:function(){return[r("div",{staticClass:"row"},[r("VSelect",{staticClass:"col-7",attrs:{label:"Curso"},on:{change:e.handleSelectCurso},model:{value:e.cursoSelecionado,callback:function(i){e.cursoSelecionado=i},expression:"cursoSelecionado"}},e._l(e.cursosDCCOrdered,(function(e){return r("VOption",{key:e.codigo,attrs:{value:e,text:e.nome}})})),1),r("VSelect",{staticClass:"col-5",attrs:{label:"Grade",disabled:!e.hasCursoSelected},model:{value:e.gradeSelecionada,callback:function(i){e.gradeSelecionada=i},expression:"gradeSelecionada"}},[e.hasCursoSelected?e._l(e.gradesCursoSelecionado,(function(e){return r("VOption",{key:e.id,attrs:{value:e,text:e.nome}})})):r("VOption",{attrs:{text:"Nenhuma grade encontrada"}})],2)],1),r("p",{staticClass:"alert alert-secondary my-2"},[e._v("\n      Selecione o curso e a sua grade acima e o arquivo a ser importado. O arquivo deve\n      "),r("br"),e._v("\n      ser importado de acordo com a grade selecionada.\n    ")]),r("div",{staticClass:"col"},[r("VInputFile",{attrs:{label:"Selecione o arquivo",accept:".csv"},model:{value:e.fileImportacao,callback:function(i){e.fileImportacao=i},expression:"fileImportacao"}})],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[r("BaseButton",{staticClass:"px-3 ml-auto",attrs:{text:"OK",color:"green"},on:{click:e.handleImport}})]},proxy:!0}])})},t=[],n=(r("2caf"),r("ac4d"),r("8a81"),r("5df3"),r("1c4c"),r("7f7f"),r("6b54"),r("87b3"),r("1c01"),r("58b2"),r("8e6e"),r("456d"),r("7514"),r("d25f"),r("ac6a"),r("f3e2"),r("96cf"),r("1da1")),s=r("ade3"),o=r("25df"),c=r("eaf8"),l=r("2f62"),d=r("4929"),u=r("d4b9");function p(e,i){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=f(e))||i&&e&&"number"===typeof e.length){r&&(e=r);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,n=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw n}}}}function f(e,i){if(e){if("string"===typeof e)return h(e,i);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,i):void 0}}function h(e,i){(null==i||i>e.length)&&(i=e.length);for(var r=0,a=new Array(i);r<i;r++)a[r]=e[r];return a}function m(e,i){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?m(Object(r),!0).forEach((function(i){Object(s["a"])(e,i,r[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))}))}return e}var v={components:{VInputFile:o["i"],VSelect:o["m"],VOption:o["l"]},data:function(){return{fileImportacao:null,cursoSelecionado:null,gradesCursoSelecionado:null,gradeSelecionada:null}},methods:b(b({},Object(l["b"])(["initializeProgressBar","updateProgressBar","finishProgressBar","createDisciplinasGrade"])),{},{handleImport:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var i,r,a,t,n,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c["g"])(this.fileImportacao);case 3:i=e.sent,Object(c["k"])(i),this.initializeProgressBar({finalValue:i.length}),r=[],this.DisciplinasGrades.forEach((function(e){e.Grade===s.gradeSelecionada.id&&r.push(e)})),a=p(i);try{for(a.s();!(t=a.n()).done;)n=t.value,this.handleCreateDisciplinasNaGrade(n,r)}catch(o){a.e(o)}finally{a.f()}this.pushNotification({type:"success",text:"Disciplinas criadas na Grade"}),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),this.pushNotification({type:"error",title:"Erro ao importar disciplinas nas grades!",text:e.t0.message});case 16:return e.prev=16,this.close(),e.next=20,this.finishProgressBar();case 20:return e.finish(16);case 21:case"end":return e.stop()}}),e,this,[[0,13,16,21]])})));function i(){return e.apply(this,arguments)}return i}(),handleCreateDisciplinasNaGrade:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(i,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i&&r.length){e.next=2;break}return e.abrupt("return");case 2:if(a={periodo:null,Disciplina:null,disciplina:null,Grade:null,obrigatoria:!1},a.Grade=this.gradeSelecionada.id,"-"==i.PERIODO?a.periodo=15:a.periodo=+i.PERIODO,a.Disciplina=this.getIdDisciplina(i.CODIGO),a.disciplina=this.disciplinaFound(a.Disciplina),a.obrigatoria=+i.OBRIGATORIA,"number"!==typeof a.Disciplina){e.next=11;break}return e.next=11,this.createDisciplinasGrade(a,r);case 11:case"end":return e.stop()}}),e,this)})));function i(i,r){return e.apply(this,arguments)}return i}(),createDisciplinasGrade:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(i,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.checkDiscGradeExiste(i,r),!a){e.next=6;break}return e.next=4,d["a"].update(i.Disciplina,i.Grade,i);case 4:e.next=8;break;case 6:return e.next=8,d["a"].create(i);case 8:this.updateProgressBar();case 9:case"end":return e.stop()}}),e,this)})));function i(i,r){return e.apply(this,arguments)}return i}(),checkDiscGradeExiste:function(e,i){var r,a=p(i);try{for(a.s();!(r=a.n()).done;){var t=r.value;if(e.Disciplina===t.Disciplina)return!0}}catch(n){a.e(n)}finally{a.f()}return!1},open:function(){this.$refs.BaseModalDisciplinaGrade.open()},close:function(){this.$refs.BaseModalDisciplinaGrade.close()},handleSelectCurso:function(){var e=this;this.gradesCursoSelecionado=this.AllGrades.filter((function(i){return i.Curso==e.cursoSelecionado.id}))},getIdDisciplina:function(e){var i,r=p(this.AllDisciplinas);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a.codigo==e)return a.id}}catch(t){r.e(t)}finally{r.f()}},disciplinaFound:function(e){return this.AllDisciplinas.find((function(i){return i.id===e}))}}),computed:b(b({},Object(l["c"])(["PrincipaisCursosDCC","AllDisciplinas","AllGrades","DisciplinasGrades"])),{},{hasCursoSelected:function(){return this.cursoSelecionado},cursosDCCOrdered:function(){return Object(u["a"])(this.PrincipaisCursosDCC,"name")}})},g=v,D=r("2877"),O=Object(D["a"])(g,a,t,!1,null,null,null);i["default"]=O.exports}}]);
//# sourceMappingURL=chunk-cf94d1ba.219be211.js.map