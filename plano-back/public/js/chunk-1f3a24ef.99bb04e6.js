(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f3a24ef"],{"0bbd":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main-component row"},[i("PageHeader",{attrs:{title:"Logs"}},[i("BaseButton",{attrs:{template:"filtros"},on:{click:function(t){return e.toggleAsideModal("filtros")}}}),i("BaseButton",{attrs:{template:"ajuda"},on:{click:function(t){return e.toggleAsideModal("ajuda")}}})],1),i("div",{staticClass:"div-table"},[i("BaseTable",{scopedSlots:e._u([{key:"thead",fn:function(){return[i("th",{staticStyle:{width:"110px"}},[e._v("Tabela Modificada")]),i("th",{staticStyle:{width:"120px"}},[e._v("Campo Modificado")]),i("th",{staticStyle:{width:"200px"}},[e._v("Linha Modificada")]),i("th",{staticStyle:{width:"120px"}},[e._v("Valor Anterior")]),i("th",{staticStyle:{width:"120px"}},[e._v("Novo Valor")]),i("th",{staticStyle:{width:"65px"}},[e._v("Operação")]),i("th",{staticStyle:{width:"80px"}},[e._v("Usuário")]),i("th",{staticStyle:{width:"160px"}},[e._v("Data")])]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.HistoryOrdered,function(t){return i("tr",{key:"History"+t.id},[i("td",{staticStyle:{width:"110px"}},[e._v(e._s(t.tabelaModificada))]),i("td",{staticClass:"less-padding",staticStyle:{width:"120px"}},[e._v("\n            "+e._s(t.campoModificado)+"\n          ")]),i("td",{staticClass:"less-padding",staticStyle:{width:"200px"}},[e._v("\n            "+e._s(e.linhaModificada(t))+"\n          ")]),i("td",{staticClass:"less-padding",staticStyle:{width:"120px"}},[e._v("\n            "+e._s(e.valorAnterior(t))+"\n          ")]),i("td",{staticClass:"less-padding",staticStyle:{width:"120px"}},[e._v("\n            "+e._s(e.valorNovo(t))+"\n          ")]),i("td",{staticClass:"less-padding",staticStyle:{width:"65px"}},[e._v("\n            "+e._s(t.tipoOperacao)+"\n          ")]),i("td",{staticClass:"less-padding",staticStyle:{width:"80px"}},[e._v("\n            "+e._s(t.usuario)+"\n          ")]),i("td",{staticClass:"less-padding",staticStyle:{width:"160px"}},[e._v("\n            "+e._s(e._f("convertDateUTC")(t.createdAt))+"\n          ")])])}),i("tr",{directives:[{name:"show",rawName:"v-show",value:!e.HistoryOrdered.length,expression:"!HistoryOrdered.length"}]},[i("td",{staticStyle:{width:"975px"}},[i("b",[e._v("Nenhuma operação encontrada.")]),e._v(" Clique no botão de filtros\n            "),i("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),e._v("\n            para selecioná-las.\n          ")],1)])]},proxy:!0}])})],1),i("ModalFiltros",{ref:"modalFiltros",attrs:{callbacks:e.modalFiltrosCallbacks,tabsOptions:e.modalFiltrosTabs}},[i("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Tabelas"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Tabelas'"}],attrs:{type:"modal"},scopedSlots:e._u([{key:"thead",fn:function(){return[i("th",{staticStyle:{width:"25px"}}),i("th",{staticClass:"t-start",staticStyle:{width:"425px"}},[e._v("Nome")])]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.TabelasOptions,function(t){return i("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:t.nome+t.id,on:{click:function(i){return e.toggleItemInArray(t,e.filtroTabelas.selecionados)}}},[i("td",{staticStyle:{width:"25px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroTabelas.selecionados,expression:"filtroTabelas.selecionados"}],staticClass:"form-check-input position-static m-0",attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.filtroTabelas.selecionados)?e._i(e.filtroTabelas.selecionados,t)>-1:e.filtroTabelas.selecionados},on:{change:function(i){var a=e.filtroTabelas.selecionados,o=i.target,s=!!o.checked;if(Array.isArray(a)){var r=t,n=e._i(a,r);o.checked?n<0&&e.$set(e.filtroTabelas,"selecionados",a.concat([r])):n>-1&&e.$set(e.filtroTabelas,"selecionados",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.filtroTabelas,"selecionados",s)}}})]),i("td",{staticClass:"t-start upper-case",staticStyle:{width:"425px"}},[e._v("\n            "+e._s(t.nome)+"\n          ")])])})},proxy:!0}])}),i("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Operações"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Operações'"}],attrs:{type:"modal"},scopedSlots:e._u([{key:"thead",fn:function(){return[i("th",{staticStyle:{width:"25px"}}),i("th",{staticClass:"t-start",staticStyle:{width:"425px"}},[e._v("Tipo")])]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.OperacoesOptions,function(t){return i("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:t.id,on:{click:function(i){return e.toggleItemInArray(t,e.filtroOperacoes.selecionados)}}},[i("td",{staticStyle:{width:"25px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroOperacoes.selecionados,expression:"filtroOperacoes.selecionados"}],staticClass:"form-check-input position-static m-0",attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.filtroOperacoes.selecionados)?e._i(e.filtroOperacoes.selecionados,t)>-1:e.filtroOperacoes.selecionados},on:{change:function(i){var a=e.filtroOperacoes.selecionados,o=i.target,s=!!o.checked;if(Array.isArray(a)){var r=t,n=e._i(a,r);o.checked?n<0&&e.$set(e.filtroOperacoes,"selecionados",a.concat([r])):n>-1&&e.$set(e.filtroOperacoes,"selecionados",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.filtroOperacoes,"selecionados",s)}}})]),i("td",{staticClass:"t-start upper-case",staticStyle:{width:"425px"}},[e._v("\n            "+e._s(t.nome)+"\n          ")])])})},proxy:!0}])})],1),i("ModalAjuda",{ref:"modalAjuda"},[i("li",{staticClass:"list-group-item"},[i("b",[e._v("Visualizar conteúdo:")]),e._v("\n      Clique no ícone de filtros\n      "),i("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),e._v(" no\n      cabeçalho da página e, na janela que se abrirá, utilize as abas para navegar\n      entre os tipos de filtro disponíveis. Marque quais informações deseja\n      visualizar, e para finalizar clique no botão OK.\n    ")],1)])],1)},o=[],s=(i("759f"),i("d25f"),i("cebc")),r=i("e814"),n=i.n(r),c=(i("7514"),i("28a5"),i("75fc")),l=i("9165"),d=i("d027"),v=i("2f62"),u={name:"DashboardHistory",mixins:[l["m"],l["l"],l["c"],l["k"]],components:{ModalFiltros:d["e"],ModalAjuda:d["a"]},data:function(){var e=this;return{asideModalsRefs:["modalFiltros","modalAjuda"],filtroOperacoes:{ativados:[],selecionados:[]},filtroTabelas:{ativados:[],selecionados:[]},modalFiltrosTabs:{current:"Tabelas",array:["Tabelas","Operações"]},modalFiltrosCallbacks:{selectNone:{Tabelas:function(){e.filtroTabelas.selecionados=[]},Operacoes:function(){e.filtroOperacoes.selecionados=[]}},selectAll:{Tabelas:function(){e.filtroTabelas.selecionados=Object(c["a"])(e.TabelasOptions)},Operacoes:function(){e.filtroOperacoes.selecionados=Object(c["a"])(e.OperacoesOptions)}},btnOk:function(){e.filtroTabelas.ativados=Object(c["a"])(e.filtroTabelas.selecionados),e.filtroOperacoes.ativados=Object(c["a"])(e.filtroOperacoes.selecionados)}}}},beforeMount:function(){this.modalFiltrosCallbacks.selectAll.Operacoes()},methods:{linhaModificada:function(e){var t=e.linhaModificada,i=void 0;switch(e.tabelaModificada){case"CargaPos":if("Delete"===e.tipoOperacao){i=t.split("/");var a=this.$_.find(this.$store.state.docente.Docentes,{id:n()(i[2])});t=void 0===a?"".concat(i[0],"/").concat(i[1],"/").concat(i[2]):"".concat(i[0],"/").concat(i[1],"/").concat(a.apelido)}break;case"DisciplinaGrade":i=t.split("/");var o=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(i[1])}),s=this.$_.find(this.$store.state.grade.Grades,{id:n()(i[2])}),r=void 0===s?void 0:this.$_.find(this.$store.state.curso.Cursos,{id:s.Curso});t="".concat(void 0===s?i[2]:(void 0===r?"Curso Excluído":r.codigo)+" - "+s.nome,"/").concat(void 0===o?i[1]:o.codigo,"/").concat(i[0]);break;case"DocentePerfil":i=t.split("/");var c=this.$_.find(this.$store.state.docente.Docentes,{id:n()(i[1])}),l=this.$_.find(this.$store.state.perfil.Perfis,{id:n()(i[0])});t="".concat(void 0===c?i[1]:c.nome,"/").concat(void 0===l?i[0]:l.nome);break;case"Grade":i=t.split("/");var d=this.$_.find(this.$store.state.curso.Cursos,{id:n()(i[0])});t="".concat(void 0===d?i[0]:d.codigo," - ").concat(i[1]);break;case"Pedido":i=t.split("/");var v=this.$_.find(this.$store.state.turma.Turmas,{id:n()(i[0])}),u=void 0===v?void 0:this.$_.find(this.$store.state.disciplina.Disciplinas,{id:v.Disciplina}),p=this.$_.find(this.$store.state.curso.Cursos,{id:n()(i[1])});t="".concat(void 0===v?i[0]:null===v.Disciplina?"Turma Excluída":u.codigo+" "+v.letra,"/").concat(void 0===p?i[1]:p.codigo);break;case"PedidoExterno":i=t.split("/");var f=this.$_.find(this.$store.state.turmaExterna.Turmas,{id:n()(i[0])}),h=void 0===f?void 0:this.$_.find(this.$store.state.disciplina.Disciplinas,{id:f.Disciplina}),m=this.$_.find(this.$store.state.curso.Cursos,{id:n()(i[1])});t="".concat(void 0===f?i[0]:h.codigo+" "+f.letra,"/").concat(void 0===m?i[1]:m.codigo);break;case"Turma":i=t.split("/");var b=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(i[1])});t="".concat(void 0===b?i[1]:b.codigo,"/").concat(i[0]);break;case"TurmaExterna":i=t.split("/");var _=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(i[1])});t="".concat(void 0===_?i[1]:_.codigo,"/").concat(i[0]);break}return t},valorAnterior:function(e){var t=e.valorAnterior;switch(e.campoModificado){case"Curso":t=this.$_.find(this.$store.state.curso.Cursos,{id:n()(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.codigo;break;case"Disciplina":t=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.codigo;break;case"Docente":case"Docente1":case"Docente2":t=this.$_.find(this.$store.state.docente.Docentes,{id:n()(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.apelido;break;case"Grade":if(t=this.$_.find(this.$store.state.grade.Grades,{id:n()(e.valorAnterior)}),void 0===t)t=e.valorAnterior;else{var i=this.$_.find(this.$store.state.curso.Cursos,{id:n()(t.Curso)});t="".concat(void 0===i?t.Curso:i.codigo,"/").concat(t.nome)}break;case"Horario":case"Horario1":case"Horario2":t=this.$_.find(this.$store.state.horario.Horarios,{id:n()(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.horario;break;case"Perfil":t=this.$_.find(this.$store.state.perfil.Perfis,{id:n()(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.nome;break;case"Sala":case"Sala1":case"Sala2":t=this.$_.find(this.$store.state.sala.Salas,{id:n()(e.valorAnterior)}),t=void 0===t?e.valorAnterior:t.nome;break}return t},valorNovo:function(e){var t=e.valorNovo;switch(e.campoModificado){case"Curso":t=this.$_.find(this.$store.state.curso.Cursos,{id:n()(e.valorNovo)}),t=void 0===t?e.valorNovo:t.codigo;break;case"Disciplina":t=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(e.valorNovo)}),t=void 0===t?e.valorNovo:t.codigo;break;case"Docente":case"Docente1":case"Docente2":t=this.$_.find(this.$store.state.docente.Docentes,{id:n()(e.valorNovo)}),t=void 0===t?e.valorNovo:t.apelido;break;case"Grade":if(t=this.$_.find(this.$store.state.grade.Grades,{id:n()(e.valorNovo)}),void 0===t)t=e.valorNovo;else{var i=this.$_.find(this.$store.state.curso.Cursos,{id:n()(t.Curso)});t="".concat(void 0===i?t.Curso:i.codigo,"/").concat(t.nome)}break;case"Horario":case"Horario1":case"Horario2":t=this.$_.find(this.$store.state.horario.Horarios,{id:n()(e.valorNovo)}),t=void 0===t?e.valorNovo:t.horario;break;case"Perfil":t=this.$_.find(this.$store.state.perfil.Perfis,{id:n()(e.valorNovo)}),t=void 0===t?e.valorNovo:t.nome;break;case"Sala":case"Sala1":case"Sala2":t=this.$_.find(this.$store.state.sala.Salas,{id:n()(e.valorNovo)}),t=void 0===t?e.valorNovo:t.nome;break}return t}},computed:Object(s["a"])({},Object(v["c"])(["onLoading","History"]),{HistoryOrdered:function(){return this.$_.orderBy(this.HistoryFilteredByOperacao,"id","desc")},HistoryFilteredByOperacao:function(){var e=this;return this.$_.filter(this.HistoryFilteredByTabelas,function(t){return e.$_.some(e.filtroOperacoes.ativados,["id",t.tipoOperacao])})},HistoryFilteredByTabelas:function(){var e=this;return this.$_.filter(this.History,function(t){return e.$_.some(e.filtroTabelas.ativados,["id",t.tabelaModificada])})},OperacoesOptions:function(){return[{nome:"Criação",id:"Create"},{nome:"Exclusão",id:"Delete"},{nome:"Edição",id:"Edit"}]},TabelasOptions:function(){return[{nome:"CARGA PÓS",id:"CargaPos"},{nome:"CURSO",id:"Curso"},{nome:"DISCIPLINA",id:"Disciplina"},{nome:"DISCIPLINA GRADE",id:"DisciplinaGrade"},{nome:"DOCENTE",id:"Docente"},{nome:"DOCENTE PERFIL",id:"DocentePerfil"},{nome:"GRADE",id:"Grade"},{nome:"PEDIDO",id:"Pedido"},{nome:"PEDIDO EXTERNO",id:"PedidoExterno"},{nome:"PERFIL",id:"Perfil"},{nome:"PLANO",id:"Plano"},{nome:"SALA",id:"Sala"},{nome:"TURMA",id:"Turma"},{nome:"TURMA EXTERNA",id:"TurmaExterna"}]}})},p=u,f=i("2877"),h=Object(f["a"])(p,a,o,!1,null,null,null);t["default"]=h.exports},"28a5":function(e,t,i){"use strict";var a=i("aae3"),o=i("cb7c"),s=i("ebd6"),r=i("0390"),n=i("9def"),c=i("5f1b"),l=i("520a"),d=i("79e5"),v=Math.min,u=[].push,p="split",f="length",h="lastIndex",m=4294967295,b=!d(function(){RegExp(m,"y")});i("214f")("split",2,function(e,t,i,d){var _;return _="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[f]||2!="ab"[p](/(?:ab)*/)[f]||4!="."[p](/(.?)(.?)/)[f]||"."[p](/()()/)[f]>1||""[p](/.?/)[f]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!a(e))return i.call(o,e,t);var s,r,n,c=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,p=void 0===t?m:t>>>0,b=new RegExp(e.source,d+"g");while(s=l.call(b,o)){if(r=b[h],r>v&&(c.push(o.slice(v,s.index)),s[f]>1&&s.index<o[f]&&u.apply(c,s.slice(1)),n=s[0][f],v=r,c[f]>=p))break;b[h]===s.index&&b[h]++}return v===o[f]?!n&&b.test("")||c.push(""):c.push(o.slice(v)),c[f]>p?c.slice(0,p):c}:"0"[p](void 0,0)[f]?function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)}:i,[function(i,a){var o=e(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,o,a):_.call(String(o),i,a)},function(e,t){var a=d(_,e,this,t,_!==i);if(a.done)return a.value;var l=o(e),u=String(this),p=s(l,RegExp),f=l.unicode,h=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(b?"y":"g"),y=new p(b?l:"^(?:"+l.source+")",h),$=void 0===t?m:t>>>0;if(0===$)return[];if(0===u.length)return null===c(y,u)?[u]:[];var g=0,k=0,O=[];while(k<u.length){y.lastIndex=b?k:0;var x,w=c(y,b?u:u.slice(k));if(null===w||(x=v(n(y.lastIndex+(b?0:k)),u.length))===g)k=r(u,k,f);else{if(O.push(u.slice(g,k)),O.length===$)return O;for(var C=1;C<=w.length-1;C++)if(O.push(w[C]),O.length===$)return O;k=g=x}}return O.push(u.slice(g)),O}]})}}]);
//# sourceMappingURL=chunk-1f3a24ef.99bb04e6.js.map