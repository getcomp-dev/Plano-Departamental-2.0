{"version":3,"sources":["webpack:///./src/pages/gerenciar/Docentes/index.vue?400d","webpack:///src/pages/gerenciar/Docentes/index.vue","webpack:///./src/pages/gerenciar/Docentes/index.vue?3581","webpack:///./src/pages/gerenciar/Docentes/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$refs","modalAjuda","toggle","scopedSlots","_u","key","fn","ordenacaoDocentesMain","_v","proxy","_l","docente","id","class","docenteClickado","handleClickInDocente","_s","nome","apelido","booleanToText","ativo","DocentesOrdered","length","_e","isEdit","editDocente","openModalDelete","addDocente","cleanDocente","domProps","docenteForm","normalizeInputText","directives","name","rawName","value","expression","modifiers","Array","isArray","_i","$$a","$$el","target","$$c","checked","$$v","_n","$$i","$set","concat","slice","perfil","abreviacao","toggleItemInArray","perfisAssociados","staticStyle","ref","deleteDocente","staticRenderFns","nomesiga","creditos","DocenteId","Perfil","mixins","components","data","perfilsOfCurrentDocente","methods","showDocente","updatePerfisAssociados","docentePerfisFiltered","map","modalDelete","open","computed","DocentePerfis","$store","state","docentePerfil","component"],"mappings":"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","file":"js/chunk-2d0bd460.e95b5411.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-component row\"},[_c('portal',{attrs:{\"to\":\"page-header\"}},[_c('BaseButton',{attrs:{\"template\":\"ajuda\"},on:{\"click\":function($event){return _vm.$refs.modalAjuda.toggle()}}})],1),_c('div',{staticClass:\"page-content\"},[_c('div',{staticClass:\"div-table\"},[_c('BaseTable',{scopedSlots:_vm._u([{key:\"thead\",fn:function(){return [_c('v-th-ordination',{attrs:{\"currentOrder\":_vm.ordenacaoDocentesMain,\"orderToCheck\":\"nome\",\"width\":\"240\",\"align\":\"start\"}},[_vm._v(\"\\n            Nome\\n          \")]),_c('v-th-ordination',{attrs:{\"currentOrder\":_vm.ordenacaoDocentesMain,\"orderToCheck\":\"apelido\",\"width\":\"120\",\"align\":\"start\"}},[_vm._v(\"\\n            Apelido\\n          \")]),_c('v-th-ordination',{attrs:{\"currentOrder\":_vm.ordenacaoDocentesMain,\"orderToCheck\":\"ativo\",\"orderType\":\"desc\",\"width\":\"65\"}},[_vm._v(\"\\n            Ativo\\n          \")])]},proxy:true},{key:\"tbody\",fn:function(){return [_vm._l((_vm.DocentesOrdered),function(docente){return _c('tr',{key:docente.id,class:[{ 'bg-selected': _vm.docenteClickado.id == docente.id }, 'clickable'],on:{\"click\":function($event){return _vm.handleClickInDocente(docente)}}},[_c('v-td',{attrs:{\"width\":\"240\",\"align\":\"start\"}},[_vm._v(_vm._s(docente.nome))]),_c('v-td',{attrs:{\"width\":\"120\",\"align\":\"start\"}},[_vm._v(_vm._s(docente.apelido))]),_c('v-td',{attrs:{\"width\":\"65\"}},[_vm._v(_vm._s(_vm.booleanToText(docente.ativo)))])],1)}),(!_vm.DocentesOrdered.length)?_c('tr',[_c('v-td',{attrs:{\"width\":\"665\",\"colspan\":\"3\"}},[_c('b',[_vm._v(\"Nenhum docente encontrado\")])])],1):_vm._e()]},proxy:true}])})],1),_c('Card',{attrs:{\"title\":'Docente',\"toggleFooter\":_vm.isEdit},on:{\"btn-salvar\":_vm.editDocente,\"btn-delete\":_vm.openModalDelete,\"btn-add\":_vm.addDocente,\"btn-clean\":_vm.cleanDocente},scopedSlots:_vm._u([{key:\"body\",fn:function(){return [_c('div',{staticClass:\"row mb-2 mx-0\"},[_c('div',{staticClass:\"form-group col m-0 px-0\"},[_c('label',{staticClass:\"col-form-label\",attrs:{\"required\":\"\",\"for\":\"nome\"}},[_vm._v(\"Nome\")]),_c('input',{staticClass:\"form-control form-control-sm input-xl\",attrs:{\"id\":\"nome\",\"type\":\"text\"},domProps:{\"value\":_vm.docenteForm.nome},on:{\"change\":function($event){_vm.docenteForm.nome = _vm.normalizeInputText($event)}}})])]),_c('div',{staticClass:\"row mb-2 mx-0\"},[_c('div',{staticClass:\"form-group col-8 m-0 px-0\"},[_c('label',{staticClass:\"col-form-label\",attrs:{\"required\":\"\",\"for\":\"apelido\"}},[_vm._v(\"Apelido\")]),_c('input',{staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"apelido\",\"type\":\"text\"},domProps:{\"value\":_vm.docenteForm.apelido},on:{\"change\":function($event){_vm.docenteForm.apelido = _vm.normalizeInputText($event)}}})]),_c('div',{staticClass:\"form-group col-auto m-0 p-0 pt-4\"},[_c('div',{staticClass:\"d-flex align-items-center h-100\"},[_c('label',{staticClass:\"form-check-label m-0 mr-2\",attrs:{\"for\":\"ativo\"}},[_vm._v(\"Ativo\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.docenteForm.ativo),expression:\"docenteForm.ativo\",modifiers:{\"number\":true}}],attrs:{\"id\":\"ativo\",\"type\":\"checkbox\"},domProps:{\"value\":1,\"checked\":Array.isArray(_vm.docenteForm.ativo)?_vm._i(_vm.docenteForm.ativo,1)>-1:(_vm.docenteForm.ativo)},on:{\"change\":function($event){var $$a=_vm.docenteForm.ativo,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm._n(1),$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.docenteForm, \"ativo\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.docenteForm, \"ativo\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.docenteForm, \"ativo\", $$c)}}}})])])]),(_vm.isEdit)?[_c('div',{staticClass:\"border-bottom mt-2 mb-1\"}),_c('small',[_vm._v(\"Perfis Associados ao docente\")]),_c('div',{staticClass:\"row mb-3 mx-0\"},[_c('div',{staticClass:\"div-table\"},[_c('BaseTable',{attrs:{\"type\":\"main\",\"styles\":'max-height: 300px'},scopedSlots:_vm._u([{key:\"thead\",fn:function(){return [_c('v-th',{attrs:{\"width\":\"25\"}}),_c('v-th',{attrs:{\"width\":\"225\",\"align\":\"start\"}},[_vm._v(\"Perfis\")])]},proxy:true},{key:\"tbody\",fn:function(){return _vm._l((_vm.AllPerfis),function(perfil){return _c('tr',{key:perfil.id + perfil.abreviacao,on:{\"click\":function($event){return _vm.toggleItemInArray(perfil.id, _vm.perfisAssociados)}}},[_c('v-td',{attrs:{\"width\":\"25\",\"type\":\"content\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.perfisAssociados),expression:\"perfisAssociados\"}],staticStyle:{\"width\":\"11px\"},attrs:{\"type\":\"checkbox\"},domProps:{\"value\":perfil.id,\"checked\":Array.isArray(_vm.perfisAssociados)?_vm._i(_vm.perfisAssociados,perfil.id)>-1:(_vm.perfisAssociados)},on:{\"change\":function($event){var $$a=_vm.perfisAssociados,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=perfil.id,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.perfisAssociados=$$a.concat([$$v]))}else{$$i>-1&&(_vm.perfisAssociados=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.perfisAssociados=$$c}}}})]),_c('v-td',{attrs:{\"width\":\"225\",\"align\":\"start\",\"title\":perfil.nome}},[_vm._v(\"\\n                      \"+_vm._s(perfil.nome)+\"\\n                    \")])],1)})},proxy:true}],null,false,532469061)})],1)])]:_vm._e()]},proxy:true}])})],1),_c('ModalDelete',{ref:\"modalDelete\",attrs:{\"isDeleting\":_vm.isEdit},on:{\"btn-deletar\":_vm.deleteDocente}},[(_vm.isEdit)?_c('li',{staticClass:\"list-group-item\"},[_c('span',[_vm._v(\"\\n        Tem certeza que deseja excluír o docente\\n        \"),_c('b',[_vm._v(_vm._s(_vm.docenteForm.nome))]),_vm._v(\"\\n        ?\\n      \")])]):_c('li',{staticClass:\"list-group-item\"},[_vm._v(\"Nenhum docente selecionado.\")])]),_c('ModalAjuda',{ref:\"modalAjuda\"},[_c('li',{staticClass:\"list-group-item\"},[_c('b',[_vm._v(\"Adicionar:\")]),_vm._v(\"\\n      Preencha o cartão em branco à direita e em seguida, clique em Adicionar\\n      \"),_c('font-awesome-icon',{staticClass:\"icon-green\",attrs:{\"icon\":['fas', 'plus']}}),_vm._v(\"\\n      .\\n    \")],1),_c('li',{staticClass:\"list-group-item\"},[_c('b',[_vm._v(\"Editar:\")]),_vm._v(\"\\n      Clique na linha da tabela do docente que deseja alterar. Em seguida, no cartão à direita,\\n      altere as informações que desejar e clique em Salvar\\n      \"),_c('font-awesome-icon',{staticClass:\"icon-green\",attrs:{\"icon\":['fas', 'check']}}),_vm._v(\"\\n      .\\n    \")],1),_c('li',{staticClass:\"list-group-item\"},[_c('b',[_vm._v(\"Deletar:\")]),_vm._v(\"\\n      Clique na linha da tabela do docente que deseja remover. Em seguida, no cartão à direita,\\n      clique em Remover\\n      \"),_c('font-awesome-icon',{staticClass:\"icon-red\",attrs:{\"icon\":['fas', 'trash-alt']}}),_vm._v(\"\\n      e confirme a remoção na janela que será aberta.\\n    \")],1),_c('li',{staticClass:\"list-group-item\"},[_c('b',[_vm._v(\"Limpar:\")]),_vm._v(\"\\n      No cartão à direita, clique em Cancelar\\n      \"),_c('font-awesome-icon',{staticClass:\"icon-gray\",attrs:{\"icon\":['fas', 'times']}}),_vm._v(\"\\n      , para limpar as informações.\\n    \")],1),_c('li',{staticClass:\"list-group-item\"},[_c('b',[_vm._v(\"Ordenar:\")]),_vm._v(\"\\n      Clique no cabeçalho da tabela, na coluna desejada, para alterar a ordenação das informações.\\n    \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"main-component row\">\r\n    <portal to=\"page-header\">\r\n      <BaseButton template=\"ajuda\" @click=\"$refs.modalAjuda.toggle()\" />\r\n    </portal>\r\n\r\n    <div class=\"page-content\">\r\n      <div class=\"div-table\">\r\n        <BaseTable>\r\n          <template #thead>\r\n            <v-th-ordination\r\n              :currentOrder=\"ordenacaoDocentesMain\"\r\n              orderToCheck=\"nome\"\r\n              width=\"240\"\r\n              align=\"start\"\r\n            >\r\n              Nome\r\n            </v-th-ordination>\r\n            <v-th-ordination\r\n              :currentOrder=\"ordenacaoDocentesMain\"\r\n              orderToCheck=\"apelido\"\r\n              width=\"120\"\r\n              align=\"start\"\r\n            >\r\n              Apelido\r\n            </v-th-ordination>\r\n            <v-th-ordination\r\n              :currentOrder=\"ordenacaoDocentesMain\"\r\n              orderToCheck=\"ativo\"\r\n              orderType=\"desc\"\r\n              width=\"65\"\r\n            >\r\n              Ativo\r\n            </v-th-ordination>\r\n          </template>\r\n\r\n          <template #tbody>\r\n            <tr\r\n              v-for=\"docente in DocentesOrdered\"\r\n              :key=\"docente.id\"\r\n              :class=\"[{ 'bg-selected': docenteClickado.id == docente.id }, 'clickable']\"\r\n              @click=\"handleClickInDocente(docente)\"\r\n            >\r\n              <v-td width=\"240\" align=\"start\">{{ docente.nome }}</v-td>\r\n              <v-td width=\"120\" align=\"start\">{{ docente.apelido }}</v-td>\r\n              <v-td width=\"65\">{{ booleanToText(docente.ativo) }}</v-td>\r\n            </tr>\r\n\r\n            <tr v-if=\"!DocentesOrdered.length\">\r\n              <v-td width=\"665\" colspan=\"3\">\r\n                <b>Nenhum docente encontrado</b>\r\n              </v-td>\r\n            </tr>\r\n          </template>\r\n        </BaseTable>\r\n      </div>\r\n\r\n      <Card\r\n        :title=\"'Docente'\"\r\n        :toggleFooter=\"isEdit\"\r\n        @btn-salvar=\"editDocente\"\r\n        @btn-delete=\"openModalDelete\"\r\n        @btn-add=\"addDocente\"\r\n        @btn-clean=\"cleanDocente\"\r\n      >\r\n        <template #body>\r\n          <div class=\"row mb-2 mx-0\">\r\n            <div class=\"form-group col m-0 px-0\">\r\n              <label required for=\"nome\" class=\"col-form-label\">Nome</label>\r\n              <input\r\n                id=\"nome\"\r\n                type=\"text\"\r\n                class=\"form-control form-control-sm input-xl\"\r\n                @change=\"docenteForm.nome = normalizeInputText($event)\"\r\n                :value=\"docenteForm.nome\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row mb-2 mx-0\">\r\n            <div class=\"form-group col-8 m-0 px-0\">\r\n              <label required for=\"apelido\" class=\"col-form-label\">Apelido</label>\r\n              <input\r\n                id=\"apelido\"\r\n                type=\"text\"\r\n                class=\"form-control form-control-sm\"\r\n                @change=\"docenteForm.apelido = normalizeInputText($event)\"\r\n                :value=\"docenteForm.apelido\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"form-group col-auto m-0 p-0 pt-4\">\r\n              <div class=\"d-flex align-items-center h-100\">\r\n                <label for=\"ativo\" class=\"form-check-label m-0 mr-2\">Ativo</label>\r\n                <input id=\"ativo\" type=\"checkbox\" :value=\"1\" v-model.number=\"docenteForm.ativo\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <template v-if=\"isEdit\">\r\n            <div class=\"border-bottom mt-2 mb-1\"></div>\r\n            <small>Perfis Associados ao docente</small>\r\n\r\n            <div class=\"row mb-3 mx-0\">\r\n              <div class=\"div-table\">\r\n                <BaseTable type=\"main\" :styles=\"'max-height: 300px'\">\r\n                  <template #thead>\r\n                    <v-th width=\"25\" />\r\n                    <v-th width=\"225\" align=\"start\">Perfis</v-th>\r\n                  </template>\r\n\r\n                  <template #tbody>\r\n                    <tr\r\n                      v-for=\"perfil in AllPerfis\"\r\n                      :key=\"perfil.id + perfil.abreviacao\"\r\n                      @click=\"toggleItemInArray(perfil.id, perfisAssociados)\"\r\n                    >\r\n                      <v-td width=\"25\" type=\"content\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          style=\"width: 11px\"\r\n                          v-model=\"perfisAssociados\"\r\n                          :value=\"perfil.id\"\r\n                        />\r\n                      </v-td>\r\n                      <v-td width=\"225\" align=\"start\" :title=\"perfil.nome\">\r\n                        {{ perfil.nome }}\r\n                      </v-td>\r\n                    </tr>\r\n                  </template>\r\n                </BaseTable>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </template>\r\n      </Card>\r\n    </div>\r\n\r\n    <ModalDelete ref=\"modalDelete\" :isDeleting=\"isEdit\" @btn-deletar=\"deleteDocente\">\r\n      <li v-if=\"isEdit\" class=\"list-group-item\">\r\n        <span>\r\n          Tem certeza que deseja excluír o docente\r\n          <b>{{ docenteForm.nome }}</b>\r\n          ?\r\n        </span>\r\n      </li>\r\n      <li v-else class=\"list-group-item\">Nenhum docente selecionado.</li>\r\n    </ModalDelete>\r\n\r\n    <ModalAjuda ref=\"modalAjuda\">\r\n      <li class=\"list-group-item\">\r\n        <b>Adicionar:</b>\r\n        Preencha o cartão em branco à direita e em seguida, clique em Adicionar\r\n        <font-awesome-icon :icon=\"['fas', 'plus']\" class=\"icon-green\" />\r\n        .\r\n      </li>\r\n      <li class=\"list-group-item\">\r\n        <b>Editar:</b>\r\n        Clique na linha da tabela do docente que deseja alterar. Em seguida, no cartão à direita,\r\n        altere as informações que desejar e clique em Salvar\r\n        <font-awesome-icon :icon=\"['fas', 'check']\" class=\"icon-green\" />\r\n        .\r\n      </li>\r\n      <li class=\"list-group-item\">\r\n        <b>Deletar:</b>\r\n        Clique na linha da tabela do docente que deseja remover. Em seguida, no cartão à direita,\r\n        clique em Remover\r\n        <font-awesome-icon :icon=\"['fas', 'trash-alt']\" class=\"icon-red\" />\r\n        e confirme a remoção na janela que será aberta.\r\n      </li>\r\n      <li class=\"list-group-item\">\r\n        <b>Limpar:</b>\r\n        No cartão à direita, clique em Cancelar\r\n        <font-awesome-icon :icon=\"['fas', 'times']\" class=\"icon-gray\" />\r\n        , para limpar as informações.\r\n      </li>\r\n      <li class=\"list-group-item\">\r\n        <b>Ordenar:</b>\r\n        Clique no cabeçalho da tabela, na coluna desejada, para alterar a ordenação das informações.\r\n      </li>\r\n    </ModalAjuda>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { clone, filter, orderBy } from \"lodash-es\";\r\nimport docenteService from \"@/services/docente\";\r\nimport docentePerfilService from \"@/services/docentePerfil\";\r\nimport { toggleItemInArray, normalizeInputText } from \"@/common/mixins\";\r\nimport { booleanToText } from \"@/common/utils\";\r\nimport { Card } from \"@/components/ui\";\r\nimport { ModalAjuda, ModalDelete } from \"@/components/modals\";\r\n\r\nconst emptyDocente = {\r\n  id: null,\r\n  nome: null,\r\n  apelido: null,\r\n  nomesiga: null,\r\n  creditos: 0,\r\n  ativo: 1,\r\n};\r\nconst emptyPerfil = {\r\n  DocenteId: null,\r\n  Perfil: null,\r\n};\r\n\r\nexport default {\r\n  name: \"DashboardDocente\",\r\n  mixins: [toggleItemInArray, normalizeInputText],\r\n  components: { Card, ModalAjuda, ModalDelete },\r\n  data() {\r\n    return {\r\n      docenteForm: clone(emptyDocente),\r\n      perfisAssociados: [],\r\n      docenteClickado: {},\r\n      perfilsOfCurrentDocente: [],\r\n      ordenacaoDocentesMain: { order: \"nome\", type: \"asc\" },\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    booleanToText,\r\n\r\n    handleClickInDocente(docente) {\r\n      this.cleanDocente();\r\n      this.docenteClickado = docente;\r\n      this.showDocente(docente);\r\n    },\r\n    cleanDocente() {\r\n      this.docenteClickado = {};\r\n      this.docenteForm = clone(emptyDocente);\r\n    },\r\n    showDocente(docente) {\r\n      this.docenteForm = clone(docente);\r\n      this.updatePerfisAssociados();\r\n    },\r\n    updatePerfisAssociados() {\r\n      const docentePerfisFiltered = filter(this.DocentePerfis, [\"DocenteId\", this.docenteForm.id]);\r\n      this.perfilsOfCurrentDocente = docentePerfisFiltered.map(\r\n        (docentePerfil) => docentePerfil.Perfil\r\n      );\r\n      this.perfisAssociados = [...this.perfilsOfCurrentDocente];\r\n    },\r\n    openModalDelete() {\r\n      this.$refs.modalDelete.open();\r\n    },\r\n\r\n    async addDocente() {\r\n      try {\r\n        this.setLoading({ type: \"partial\", value: true });\r\n        if (!this.docenteForm.nomesiga) {\r\n          this.docenteForm.nomesiga = this.docenteForm.nome;\r\n        }\r\n        const response = await docenteService.create(this.docenteForm);\r\n        this.cleanDocente();\r\n        this.pushNotification({\r\n          type: \"success\",\r\n          text: `Docente ${response.Docente.nome} foi criada!`,\r\n        });\r\n      } catch (error) {\r\n        this.pushNotification({\r\n          type: \"error\",\r\n          title: \"Erro ao criar Docente!\",\r\n          text: error.response.data.fullMessage\r\n            ? \"<br/>\" + error.response.data.fullMessage.replace(\"\\n\", \"<br/>\")\r\n            : \"\",\r\n        });\r\n      } finally {\r\n        this.setLoading({ type: \"partial\", value: false });\r\n      }\r\n    },\r\n    async editDocente() {\r\n      try {\r\n        this.setLoading({ type: \"partial\", value: true });\r\n        if (!this.docenteForm.nome || !this.docenteForm.apelido) {\r\n          throw new Error(\"Campos obrigatorios invalidos\");\r\n        }\r\n        const response = await docenteService.update(this.docenteForm.id, this.docenteForm);\r\n        await this.editDocentePerfil();\r\n\r\n        this.pushNotification({\r\n          type: \"success\",\r\n          text: `Docente ${response.Docente.nome} foi atualizada!`,\r\n        });\r\n      } catch (error) {\r\n        this.pushNotification({\r\n          type: \"error\",\r\n          title: \"Erro ao atualizar Docente\",\r\n          text: error.message\r\n            ? error.message\r\n            : error.response.data.fullMessage\r\n              ? \"<br/>\" + error.response.data.fullMessage.replace(\"\\n\", \"<br/>\")\r\n              : \"\",\r\n        });\r\n\r\n        this.showDocente(this.docenteClickado);\r\n      } finally {\r\n        this.setLoading({ type: \"partial\", value: false });\r\n      }\r\n    },\r\n    async deleteDocente() {\r\n      try {\r\n        this.setLoading({ type: \"partial\", value: true });\r\n        const response = await docenteService.delete(this.docenteForm.id, this.docenteForm);\r\n\r\n        this.cleanDocente();\r\n        this.pushNotification({\r\n          type: \"success\",\r\n          text: `Docente ${response.Docente.nome} foi excluída!`,\r\n        });\r\n      } catch (error) {\r\n        this.pushNotification({\r\n          type: \"error\",\r\n          title: \"Erro ao excluir Docente!\",\r\n          text: \"O docente não pode estar vinculado a nenhum perfil\",\r\n        });\r\n      } finally {\r\n        this.setLoading({ type: \"partial\", value: false });\r\n      }\r\n    },\r\n\r\n    async editDocentePerfil() {\r\n      //Remove os que não existem em perfisAssociados mas existem em perfilsOfCurrentDocente\r\n      for (let i = 0; i < this.perfilsOfCurrentDocente.length; i++) {\r\n        const perfilIndex = this.perfisAssociados.indexOf(this.perfilsOfCurrentDocente[i]);\r\n        if (perfilIndex === -1) await this.deletePerfil(this.perfilsOfCurrentDocente[i]);\r\n      }\r\n      //Adiciona os que existem no perfisAssociados mas não existem em perfilsOfCurrentDocente\r\n      for (let i = 0; i < this.perfisAssociados.length; i++) {\r\n        const perfilIndex = this.perfilsOfCurrentDocente.indexOf(this.perfisAssociados[i]);\r\n        if (perfilIndex === -1) await this.addPerfil(this.perfisAssociados[i]);\r\n      }\r\n    },\r\n    async addPerfil(perfilId) {\r\n      const newPerfilDocente = clone(emptyPerfil);\r\n      newPerfilDocente.Docente = this.docenteForm.id;\r\n      newPerfilDocente.DocenteId = this.docenteForm.id;\r\n      newPerfilDocente.Perfil = perfilId;\r\n\r\n      return await docentePerfilService.create(newPerfilDocente);\r\n    },\r\n    async deletePerfil(perfilId) {\r\n      return await docentePerfilService.delete(this.docenteForm.id, perfilId);\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"AllDocentes\", \"AllPerfis\"]),\r\n\r\n    DocentesOrdered() {\r\n      return orderBy(\r\n        this.AllDocentes,\r\n        this.ordenacaoDocentesMain.order,\r\n        this.ordenacaoDocentesMain.type\r\n      );\r\n    },\r\n\r\n    DocentePerfis() {\r\n      return this.$store.state.docentePerfil.DocentePerfis;\r\n    },\r\n\r\n    isEdit() {\r\n      return this.docenteForm.id !== null;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2134b61e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}