(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d212fc5"],{ab6d:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"main-component row p-0"},[o("portal",{attrs:{to:"page-header"}},[o("BaseButton",{attrs:{template:"filtros"},on:{click:function(t){return e.toggleAsideModal("filtros")}}}),o("BaseButton",{attrs:{template:"relatorio"},on:{click:function(t){return e.toggleAsideModal("relatorio")}}}),o("BaseButton",{attrs:{template:"download"},on:{click:function(t){return e.toggleAsideModal("DownloadTurmasCursos")}}}),o("BaseButton",{attrs:{template:"ajuda"},on:{click:function(t){return e.toggleAsideModal("ajuda")}}})],1),o("div",{staticClass:"div-table"},[o("BaseTable",{scopedSlots:e._u([{key:"thead",fn:function(){return[o("v-th-ordination",{attrs:{currentOrder:e.ordenacaoTable.cursos,orderToCheck:"codigo",width:"85",paddingX:"0",title:"Código do curso"}},[e._v("\n          Cód. Curso\n        ")]),o("v-th-ordination",{attrs:{currentOrder:e.ordenacaoTable.cursos,orderToCheck:"nome",width:"300",align:"start",title:"Nome do Curso"}},[e._v("\n          Nome do Curso\n        ")]),o("v-th",{attrs:{width:"30",title:"Período"}},[e._v("P.")]),o("v-th",{attrs:{width:"95",title:"Código da Disciplina"}},[e._v("Cód. Disciplina")]),o("v-th",{attrs:{width:"45",title:"Turma"}},[e._v("T.")]),o("v-th",{attrs:{width:"120",title:"Horário"}},[e._v("Horário")]),o("v-th",{attrs:{width:"45",title:"Vagas"}},[e._v("Vagas")])]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.CursosOrderedTable,(function(t){return[o("tr",{key:t.id,staticClass:"bg-custom"},[o("v-td",{attrs:{width:"85"}},[e._v(e._s(t.codigo))]),o("v-td",{attrs:{width:"300",align:"start",title:t.nome}},[e._v(e._s(t.nome))]),o("v-td",{attrs:{width:"30"}}),o("v-td",{attrs:{width:"95"}}),o("v-td",{attrs:{width:"40"}}),o("v-td",{attrs:{width:"120"}}),o("v-td",{attrs:{width:"45"}})],1),e._l(e.getTurmasDoCurso(t.id),(function(r){return o("tr",{key:t.id+r.letra+r.id},[o("v-td",{attrs:{width:"85"}}),o("v-td",{attrs:{width:"300"}}),o("v-td",{attrs:{width:"30"}},[e._v(e._s(r.periodo))]),o("v-td",{attrs:{width:"95"}},[e._v(e._s(r.disciplina.codigo))]),o("v-td",{attrs:{width:"45"}},[e._v(e._s(r.letra))]),o("v-td",{attrs:{width:"120"}},[e._v(e._s(e.generateHorariosText(r.Horario1,r.Horario2)))]),o("v-td",{attrs:{width:"45"}},[e._v("\n              "+e._s(r.pedidoDoCurso.vagasPeriodizadas+r.pedidoDoCurso.vagasNaoPeriodizadas)+"\n            ")])],1)}))]})),e.CursosOrderedTable.length?e._e():o("tr",[o("v-td",{attrs:{colspan:"7",width:"720"}},[o("b",[e._v("Nenhum curso encontrado.")]),e._v("\n            Clique no botão de filtros para selecioná-los.\n          ")])],1)]},proxy:!0}])})],1),o("ModalRelatorio",{ref:"modalRelatorio",on:{"selection-option":function(t){return e.generatePdf(t)}}}),o("ModalDownloadTurmasCursos",{ref:"modalDownloadTurmasCursos",on:{"selection-option":function(t){return e.downloadFiles(t)}}}),o("ModalFiltros",{ref:"modalFiltros",attrs:{callbacks:e.modalFiltrosCallbacks,tabsOptions:e.modalFiltrosTabs}},[o("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Cursos"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Cursos'"}],attrs:{type:"modal",hasSearchBar:!0},scopedSlots:e._u([{key:"thead-search",fn:function(){return[o("InputSearch",{attrs:{placeholder:"Pesquise nome ou codigo de um curso..."},model:{value:e.searchCursos,callback:function(t){e.searchCursos=t},expression:"searchCursos"}})]},proxy:!0},{key:"thead",fn:function(){return[o("v-th",{attrs:{width:"25"}}),o("v-th-ordination",{attrs:{currentOrder:e.ordenacaoModal.cursos,orderToCheck:"codigo",width:"70",align:"start"}},[e._v("\n          Código\n        ")]),o("v-th-ordination",{attrs:{currentOrder:e.ordenacaoModal.cursos,orderToCheck:"nome",width:"270",align:"start"}},[e._v("\n          Nome\n        ")]),o("v-th-ordination",{attrs:{currentOrder:e.ordenacaoModal.cursos,orderToCheck:"turno",width:"85",align:"start"}},[e._v("\n          Turno\n        ")])]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.CursosOptionsOrdered,(function(t){return o("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:t.id+t.nome,on:{click:function(o){return e.toggleItemInArray(t,e.filtroCursos.selecionados)}}},[o("v-td",{attrs:{width:"25",type:"content"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroCursos.selecionados,expression:"filtroCursos.selecionados"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.filtroCursos.selecionados)?e._i(e.filtroCursos.selecionados,t)>-1:e.filtroCursos.selecionados},on:{change:function(o){var r=e.filtroCursos.selecionados,s=o.target,a=!!s.checked;if(Array.isArray(r)){var i=t,n=e._i(r,i);s.checked?n<0&&e.$set(e.filtroCursos,"selecionados",r.concat([i])):n>-1&&e.$set(e.filtroCursos,"selecionados",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.filtroCursos,"selecionados",a)}}})]),o("v-td",{attrs:{width:"70",align:"start"}},[e._v(e._s(t.codigo))]),o("v-td",{attrs:{align:"start",width:"270",title:t.nome}},[e._v("\n            "+e._s(t.nome)+"\n          ")]),o("v-td",{attrs:{width:"85",align:"start"}},[e._v(e._s(t.turno))])],1)})),e.CursosOptionsOrdered.length?e._e():o("tr",[o("v-td",{attrs:{colspan:"3",width:"450"}},[e._v("NENHUM CURSO ENCONTRADO")])],1)]},proxy:!0}])}),o("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Períodos"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Períodos'"}],attrs:{type:"modal"},scopedSlots:e._u([{key:"thead",fn:function(){return[o("v-th",{attrs:{width:"25"}}),o("v-th",{attrs:{width:"425",align:"start"}},[e._v("Periodos Letivo")])]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.PeriodosOptions,(function(t){return o("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:t.id+t.nome,on:{click:function(o){return e.selecionaPeriodo(t,e.filtroPeriodos.selecionados)}}},[o("v-td",{attrs:{width:"25",type:"content"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroPeriodos.selecionados,expression:"filtroPeriodos.selecionados"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.filtroPeriodos.selecionados)?e._i(e.filtroPeriodos.selecionados,t)>-1:e.filtroPeriodos.selecionados},on:{click:function(o){return o.stopPropagation(),e.selecionaPeriodo(t)},change:function(o){var r=e.filtroPeriodos.selecionados,s=o.target,a=!!s.checked;if(Array.isArray(r)){var i=t,n=e._i(r,i);s.checked?n<0&&e.$set(e.filtroPeriodos,"selecionados",r.concat([i])):n>-1&&e.$set(e.filtroPeriodos,"selecionados",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.filtroPeriodos,"selecionados",a)}}})]),o("v-td",{attrs:{width:"425",align:"start"}},[e._v(e._s(t.nome))])],1)}))},proxy:!0}])}),o("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Semestres"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Semestres'"}],attrs:{type:"modal"},scopedSlots:e._u([{key:"thead",fn:function(){return[o("v-th",{attrs:{width:"25"}}),o("v-th",{attrs:{width:"425",align:"start"}},[e._v("Semestre Letivo")])]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.SemestresOptions,(function(t){return o("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:t.id+t.nome,on:{click:function(o){return e.selecionaSemestre(t)}}},[o("v-td",{attrs:{width:"25",type:"content"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroSemestres.selecionados,expression:"filtroSemestres.selecionados"}],attrs:{type:"checkbox"},domProps:{value:t,indeterminate:t.halfChecked,checked:Array.isArray(e.filtroSemestres.selecionados)?e._i(e.filtroSemestres.selecionados,t)>-1:e.filtroSemestres.selecionados},on:{click:function(o){return o.stopPropagation(),e.selecionaSemestre(t)},change:function(o){var r=e.filtroSemestres.selecionados,s=o.target,a=!!s.checked;if(Array.isArray(r)){var i=t,n=e._i(r,i);s.checked?n<0&&e.$set(e.filtroSemestres,"selecionados",r.concat([i])):n>-1&&e.$set(e.filtroSemestres,"selecionados",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.filtroSemestres,"selecionados",a)}}})]),o("v-td",{attrs:{width:"425",align:"start"}},[e._v(e._s(t.nome))])],1)}))},proxy:!0}])})],1),o("ModalAjuda",{ref:"modalAjuda"},[o("li",{staticClass:"list-group-item"},[o("b",[e._v("Visualizar plano:")]),e._v("\n      Clique no ícone filtros\n      "),o("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),e._v("\n      . Em seguida, utilize as abas para navegar entre os filtros. Selecione as informações que\n      deseja visualizar e clique em OK.\n    ")],1),o("li",{staticClass:"list-group-item"},[o("b",[e._v("Relatório :")]),e._v("\n      Clique no ícone relatório\n      "),o("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","file-alt"]}}),e._v("\n      . Em seguida, indique se deseja gerar o relatório completo com todas as disciplinas ou o\n      relatório parcial com as disciplinas exibidas na tela.\n    ")],1),o("li",{staticClass:"list-group-item"},[o("b",[e._v("Visualizar vagas por turma:")]),e._v("\n      Clique no número de vagas desta turma, na última coluna da tabela, na linha correspondente.\n    ")])])],1)},s=[],a=(o("1c01"),o("58b2"),o("8e6e"),o("456d"),o("4917"),o("d25f"),o("96cf"),o("1da1")),i=o("ade3"),n=(o("7514"),o("ac6a"),o("f3e2"),o("2909")),l=o("2f62"),d=o("d4b9"),c=o("a843"),u=o("eaf8"),f=o("9165"),v=o("d027"),h=o("25df"),m=o("6938"),p=o("21a6");function C(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function b(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?C(Object(o),!0).forEach((function(t){Object(i["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):C(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var g={name:"TurmasCursos",mixins:[f["p"],f["o"],f["b"],f["n"],f["g"]],components:{ModalRelatorio:v["g"],ModalFiltros:v["f"],ModalAjuda:v["a"],InputSearch:h["d"],ModalDownloadTurmasCursos:v["d"]},data:function(){var e=this;return{searchCursos:"",asideModalsRefs:["modalAjuda","modalRelatorio","modalFiltros","modalDownloadTurmasCursos"],ordenacaoTable:{cursos:{order:"codigo",type:"asc"}},ordenacaoModal:{cursos:{order:"codigo",type:"asc"}},filtroCursos:{selecionados:[],ativados:[]},filtroPeriodos:{ativados:[],selecionados:[]},filtroSemestres:{selecionados:[]},modalFiltrosTabs:{current:"Cursos",array:["Cursos","Períodos","Semestres"]},modalFiltrosCallbacks:{selectAll:{Cursos:function(){e.filtroCursos.selecionados=Object(n["a"])(e.CursosOptionsFiltered)},Periodos:function(){e.filtroPeriodos.selecionados=Object(n["a"])(e.PeriodosOptions),e.filtroSemestres.selecionados=Object(n["a"])(e.SemestresOptions)},Semestres:function(){e.filtroSemestres.selecionados=Object(n["a"])(e.SemestresOptions),e.filtroPeriodos.selecionados=Object(n["a"])(e.PeriodosOptions)}},selectNone:{Cursos:function(){e.filtroCursos.selecionados=[]},Periodos:function(){e.filtroPeriodos.selecionados=[],e.filtroSemestres.selecionados=[]},Semestres:function(){e.filtroSemestres.selecionados=[],e.filtroPeriodos.selecionados=[]}},btnOk:function(){e.filtroCursos.ativados=Object(n["a"])(e.filtroCursos.selecionados),e.filtroPeriodos.ativados=Object(n["a"])(e.filtroPeriodos.selecionados)}}}},beforeMount:function(){this.modalFiltrosCallbacks.selectAll.Periodos(),this.modalFiltrosCallbacks.selectAll.Cursos(),this.modalFiltrosCallbacks.btnOk()},methods:{getTurmasDoCurso:function(e){var t=this,o=[];return this.AllTurmas.forEach((function(r){var s=t.Pedidos[r.id].find((function(t){return t.Curso===e}));(s.vagasPeriodizadas>0||s.vagasNaoPeriodizadas>0)&&o.push(b(b({},r),{},{pedidoDoCurso:s}))})),Object(d["a"])(o,["periodo","disciplina.codigo","letra"])},downloadFiles:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.setLoading({type:"partial",value:!0}),e.next=4,m["a"].generatePdfTurmasCurso({Plano:this.currentPlano.id,periodo:t});case 4:return e.next=6,m["a"].createZipTurmasCursos();case 6:return e.next=8,fetch("http://200.131.219.57:3000/api/download/downloadTurmasCursosZip",{method:"GET",headers:{Authorization:"Bearer ".concat(this.$store.state.auth.token)}});case 8:return o=e.sent,e.next=11,o.blob();case 11:r=e.sent,Object(p["saveAs"])(r,"TurmasCursos.zip"),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log("Erro ao gerar download",e.t0);case 18:return e.prev=18,this.setLoading({type:"partial",value:!1}),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[0,15,18,21]])})));function t(t){return e.apply(this,arguments)}return t}(),generatePdf:function(e){var t,o;e?(t=this.AllCursos,o=this.PeriodosOptions):(t=this.filtroCursos.ativados,o=this.filtroPeriodos.ativados),Object(c["e"])({cursos:t,periodos:o,plano:this.currentPlano})}},computed:b(b({},Object(l["c"])(["AllTurmas","Pedidos","AllCursos"])),{},{CursosOrderedTable:function(){var e=this.ordenacaoTable.cursos,t=e.order,o=e.type;return Object(d["a"])(this.filtroCursos.ativados,t,o)},CursosOptionsOrdered:function(){var e=this.ordenacaoModal.cursos,t=e.order,o=e.type;return Object(d["a"])(this.CursosOptionsFiltered,t,o)},CursosOptionsFiltered:function(){if(""===this.searchCursos)return this.AllCursos;var e=Object(u["e"])(this.searchCursos);return this.AllCursos.filter((function(t){var o=Object(u["e"])(t.nome),r=Object(u["e"])(t.codigo);return o.match(e)||r.match(e)}))}})},w=g,y=o("2877"),O=Object(y["a"])(w,r,s,!1,null,null,null);t["default"]=O.exports}}]);
//# sourceMappingURL=chunk-2d212fc5.99f49ec1.js.map