(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bacdbbe0"],{"46ff":function(t,r,e){},"63a6":function(t,r,e){"use strict";e("46ff")},"6adb":function(t,r,e){"use strict";e.r(r);var a=function(){var t=this,r=t._self._c;return r("tr",{staticClass:"novaturma"},[r("v-td",{staticClass:"table-data",attrs:{width:"25"}}),r("v-td",{staticClass:"table-data",attrs:{width:"40"}}),r("v-td",{staticClass:"table-data",attrs:{width:"65",type:"content"}},[r("select",{directives:[{name:"model",rawName:"v-model.number",value:t.turmaForm.periodo,expression:"turmaForm.periodo",modifiers:{number:!0}}],on:{change:function(r){var e=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(r){var e="_value"in r?r._value:r.value;return t._n(e)}));t.$set(t.turmaForm,"periodo",r.target.multiple?e:e[0])}}},[r("option",{attrs:{value:"1"}},[t._v("1")]),r("option",{attrs:{value:"2"}},[t._v("2")]),r("option",{attrs:{value:"3"}},[t._v("3")]),r("option",{attrs:{value:"4"}},[t._v("4")])])]),r("v-td",{staticClass:"table-data",style:{backgroundColor:t.turmaForm.disciplina?t.turmaForm.disciplina.perfil.cor:""},attrs:{width:"80",paddinX:"2"}},[t._v("\n    "+t._s(t.turmaForm.disciplina?t.turmaForm.disciplina.perfil.abreviacao:"")+"\n  ")]),r("v-td",{staticClass:"table-data",attrs:{width:"80",type:"content"}},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.turmaForm.disciplina,expression:"turmaForm.disciplina"}],on:{change:[function(r){var e=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){var r="_value"in t?t._value:t.value;return r}));t.$set(t.turmaForm,"disciplina",r.target.multiple?e:e[0])},t.handleChangeDisciplina]}},t._l(t.DisciplinasDCC,(function(e){return r("option",{key:e.codigo+e.id,domProps:{value:e}},[t._v("\n        "+t._s(e.codigo)+"\n      ")])})),0)]),r("v-td",{staticClass:"table-data",attrs:{width:"330",type:"content"}},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.turmaForm.disciplina,expression:"turmaForm.disciplina"}],on:{change:[function(r){var e=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){var r="_value"in t?t._value:t.value;return r}));t.$set(t.turmaForm,"disciplina",r.target.multiple?e:e[0])},t.handleChangeDisciplina]}},t._l(t.DisciplinasDCCOrderedByNome,(function(e){return r("option",{key:e.nome+e.id,domProps:{value:e}},[t._v("\n        "+t._s(e.nome)+"\n      ")])})),0)]),r("v-td",{staticClass:"table-data",attrs:{width:"60"}},[t._v(t._s(t.totalCarga))]),r("v-td",{staticClass:"table-data",attrs:{width:"45",type:"content"}},[r("input",{staticStyle:{width:"30px"},attrs:{type:"text"},domProps:{value:t.turmaForm.letra},on:{input:function(r){t.turmaForm.letra=r.target.value.toUpperCase()},keypress:t.maskTurmaLetra}})]),r("v-td",{staticClass:"table-data",attrs:{width:"160",type:"none",paddingX:"3"}},[r("div",{staticClass:"d-flex align-items-center w-100"},[r("div",{staticClass:"d-flex flex-column",staticStyle:{width:"130px"}},[r("select",{directives:[{name:"model",rawName:"v-model.number",value:t.turmaForm.Docente1,expression:"turmaForm.Docente1",modifiers:{number:!0}}],on:{change:function(r){var e=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(r){var e="_value"in r?r._value:r.value;return t._n(e)}));t.$set(t.turmaForm,"Docente1",r.target.multiple?e:e[0])}}},[r("option"),t._l(t.DocentesByPreferencia,(function(e){return r("option",{key:e.id+e.apelido,domProps:{value:e.id}},[t._v("\n            "+t._s(e.apelido)+"\n            "+t._s(t.orderByPreferencia&&t.getPreferenciaDocente(e)?"- "+t.getPreferenciaDocente(e):"")+"\n          ")])}))],2),r("select",{directives:[{name:"model",rawName:"v-model.number",value:t.turmaForm.Docente2,expression:"turmaForm.Docente2",modifiers:{number:!0}}],on:{change:function(r){var e=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(r){var e="_value"in r?r._value:r.value;return t._n(e)}));t.$set(t.turmaForm,"Docente2",r.target.multiple?e:e[0])}}},[r("option"),t._l(t.DocentesByPreferencia,(function(e){return r("option",{key:e.apelido+e.id,domProps:{value:e.id}},[t._v("\n            "+t._s(e.apelido)+"\n            "+t._s(t.orderByPreferencia&&t.getPreferenciaDocente(e)?"- "+t.getPreferenciaDocente(e):"")+"\n          ")])}))],2)]),r("font-awesome-icon",{class:["clickable mx-auto",{"low-opacity":!t.orderByPreferencia}],staticStyle:{"font-size":"12px"},attrs:{icon:["fas","graduation-cap"],title:"Alternar ordenação de docentes por preferência"},on:{click:function(r){t.orderByPreferencia=!t.orderByPreferencia}}})],1)]),r("v-td",{staticClass:"table-data",attrs:{width:"80",type:"content"}},[t.turmaForm.disciplina?r("select",{directives:[{name:"model",rawName:"v-model",value:t.turmaForm.turno1,expression:"turmaForm.turno1"}],on:{input:t.handleChangeTurno,change:function(r){var e=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){var r="_value"in t?t._value:t.value;return r}));t.$set(t.turmaForm,"turno1",r.target.multiple?e:e[0])}}},[t.disciplinaIsIntegralEAD?r("option",{attrs:{value:"EAD"}},[t._v("EAD")]):[r("option",{attrs:{value:"Diurno"}},[t._v("Diurno")]),r("option",{attrs:{value:"Noturno"}},[t._v("Noturno")])]],2):t._e()]),r("v-td",{staticClass:"table-data",attrs:{width:"85",type:"content"}},[t.turmaForm.disciplina?[r("select",{directives:[{name:"model",rawName:"v-model.number",value:t.turmaForm.Horario1,expression:"turmaForm.Horario1",modifiers:{number:!0}}],on:{change:[function(r){var e=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(r){var e="_value"in r?r._value:r.value;return t._n(e)}));t.$set(t.turmaForm,"Horario1",r.target.multiple?e:e[0])},function(r){return t.handleChangeHorario(1)}]}},[t.disciplinaIsParcialEAD||t.disciplinaIsIntegralEAD?t._e():r("option"),t._l(t.HorariosFiltredByTurno,(function(e){return r("option",{key:e.id+e.horario,domProps:{value:e.id}},[t._v("\n          "+t._s(e.horario)+"\n        ")])}))],2),t.totalCarga>=4?r("select",{directives:[{name:"model",rawName:"v-model.number",value:t.turmaForm.Horario2,expression:"turmaForm.Horario2",modifiers:{number:!0}}],on:{change:[function(r){var e=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(r){var e="_value"in r?r._value:r.value;return t._n(e)}));t.$set(t.turmaForm,"Horario2",r.target.multiple?e:e[0])},function(r){return t.handleChangeHorario(2)}]}},[t.disciplinaIsParcialEAD||t.disciplinaIsIntegralEAD?t._e():r("option"),t.disciplinaIsParcialEAD?t._l(t.HorariosEAD,(function(e){return r("option",{key:e.horario+e.id,domProps:{value:e.id}},[t._v("\n            "+t._s(e.horario)+"\n          ")])})):t._l(t.HorariosFiltredByTurno,(function(e){return r("option",{key:e.horario+e.id,domProps:{value:e.id}},[t._v("\n            "+t._s(e.horario)+"\n          ")])}))],2):t._e()]:t._e()],2),r("v-td",{staticClass:"table-data",attrs:{width:"95",type:"content"}},[!t.disciplinaIsIntegralEAD&&t.turmaForm.disciplina?[r("select",{directives:[{name:"model",rawName:"v-model.number",value:t.turmaForm.Sala1,expression:"turmaForm.Sala1",modifiers:{number:!0}}],on:{change:function(r){var e=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(r){var e="_value"in r?r._value:r.value;return t._n(e)}));t.$set(t.turmaForm,"Sala1",r.target.multiple?e:e[0])}}},[r("option"),t._l(t.AllSalas,(function(e){return r("option",{key:e.id+e.nome,domProps:{value:e.id}},[t._v("\n          "+t._s(e.nome)+"\n        ")])}))],2),t.totalCarga>=4&&2!=t.turmaForm.disciplina.ead?r("select",{directives:[{name:"model",rawName:"v-model.number",value:t.turmaForm.Sala2,expression:"turmaForm.Sala2",modifiers:{number:!0}}],on:{change:function(r){var e=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(r){var e="_value"in r?r._value:r.value;return t._n(e)}));t.$set(t.turmaForm,"Sala2",r.target.multiple?e:e[0])}}},[r("option"),t._l(t.AllSalas,(function(e){return r("option",{key:e.nome+e.id,domProps:{value:e.id}},[t._v("\n          "+t._s(e.nome)+"\n        ")])}))],2):t._e()]:t._e()],2),r("v-td",{staticClass:"table-data",attrs:{width:45+35*t.cursosAtivadosLength}})],1)},i=[],n=(e("8e6e"),e("ac6a"),e("456d"),e("96cf"),e("1da1")),o=e("ade3"),s=(e("c5f6"),e("2f62")),l=e("9429"),u=e("0a94"),c=e("6740"),m=e("d4b9"),d=e("eaf8"),p=e("9165");function v(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,a)}return e}function f(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?v(Object(e),!0).forEach((function(r){Object(o["a"])(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):v(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}var h={name:"NovaTurmaRow",mixins:[p["h"]],props:{cursosAtivadosLength:{type:Number,default:0}},data:function(){return{turmaForm:Object(d["c"])({periodo:1,letra:"A"}),orderByPreferencia:!1}},methods:f(f({},Object(s["b"])(["createTurma"])),{},{handleChangeTurno:function(){this.turmaForm.Horario1=null,this.disciplinaIsParcialEAD||(this.turmaForm.Horario2=null)},handleChangeDisciplina:function(){this.turmaForm.Disciplina=this.turmaForm.disciplina.id,this.turmaForm.Horario1=null,this.turmaForm.Horario2=null,this.turmaForm.turno1=null,null!==this.turmaForm.disciplina&&(this.hasMoreThan4Creditos||(this.turmaForm.Docente2=null,this.turmaForm.Horario2=null,this.turmaForm.Sala2=null),this.disciplinaIsIntegralEAD?(this.turmaForm.turno1="EAD",this.turmaForm.Horario1=31,this.turmaForm.Horario2=31,this.turmaForm.Sala1=null,this.turmaForm.Sala2=null):this.disciplinaIsParcialEAD&&(this.turmaForm.Horario2=31,this.turmaForm.Docente2=null,this.turmaForm.Sala1=null,this.turmaForm.Sala2=null))},handleChangeHorario:function(t){1===t?this.setTurnoByHorario(this.turmaForm.Horario1):this.disciplinaIsParcialEAD||this.setTurnoByHorario(this.turmaForm.Horario2)},setTurnoByHorario:function(t){31==t&&this.disciplinaIsIntegralEAD?this.turmaForm.turno1="EAD":Object(l["a"])(this.HorariosNoturno,["id",t])?this.turmaForm.turno1="Noturno":Object(l["a"])(this.HorariosDiurno,["id",t])&&(this.turmaForm.turno1="Diurno")},handleCreateTurma:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.setLoading({type:"partial",value:!0}),this.turmaForm.Plano=this.currentPlano.id,t.next=5,this.createTurma({data:this.turmaForm,notify:!0});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.pushNotification({type:"error",title:"Erro ao criar nova turma!",text:t.t0.response?"A combinação de disciplina, período e turma deve ser única.":t.t0.message});case 10:return t.prev=10,this.setLoading({type:"partial",value:!1}),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[0,7,10,13]])})));function r(){return t.apply(this,arguments)}return r}(),getPreferenciaDocente:function(t){var r=Object(u["a"])(this.PreferenciasDisciplina,["Docente",t.id]);return!!r&&r.preferencia}}),computed:f(f({},Object(s["c"])(["DisciplinasDCC","DocentesAtivos","AllHorarios","HorariosEAD","HorariosNoturno","HorariosDiurno","AllSalas","PreferenciasDocentes"])),{},{PreferenciasDisciplina:function(){return Object(c["a"])(this.PreferenciasDocentes,{Disciplina:this.turmaForm.Disciplina})},DocentesByPreferencia:function(){var t=this;return this.orderByPreferencia?Object(m["a"])(this.DocentesAtivos,(function(r){var e=Object(u["a"])(t.PreferenciasDisciplina,["Docente",r.id]);return e?e.preferencia:0}),"desc"):this.DocentesAtivos},DisciplinasDCCOrderedByNome:function(){return Object(m["a"])(this.DisciplinasDCC,["nome"])},HorariosFiltredByTurno:function(){if(this.disciplinaIsIntegralEAD)return this.HorariosEAD;switch(this.turmaForm.turno1){case"Noturno":return this.HorariosNoturno;case"Diurno":return this.HorariosDiurno;case"EAD":return this.HorariosEAD;default:return Object(c["a"])(this.AllHorarios,(function(t){return 31!=t.id}))}},totalCarga:function(){return this.turmaForm.disciplina?parseInt(this.turmaForm.disciplina.cargaTeorica)+parseInt(this.turmaForm.disciplina.cargaPratica):""},disciplinaIsIntegralEAD:function(){return!!this.turmaForm.disciplina&&1===this.turmaForm.disciplina.ead},disciplinaIsParcialEAD:function(){return!!this.turmaForm.disciplina&&2===this.turmaForm.disciplina.ead}})},F=h,y=(e("63a6"),e("2877")),g=Object(y["a"])(F,a,i,!1,null,"d713763c",null);r["default"]=g.exports}}]);
//# sourceMappingURL=chunk-bacdbbe0.27c2a296.js.map