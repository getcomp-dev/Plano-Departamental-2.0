(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-660dee76"],{"2fdb":function(e,i,t){"use strict";var a=t("5ca1"),r=t("d2c8"),n="includes";a(a.P+a.F*t("5147")(n),"String",{includes:function(e){return!!~r(this,e,n).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},5147:function(e,i,t){var a=t("2b4c")("match");e.exports=function(e){var i=/./;try{"/./"[e](i)}catch(t){try{return i[a]=!1,!"/./"[e](i)}catch(r){}}return!0}},"5b2e":function(e,i,t){"use strict";var a=t("9ac7"),r=t("72fb"),n=t("fb63"),s=t("b703"),o=t("a2fb"),c=t("6568"),l=200;function d(e,i,t,d){var f=-1,p=r["a"],u=!0,h=e.length,v=[],D=i.length;if(!h)return v;t&&(i=Object(s["a"])(i,Object(o["a"])(t))),d?(p=n["a"],u=!1):i.length>=l&&(p=c["a"],u=!1,i=new a["a"](i));e:while(++f<h){var m=e[f],b=null==t?m:t(m);if(m=d||0!==m?m:0,u&&b===b){var y=D;while(y--)if(i[y]===b)continue e;v.push(m)}else p(i,b,d)||v.push(m)}return v}var f=d,p=t("b93d"),u=t("2d5d"),h=t("010c"),v=Object(u["a"])((function(e,i){return Object(h["a"])(e)?f(e,Object(p["a"])(i,1,h["a"],!0)):[]}));i["a"]=v},"5e43":function(e,i,t){},"8c3e":function(e,i,t){"use strict";t("5e43")},a1c7:function(e,i,t){"use strict";t.r(i);var a=function(){var e=this,i=e._self._c;return i("div",{staticClass:"main-component"},[i("portal",{attrs:{to:"page-header"}},[i("BaseButton",{attrs:{template:"adicionar"},on:{click:function(i){return e.toggleAsideModal("newPref")}}}),i("BaseButton",{attrs:{template:"filtros"},on:{click:function(i){return e.toggleAsideModal("filtros")}}}),i("BaseButton",{attrs:{template:"file-upload"},on:{click:function(i){return e.toggleAsideModal("upload")}}}),i("BaseButton",{attrs:{template:"swap-modes"},on:{click:e.toggleTableMode}}),i("BaseButton",{attrs:{template:"ajuda"},on:{click:function(i){return e.toggleAsideModal("ajuda")}}})],1),i("div",{staticClass:"div-table"},["disciplina"===e.tableMode?i("BaseTable",{scopedSlots:e._u([{key:"thead",fn:function(){return[i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplina.disciplinas,orderToCheck:"codigo",width:"90",align:"start",title:"Código da Disciplina"}},[e._v("\n          Código\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplina.disciplinas,orderToCheck:"nome",width:"420",align:"start",title:"Nome da Disciplina"}},[e._v("\n          Nome\n        ")]),i("v-th-ordination",{attrs:{width:"80",currentOrder:e.ordenacaoDisciplina.disciplinas,orderToCheck:"perfil.abreviacao",title:"Perfil da Disciplina"}},[e._v("\n          Perfil\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplina.docentes,orderToCheck:"docente.nome",width:"120",align:"start",title:"Nome do Docente"}},[e._v("\n          Docente\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplina.pref,orderToCheck:"preferencia",orderType:"desc",orderFixed:!0,width:"100",title:"Preferência do Docente"}},[e._v("\n          Preferência\n        ")])]},proxy:!0},{key:"tbody",fn:function(){return[e.DisciplinasFiltered.length&&e.DocentesFiltered.length?[e._l(e.DisciplinasInPreferenciasOrdered,(function(t){return[i("tr",{key:t.id,staticClass:"bg-custom"},[i("v-td",{attrs:{width:"90",align:"start"}},[e._v(e._s(t.codigo))]),i("v-td",{attrs:{width:"420",align:"start"}},[e._v(e._s(t.nome))]),i("v-td",{attrs:{width:"80",paddingX:"2"}},[e._v(e._s(t.perfil.abreviacao))]),i("v-td",{attrs:{width:"120"}}),i("v-td",{staticClass:"clickable",attrs:{width:"100",type:"content"},on:{click:function(i){return e.openModalAddPreferencia(t)}}},[i("font-awesome-icon",{staticClass:"icon-darkgray",attrs:{icon:["fas","plus"]}})],1)],1),e._l(t.preferencias,(function(t){return i("tr",{key:t.Docente+"-"+t.Disciplina},[i("v-td",{attrs:{width:"90"}}),i("v-td",{attrs:{width:"420"}}),i("v-td",{attrs:{width:"80"}}),i("v-td",{attrs:{width:"120",align:"start",title:t.docente.nome}},[e._v("\n                "+e._s(t.docente.apelido)+"\n              ")]),i("v-td",{staticClass:"td-pref",attrs:{width:"100",title:"Preferência: "+e.preferenciaText(t.preferencia)+"\nClique para editar"},on:{click:function(i){return e.openModalEditPreferencia(t)}}},[e._v("\n                "+e._s(t.preferencia)+"\n              ")])],1)}))]}))]:i("tr",[i("v-td",{attrs:{width:"810"}},[i("b",[e._v("Nenhuma disciplina encontrada.")]),e._v("\n            Clique no botão de filtros\n            "),i("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),e._v("\n            para selecioná-las.\n          ")],1)],1)]},proxy:!0}],null,!1,3806761649)}):"docente"===e.tableMode?i("BaseTable",{scopedSlots:e._u([{key:"thead",fn:function(){return[i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDocentes.docentes,orderToCheck:"nome",width:"120",align:"start",title:"Nome do Docente"}},[e._v("\n          Docente\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDocentes.disciplinas,orderToCheck:"disciplina.nome",width:"90",title:"Código da Disciplina"}},[e._v("\n          Código\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDocentes.disciplinas,orderToCheck:"disciplina.nome",width:"420",align:"start",title:"Nome da Disciplina"}},[e._v("\n          Nome\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDocentes.disciplinas,orderToCheck:"disciplina.perfil.abreviacao",width:"80",title:"Perfil da Disciplina"}},[e._v("\n          Perfil\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDocentes.pref,orderToCheck:"preferencia",orderType:"desc",orderFixed:!0,width:"100",title:"Preferência do Docente"}},[e._v("\n          Preferência\n        ")])]},proxy:!0},{key:"tbody",fn:function(){return[e.DisciplinasFiltered.length&&e.DocentesFiltered.length?[e._l(e.DocentesInPreferenciasOrdered,(function(t){return[i("tr",{key:t.id,staticClass:"bg-custom"},[i("v-td",{attrs:{width:"120",align:"start"}},[e._v(e._s(t.apelido))]),i("v-td",{attrs:{width:"90"}}),i("v-td",{attrs:{width:"420"}}),i("v-td",{attrs:{width:"80"}}),i("v-td",{staticClass:"clickable",attrs:{width:"100",type:"content"},on:{click:function(i){return e.openModalAddPreferencia(t)}}},[i("font-awesome-icon",{staticClass:"icon-darkgray",attrs:{icon:["fas","plus"]}})],1)],1),e._l(t.preferencias,(function(t){return i("tr",{key:t.Docente+"-"+t.Disciplina},[i("v-td",{attrs:{width:"120"}}),i("v-td",{attrs:{width:"90"}},[e._v(e._s(t.disciplina.codigo))]),i("v-td",{attrs:{width:"420",align:"start"}},[e._v(e._s(t.disciplina.nome))]),i("v-td",{attrs:{width:"80"}},[e._v(e._s(t.disciplina.perfil.abreviacao))]),i("v-td",{staticClass:"td-pref",attrs:{width:"100",type:"content",title:"Preferência: "+e.preferenciaText(t.preferencia)+"\nClique para editar"},on:{click:function(i){return e.openModalEditPreferencia(t)}}},[e._v("\n                "+e._s(t.preferencia)+"\n              ")])],1)}))]}))]:i("tr",[i("v-td",{attrs:{width:"810"}},[i("b",[e._v("Nenhuma disciplina encontrada.")]),e._v("\n            Clique no botão de filtros\n            "),i("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),e._v("\n            para selecioná-las.\n          ")],1)],1)]},proxy:!0}])}):e._e()],1),i("BaseModal",{ref:"modalEditPref",staticClass:"modal-pref",attrs:{title:"Editar Preferência",position:"right",hasFooter:"",styles:{width:"400px"}},scopedSlots:e._u([{key:"modal-body",fn:function(){return[i("div",{staticClass:"row"},[i("span",{staticClass:"col-12 mb-2"},[i("b",[e._v("Docente:")]),e._v("\n          "+e._s(e.edit.docente?e.edit.docente.nome:"")+"\n        ")]),i("span",{staticClass:"col-12"},[i("b",[e._v("Disciplina:")]),e._v("\n          "+e._s(e.edit.disciplina?e.edit.disciplina.nome:"")+"\n        ")])]),i("VSelect",{attrs:{label:"Preferência",validation:e.$v.preferenciaForm.preferencia},model:{value:e.preferenciaForm.preferencia,callback:function(i){e.$set(e.preferenciaForm,"preferencia",e._n(i))},expression:"preferenciaForm.preferencia"}},e._l([0,1,2,3],(function(t){return i("VOption",{key:t,attrs:{value:t,text:"".concat(t," - ").concat(e.preferenciaText(t))}})})),1)]},proxy:!0},{key:"modal-footer",fn:function(){return[i("BaseButton",{staticClass:"ml-auto",attrs:{color:"lightblue",text:"Salvar"},on:{click:e.handleEditPrefs}})]},proxy:!0}])}),i("BaseModal",{ref:"modalAddPref",staticClass:"modal-pref",attrs:{title:"docente"===e.tableMode?"Adicionar preferência ao docente":"Adicionar preferência à disciplina",position:"right",hasFooter:"",styles:{width:"400px"}},scopedSlots:e._u([{key:"modal-body",fn:function(){return["disciplina"===e.tableMode?[i("div",{staticClass:"form-row w-100"},[i("span",{staticClass:"w-100"},[i("b",[e._v("Disciplina:")]),e._v("\n            "+e._s(e.add.Disciplina?e.add.Disciplina.nome:"")+"\n          ")])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("VSelect",{attrs:{label:"Docente",validation:e.$v.add.Docente},model:{value:e.add.Docente,callback:function(i){e.$set(e.add,"Docente",e._n(i))},expression:"add.Docente"}},e._l(e.DocentesAtivos,(function(e){return i("VOption",{key:e.id+e.nome,attrs:{value:e.id,text:e.apelido}})})),1)],1),i("div",{staticClass:"col"},[i("VSelect",{attrs:{label:"Preferência",validation:e.$v.add.preferencia},model:{value:e.add.preferencia,callback:function(i){e.$set(e.add,"preferencia",e._n(i))},expression:"add.preferencia"}},e._l([0,1,2,3],(function(t){return i("VOption",{key:t,attrs:{value:t,text:"".concat(t," - ").concat(e.preferenciaText(t))}})})),1)],1)])]:"docente"===e.tableMode?[i("div",{staticClass:"row"},[i("span",{staticClass:"col"},[i("b",[e._v("Docente:")]),e._v("\n            "+e._s(e.add.Docente?e.add.Docente.apelido:"")+"\n          ")])]),i("VSelect",{attrs:{label:"Disciplina",validation:e.$v.add.Disciplina},model:{value:e.add.Disciplina,callback:function(i){e.$set(e.add,"Disciplina",e._n(i))},expression:"add.Disciplina"}},e._l(e.DisciplinasDCCOrderedByNome,(function(e){return i("VOption",{key:e.id+e.codigo,attrs:{value:e.id,text:e.nome}})})),1),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("VSelect",{attrs:{label:"Código",validation:e.$v.add.Disciplina},model:{value:e.add.Disciplina,callback:function(i){e.$set(e.add,"Disciplina",e._n(i))},expression:"add.Disciplina"}},e._l(e.DisciplinasDCCOrderedByNome,(function(e){return i("VOption",{key:e.id+e.codigo,attrs:{value:e.id,text:e.codigo}})})),1)],1),i("div",{staticClass:"col"},[i("VSelect",{attrs:{label:"Preferência",validation:e.$v.add.preferencia},model:{value:e.add.preferencia,callback:function(i){e.$set(e.add,"preferencia",e._n(i))},expression:"add.preferencia"}},e._l([0,1,2,3],(function(t){return i("VOption",{key:t,attrs:{value:t,text:"".concat(t," - ").concat(e.preferenciaText(t))}})})),1)],1)])]:e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[i("BaseButton",{staticClass:"ml-auto",attrs:{color:"lightblue",text:"Confirmar"},on:{click:e.addPreferencia}})]},proxy:!0}])}),i("BaseModal",{ref:"modalNewPref",staticClass:"modal-pref",attrs:{title:"Nova Preferência",position:"right",hasFooter:"",styles:{width:"400px"}},scopedSlots:e._u([{key:"modal-body",fn:function(){return[i("VSelect",{attrs:{label:"Disciplina",validation:e.$v.add.Disciplina},model:{value:e.add.Disciplina,callback:function(i){e.$set(e.add,"Disciplina",e._n(i))},expression:"add.Disciplina"}},e._l(e.DisciplinasDCCOrderedByNome,(function(e){return i("VOption",{key:e.id+e.codigo,attrs:{value:e.id,text:e.nome}})})),1),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("VSelect",{attrs:{label:"Código",validation:e.$v.add.Disciplina},model:{value:e.add.Disciplina,callback:function(i){e.$set(e.add,"Disciplina",e._n(i))},expression:"add.Disciplina"}},e._l(e.DisciplinasDCCOrderedByNome,(function(e){return i("VOption",{key:e.id+e.codigo,attrs:{value:e.id,text:e.codigo}})})),1)],1),i("div",{staticClass:"col"},[i("VSelect",{attrs:{label:"Docente",validation:e.$v.add.Docente},model:{value:e.add.Docente,callback:function(i){e.$set(e.add,"Docente",e._n(i))},expression:"add.Docente"}},e._l(e.DocentesAtivos,(function(e){return i("VOption",{key:e.id+e.nome,attrs:{value:e.id,text:e.apelido}})})),1)],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[i("VSelect",{attrs:{label:"Preferência",validation:e.$v.add.preferencia},model:{value:e.add.preferencia,callback:function(i){e.$set(e.add,"preferencia",e._n(i))},expression:"add.preferencia"}},e._l([0,1,2,3],(function(t){return i("VOption",{key:t,attrs:{value:t,text:"".concat(t," - ").concat(e.preferenciaText(t))}})})),1)],1)])]},proxy:!0},{key:"modal-footer",fn:function(){return[i("BaseButton",{staticClass:"ml-auto",attrs:{color:"lightblue",text:"Confirmar"},on:{click:e.addPreferencia}})]},proxy:!0}])}),i("ModalFiltros",{ref:"modalFiltros",attrs:{callbacks:e.modalFiltrosCallbacks,tabsOptions:e.modalFiltrosTabs}},[i("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Perfis"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Perfis'"}],attrs:{type:"modal"},scopedSlots:e._u([{key:"thead",fn:function(){return[i("v-th",{attrs:{width:"25"}}),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoModal.perfis,orderToCheck:"nome",width:"425",align:"start"}},[e._v("\n          Nome\n        ")])]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.PerfisOptionsOrdered,(function(t){return i("tr",{key:t.id+t.nome,on:{click:function(i){return i.stopPropagation(),e.selectPerfis(t)}}},[i("v-td",{attrs:{width:"25",type:"content"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroPerfis.selecionados,expression:"filtroPerfis.selecionados"}],attrs:{type:"checkbox"},domProps:{value:t,indeterminate:t.halfChecked,checked:Array.isArray(e.filtroPerfis.selecionados)?e._i(e.filtroPerfis.selecionados,t)>-1:e.filtroPerfis.selecionados},on:{click:function(i){return i.stopPropagation(),e.selectPerfis(t)},change:function(i){var a=e.filtroPerfis.selecionados,r=i.target,n=!!r.checked;if(Array.isArray(a)){var s=t,o=e._i(a,s);r.checked?o<0&&e.$set(e.filtroPerfis,"selecionados",a.concat([s])):o>-1&&e.$set(e.filtroPerfis,"selecionados",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.filtroPerfis,"selecionados",n)}}})]),i("v-td",{attrs:{width:"425",align:"start"}},[e._v(e._s(t.nome))])],1)}))},proxy:!0}])}),i("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Disciplinas"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Disciplinas'"}],attrs:{type:"modal",hasSearchBar:!0},scopedSlots:e._u([{key:"thead-search",fn:function(){return[i("VInputSearch",{attrs:{placeholder:"Pesquise nome ou codigo de uma disciplina..."},model:{value:e.searchDisciplinas,callback:function(i){e.searchDisciplinas=i},expression:"searchDisciplinas"}})]},proxy:!0},{key:"thead",fn:function(){return[i("v-th",{attrs:{width:"25"}}),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoModal.disciplinas,orderToCheck:"codigo",width:"70",align:"start"}},[e._v("\n          Código\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoModal.disciplinas,orderToCheck:"nome",width:"270",align:"start"}},[e._v("\n          Nome\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoModal.disciplinas,orderToCheck:"perfil.abreviacao",width:"85",align:"start"}},[e._v("\n          Perfil\n        ")])]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.DisciplinasOptionsOrdered,(function(t){return i("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:t.id+t.nome,on:{click:function(i){return e.selectDisciplina(t)}}},[i("v-td",{attrs:{width:"25",type:"content"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroDisciplinas.selecionados,expression:"filtroDisciplinas.selecionados"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.filtroDisciplinas.selecionados)?e._i(e.filtroDisciplinas.selecionados,t)>-1:e.filtroDisciplinas.selecionados},on:{click:function(i){return i.stopPropagation(),e.selectDisciplina(t)},change:function(i){var a=e.filtroDisciplinas.selecionados,r=i.target,n=!!r.checked;if(Array.isArray(a)){var s=t,o=e._i(a,s);r.checked?o<0&&e.$set(e.filtroDisciplinas,"selecionados",a.concat([s])):o>-1&&e.$set(e.filtroDisciplinas,"selecionados",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.filtroDisciplinas,"selecionados",n)}}})]),i("v-td",{attrs:{width:"70",align:"start"}},[e._v(e._s(t.codigo))]),i("v-td",{attrs:{align:"start",width:"270"}},[e._v("\n            "+e._s(t.nome)+"\n          ")]),i("v-td",{attrs:{width:"85",align:"start"}},[e._v(e._s(t.perfil.abreviacao))])],1)})),e.DisciplinasOptionsOrdered.length?e._e():i("tr",[i("v-td",{attrs:{colspan:"3",width:"450"}},[e._v("NENHUMA DISCIPLINA ENCONTRADA.")])],1)]},proxy:!0}])}),i("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Docentes"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Docentes'"}],attrs:{type:"modal",hasSearchBar:!0},scopedSlots:e._u([{key:"thead-search",fn:function(){return[i("VInputSearch",{attrs:{placeholder:"Pesquise pelo apelido de um docente..."},model:{value:e.searchDocentes,callback:function(i){e.searchDocentes=i},expression:"searchDocentes"}})]},proxy:!0},{key:"thead",fn:function(){return[i("v-th",{attrs:{width:"25"}}),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoModal.docentes,orderToCheck:"apelido",width:"425",align:"start"}},[e._v("\n          Nome\n        ")])]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.DocentesOptionsOrdered,(function(t){return i("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:t.id+t.apelido,on:{click:function(i){return e.toggleItemInArray(t,e.filtroDocentes.selecionados)}}},[i("v-td",{attrs:{width:"25",type:"content"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroDocentes.selecionados,expression:"filtroDocentes.selecionados"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.filtroDocentes.selecionados)?e._i(e.filtroDocentes.selecionados,t)>-1:e.filtroDocentes.selecionados},on:{change:function(i){var a=e.filtroDocentes.selecionados,r=i.target,n=!!r.checked;if(Array.isArray(a)){var s=t,o=e._i(a,s);r.checked?o<0&&e.$set(e.filtroDocentes,"selecionados",a.concat([s])):o>-1&&e.$set(e.filtroDocentes,"selecionados",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.filtroDocentes,"selecionados",n)}}})]),i("v-td",{attrs:{width:"425",align:"start"}},[e._v(e._s(t.apelido))])],1)}))},proxy:!0}])})],1),i("BaseModal",{ref:"modalUpload",staticClass:"modal-pref",attrs:{title:"Importar preferências",position:"right",hasFooter:"",styles:{width:"400px"}},scopedSlots:e._u([{key:"modal-body",fn:function(){return[i("VInputFile",{attrs:{validation:e.$v.fileXlsxPrefs,accept:".xlsx"},model:{value:e.fileXlsxPrefs,callback:function(i){e.fileXlsxPrefs=i},expression:"fileXlsxPrefs"}})]},proxy:!0},{key:"modal-footer",fn:function(){return[i("BaseButton",{staticClass:"ml-auto",attrs:{color:"lightblue",text:"Importar"},on:{click:e.importPrefs}})]},proxy:!0}])}),i("ModalAjuda",{ref:"modalAjuda"},[i("li",{staticClass:"list-group-item"},[i("b",[e._v("Adicionar preferência do docente:")]),e._v("\n      Clique no ícone de adicionar\n      "),i("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","plus"]}}),e._v("\n      no cabeçalho da página. Em seguida, preencha a janela que se abrirá à direita e para\n      finalizar clique no botão Confirmar. Para adicionar uma preferência diretamente numa linha\n      da tabela clique no icone de adicionar\n      "),i("font-awesome-icon",{staticClass:"icon-darkgray",attrs:{icon:["fas","plus"]}}),e._v("\n      na coluna Pref. (Preferência) da linha que deseja, preencha a janela que se abrirá à direita\n      e para finalizar clique no botão Confirmar.\n    ")],1),i("li",{staticClass:"list-group-item"},[i("b",[e._v("Editar preferência do docente:")]),e._v("\n      Clique no número da coluna Pref. (Preferência) na linha que deseja alterar. Em seguida, na\n      janela que se abrirá à direita, altere as informações que desejar e clique em Salvar.\n    ")]),i("li",{staticClass:"list-group-item"},[i("b",[e._v("Deletar preferência do docente:")]),e._v("\n      Clique no número da coluna Pref. (Preferência) na linha que deseja remover. Em seguida, na\n      janela que se abrirá à direita, coloque o valor de preferência como zero (Inapto).\n    ")]),i("li",{staticClass:"list-group-item"},[i("b",[e._v("Visualizar conteúdo:")]),e._v("\n      Clique no ícone filtros\n      "),i("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),e._v("\n      . Em seguida, utilize as abas para navegar entre os filtros. Selecione as informações que\n      deseja visualizar e clique em OK.\n    ")],1),i("li",{staticClass:"list-group-item"},[i("b",[e._v("Alterar visualização da tabela:")]),e._v("\n      Clique no ícone de alterar visualização\n      "),i("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","sync-alt"]}}),e._v("\n      no cabeçalho da página para alterar a visualização das preferências entre docentes por\n      disciplinas, ou disciplinas por docentes.\n    ")],1)])],1)},r=[],n=(t("8e6e"),t("456d"),t("4917"),t("6762"),t("2fdb"),t("28a5"),t("a481"),t("ade3")),s=(t("ac6a"),t("2909")),o=t("1146"),c=t.n(o),l=t("2f62"),d=t("7191"),f=t("5b2e"),p=t("0a94"),u=t("6740"),h=t("ce69"),v=t("d4b9"),D=t("b5ae"),m=t("eaf8"),b=t("dd42"),y=t("d027"),g=t("9165"),O=t("25df");function P(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,a)}return t}function _(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?P(Object(t),!0).forEach((function(i){Object(n["a"])(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}var k={name:"PreferenciasDocentes",components:{ModalAjuda:y["a"],VInputFile:O["i"],VSelect:O["m"],VOption:O["l"],ModalFiltros:y["f"],VInputSearch:O["k"]},mixins:[g["k"],g["a"],g["i"]],data:function(){var e=this;return{searchDisciplinas:"",searchDocentes:"",asideModalsRefs:["modalAjuda","modalAddPref","modalEditPref","modalNewPref","modalUpload","modalFiltros"],ordenacaoModal:{perfis:{order:"nome",type:"asc"},disciplinas:{order:"codigo",type:"asc"},docentes:{order:"apelido",type:"asc"}},filtroDisciplinas:{ativados:[],selecionados:[]},filtroPerfis:{selecionados:[]},filtroDocentes:{ativados:[],selecionados:[]},modalFiltrosTabs:{current:"Perfis",array:["Perfis","Disciplinas","Docentes"]},modalFiltrosCallbacks:{selectAll:{Perfis:function(){e.filtroDisciplinas.selecionados=Object(s["a"])(e.DisciplinasOptions),e.filtroPerfis.selecionados=Object(s["a"])(e.PerfisOptions)},Disciplinas:function(){e.filtroDisciplinas.selecionados=Object(d["a"])(e.DisciplinasOptionsFiltered,e.filtroDisciplinas.selecionados),e.conectaDisciplinasEmPerfis()},Docentes:function(){e.filtroDocentes.selecionados=Object(d["a"])(e.filtroDocentes.selecionados,e.DocentesOptionsFiltered)}},selectNone:{Docentes:function(){e.filtroDocentes.selecionados=Object(f["a"])(e.filtroDocentes.selecionados,e.DocentesOptionsFiltered)},Perfis:function(){e.filtroPerfis.selecionados=[],e.filtroDisciplinas.selecionados=[]},Disciplinas:function(){e.filtroDisciplinas.selecionados=Object(f["a"])(e.filtroDisciplinas.selecionados,e.DisciplinasOptionsFiltered),e.conectaDisciplinasEmPerfis()}},btnOk:function(){e.filtroDisciplinas.ativados=Object(s["a"])(e.filtroDisciplinas.selecionados),e.filtroDocentes.ativados=Object(s["a"])(e.filtroDocentes.selecionados)}},fileXlsxPrefs:null,preferenciaForm:{Docente:null,Disciplina:null,preferencia:null},edit:{docente:null,disciplina:null,isZero:null},add:{Docente:null,Disciplina:null,preferencia:0},error:null,tableMode:"docente",ordenacaoDocentes:{docentes:{order:"apelido",type:"asc"},disciplinas:{order:"disciplina.codigo",type:"asc"},pref:{order:"preferencia",type:"desc"}},ordenacaoDisciplina:{disciplinas:{order:"codigo",type:"asc"},docentes:{order:"docente.nome",type:"asc"},pref:{order:"preferencia",type:"desc"}}}},beforeMount:function(){this.modalFiltrosCallbacks.selectAll.Perfis(),this.modalFiltrosCallbacks.selectAll.Disciplinas(),this.modalFiltrosCallbacks.selectAll.Docentes(),this.modalFiltrosCallbacks.btnOk()},validations:{fileXlsxPrefs:{required:D["required"]},preferenciaForm:{Docente:{required:D["required"]},Disciplina:{required:D["required"]},preferencia:{required:D["required"],integer:D["integer"]}},edit:{docente:{required:D["required"]},disciplina:{required:D["required"],integer:D["integer"]}},add:{Docente:{required:D["required"]},Disciplina:{required:D["required"]},preferencia:{required:D["required"],integer:D["integer"]}}},methods:{preferenciaText:function(e){switch(e){case 0:return"Inapto";case 1:return"Emergência";case 2:return"Confortável";case 3:return"Interesse";default:break}},toggleTableMode:function(){"docente"===this.tableMode?this.tableMode="disciplina":this.tableMode="docente",this.$refs.modalNewPref.close(),this.$refs.modalAddPref.close(),this.$refs.modalEditPref.close()},closeAllModals:function(){var e=this;this.asideModalsRefs.forEach((function(i){e.$refs[i].close()}))},openModalEditPreferencia:function(e){var i=this;this.edit.docente=_({},e.docente),this.edit.disciplina=_({},e.disciplina);var t=e.preferencia;this.edit.isZero=0===t,this.preferenciaForm={Docente:e.Docente,Disciplina:e.Disciplina,preferencia:t},this.closeAllModals(),this.$nextTick((function(){return i.$v.$reset()})),this.$refs.modalEditPref.open()},openModalAddPreferencia:function(e){var i=this;"disciplina"===this.tableMode?this.add.Disciplina=e:this.add.Docente=e,this.closeAllModals(),this.$nextTick((function(){return i.$v.$reset()})),this.$refs.modalAddPref.open()},findPreferencia:function(e,i){var t=Object(p["a"])(this.PreferenciasDocentes,{Docente:e.id,Disciplina:i.id});return t?t.preferencia:0},addPreferencia:function(){var e=this;if(this.$v.add.$touch(),!this.$v.add.$anyError){var i=_({},this.add);this.add.Docente.id&&(i.Docente=this.add.Docente.id),this.add.Disciplina.id&&(i.Disciplina=this.add.Disciplina.id),b["a"].create(i).then((function(){e.pushNotification({type:"success",text:"Preferência adicionada com sucesso!"})})).catch((function(){e.pushNotification({type:"error",title:"Erro ao adicionar preferência!",text:"Verifique se a preferência já não existe"})}))}},handleEditPrefs:function(){var e=this;this.$v.preferenciaForm.$touch(),this.$v.preferenciaForm.$anyError||(this.edit.isZero?0!=this.preferenciaForm.preferencia&&(b["a"].create(this.preferenciaForm).then((function(){e.pushNotification({type:"success",text:"Preferência atualizada com sucesso!"})})).catch((function(i){e.error="<b>Erro ao atualizar Preferência</b>",i.response.data.fullMessage&&(e.error+="<br/>"+i.response.data.fullMessage.replace("\n","<br/>")),e.pushNotification({type:"error",text:e.error})})),this.edit.isZero=!1):this.preferenciaForm.preferencia!=this.findPreferencia(this.edit.docente,this.edit.disciplina)&&(0==this.preferenciaForm.preferencia?(b["a"].delete(this.preferenciaForm.Disciplina,this.preferenciaForm.Docente).then((function(){e.pushNotification({type:"success",text:"Preferência atualizada com sucesso!"})})).catch((function(i){e.error="<b>Erro ao atualizar Preferência</b>",i.response.data.fullMessage&&(e.error+="<br/>"+i.response.data.fullMessage.replace("\n","<br/>")),e.pushNotification({type:"error",text:e.error})})),this.edit.isZero=!0):b["a"].update(this.preferenciaForm.Disciplina,this.preferenciaForm.Docente,this.preferenciaForm).then((function(){e.pushNotification({type:"success",text:"Preferência atualizada com sucesso!"})})).catch((function(i){e.error="<b>Erro ao atualizar Preferência</b>",i.response.data.fullMessage&&(e.error+="<br/>"+i.response.data.fullMessage.replace("\n","<br/>")),e.pushNotification({type:"error",text:e.error})}))))},importPrefs:function(){if(this.$v.fileXlsxPrefs.$touch(),!this.$v.fileXlsxPrefs.$anyError){var e=new FileReader,i=this.DocentesAtivos,t=this.DisciplinasDCC,a=this.PreferenciasDocentes;e.onload=function(e){for(var r=c.a.read(e.target.result,{type:"binary"}),n=r.Sheets[r.SheetNames[0]],s=c.a.utils.sheet_to_json(n),o=Object(u["a"])(c.a.utils.sheet_to_csv(n).split(","),(function(e){return"Disciplinas"===e.substring(0,11)})),l=[],d=0;d<o.length;d++){var f=o[d].indexOf("["),h=o[d].indexOf("\t"),v=Object(p["a"])(t,{codigo:o[d].substring(f+1,h)});l.push(v),v||console.log(o[d]+" não existe no sistema")}for(var D=0;D<s.length;D++){var m=Object(p["a"])(i,{nome:s[D].Nome.toUpperCase()});if(m)for(var y=0;y<o.length;y++)if(l[y]){var g=Object(p["a"])(a,{Docente:m.id,Disciplina:l[y].id});if(s[D][o[y]]&&0!=s[D][o[y]]){var O={Docente:m.id,Disciplina:l[y].id,preferencia:s[D][o[y]]};g?g.preferencia!=O.preferencia&&b["a"].update(g.Disciplina,g.Docente,O):b["a"].create(O)}else g&&b["a"].delete(g.Disciplina,g.Docente)}}},e.readAsBinaryString(this.fileXlsxPrefs),this.$refs.modalUpload.close()}}},computed:_(_({},Object(l["c"])(["DocentesAtivos","DisciplinasDCC","PreferenciasDocentes","PerfisDCC"])),{},{DocentesInPreferenciasOrdered:function(){var e=this.ordenacaoDocentes.disciplinas,i=this.ordenacaoDocentes.docentes,t=this.ordenacaoDocentes.pref,a=Object(h["a"])(this.DocentesInPreferencias,(function(i){return _(_({},i),{},{preferencias:Object(v["a"])(i.preferencias,[t.order,e.order],[t.type,e.type])})}));return Object(v["a"])(a,i.order,i.type)},DocentesInPreferencias:function(){var e=this,i=[];return this.DocentesFiltered.forEach((function(t){var a=Object(u["a"])(e.DisciplinasFiltered,["Docente",t.id]);a.length&&i.push(_(_({},a[0].docente),{},{preferencias:a}))})),i},DisciplinasInPreferenciasOrdered:function(){var e=this.ordenacaoDisciplina.docentes,i=this.ordenacaoDisciplina.disciplinas,t=this.ordenacaoDisciplina.pref,a=Object(h["a"])(this.DisciplinasInPreferencias,(function(i){return _(_({},i),{},{preferencias:Object(v["a"])(i.preferencias,[t.order,e.order],[t.type,e.type])})}));return Object(v["a"])(a,i.order,i.type)},DisciplinasInPreferencias:function(){var e=this,i=[];return this.DisciplinasDCC.forEach((function(t){var a=Object(u["a"])(e.DisciplinasFiltered,["Disciplina",t.id]);a.length&&i.push(_(_({},a[0].disciplina),{},{preferencias:a}))})),i},DisciplinasFiltered:function(){var e=this;if(!this.filtroDisciplinas.ativados.length)return[];var i=[];return this.PreferenciasDocentes.forEach((function(t){e.filtroDisciplinas.ativados.includes(t.disciplina)&&e.filtroDocentes.ativados.includes(t.docente)&&i.push(t)})),i},DocentesFiltered:function(){var e=this;if(!this.filtroDocentes.ativados.length)return[];var i=[];return this.DocentesAtivos.forEach((function(t){e.filtroDocentes.ativados.includes(t)&&i.push(t)})),i},DisciplinasDCCOrderedByNome:function(){return Object(v["a"])(this.DisciplinasDCC,["nome"])},DisciplinasDCCOrderedByCodigo:function(){return Object(v["a"])(this.DisciplinasDCC,["codigo"])},PerfisOptionsOrdered:function(){return Object(v["a"])(this.PerfisOptions,this.ordenacaoModal.perfis.order,this.ordenacaoModal.perfis.type)},PerfisOptions:function(){var e=this;return this.PerfisDCC.map((function(i){var t=Object(u["a"])(e.DisciplinasOptions,["Perfil",i.id]),a=Object(u["a"])(e.filtroDisciplinas.selecionados,["Perfil",i.id]),r=!1;return t.length===a.length?r=!1:a.length>0&&(r=!0),_(_({},i),{},{halfChecked:r})}))},DisciplinasOptionsFiltered:function(){if(""===this.searchDisciplinas)return this.DisciplinasOptions;var e=Object(m["f"])(this.searchDisciplinas);return Object(u["a"])(this.DisciplinasOptions,(function(i){var t=Object(m["f"])(i.nome),a=Object(m["f"])(i.codigo);return t.match(e)||a.match(e)}))},DisciplinasOptionsOrdered:function(){return Object(v["a"])(this.DisciplinasOptionsFiltered,this.ordenacaoModal.disciplinas.order,this.ordenacaoModal.disciplinas.type)},DisciplinasOptions:function(){return this.DisciplinasDCC},DocentesOptionsOrdered:function(){return Object(v["a"])(this.DocentesOptionsFiltered,this.ordenacaoModal.docentes.order,this.ordenacaoModal.docentes.type)},DocentesOptionsFiltered:function(){if(""===this.searchDocentes)return this.DocentesAtivos;var e=Object(m["f"])(this.searchDocentes);return this.DocentesAtivos.filter((function(i){var t=Object(m["f"])(i.apelido);return t.match(e)}))}})},C=k,w=(t("8c3e"),t("2877")),x=Object(w["a"])(C,a,r,!1,null,"1fe2b387",null);i["default"]=x.exports},d2c8:function(e,i,t){var a=t("aae3"),r=t("be13");e.exports=function(e,i,t){if(a(i))throw TypeError("String#"+t+" doesn't accept regex!");return String(r(e))}}}]);
//# sourceMappingURL=chunk-660dee76.dfd0af15.js.map