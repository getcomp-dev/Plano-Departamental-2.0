(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d160b48"],{"28a5":function(e,t,i){"use strict";var a=i("aae3"),r=i("cb7c"),n=i("ebd6"),o=i("0390"),s=i("9def"),c=i("5f1b"),d=i("520a"),l=i("79e5"),p=Math.min,u=[].push,f="split",v="length",m="lastIndex",h=4294967295,g=!l((function(){RegExp(h,"y")}));i("214f")("split",2,(function(e,t,i,l){var D;return D="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[v]||2!="ab"[f](/(?:ab)*/)[v]||4!="."[f](/(.?)(.?)/)[v]||"."[f](/()()/)[v]>1||""[f](/.?/)[v]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!a(e))return i.call(r,e,t);var n,o,s,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,f=void 0===t?h:t>>>0,g=new RegExp(e.source,l+"g");while(n=d.call(g,r)){if(o=g[m],o>p&&(c.push(r.slice(p,n.index)),n[v]>1&&n.index<r[v]&&u.apply(c,n.slice(1)),s=n[0][v],p=o,c[v]>=f))break;g[m]===n.index&&g[m]++}return p===r[v]?!s&&g.test("")||c.push(""):c.push(r.slice(p)),c[v]>f?c.slice(0,f):c}:"0"[f](void 0,0)[v]?function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)}:i,[function(i,a){var r=e(this),n=void 0==i?void 0:i[t];return void 0!==n?n.call(i,r,a):D.call(String(r),i,a)},function(e,t){var a=l(D,e,this,t,D!==i);if(a.done)return a.value;var d=r(e),u=String(this),f=n(d,RegExp),v=d.unicode,m=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),_=new f(g?d:"^(?:"+d.source+")",m),b=void 0===t?h:t>>>0;if(0===b)return[];if(0===u.length)return null===c(_,u)?[u]:[];var y=0,C=0,w=[];while(C<u.length){_.lastIndex=g?C:0;var P,x=c(_,g?u:u.slice(C));if(null===x||(P=p(s(_.lastIndex+(g?0:C)),u.length))===y)C=o(u,C,v);else{if(w.push(u.slice(y,C)),w.length===b)return w;for(var k=1;k<=x.length-1;k++)if(w.push(x[k]),w.length===b)return w;C=y=P}}return w.push(u.slice(y)),w}]}))},a1c7:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main-component"},[i("portal",{attrs:{to:"page-header"}},[i("BaseButton",{attrs:{template:"adicionar"},on:{click:function(t){return e.toggleAsideModal("newPref")}}}),i("BaseButton",{attrs:{template:"file-upload"},on:{click:function(t){return e.toggleAsideModal("upload")}}}),i("BaseButton",{attrs:{template:"swap-modes"},on:{click:e.toggleTableMode}}),i("BaseButton",{attrs:{template:"ajuda"},on:{click:function(t){return e.toggleAsideModal("ajuda")}}})],1),i("div",{staticClass:"div-table"},[i("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"disciplina"===e.tableMode,expression:"tableMode === 'disciplina'"}],scopedSlots:e._u([{key:"thead",fn:function(){return[i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplina.disciplinas,orderToCheck:"codigo",width:"90",align:"start"}},[e._v("\n          Código\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplina.disciplinas,orderToCheck:"nome",width:"420",align:"start"}},[e._v("\n          Nome\n        ")]),i("v-th-ordination",{attrs:{width:"80",currentOrder:e.ordenacaoDisciplina.disciplinas,orderToCheck:"perfil.abreviacao"}},[e._v("\n          Perfil\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplina.docentes,orderToCheck:"docente.apelido",width:"120",align:"start"}},[e._v("\n          Docente\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplina.pref,orderToCheck:"preferencia",orderType:"desc",orderFixed:!0,width:"60",title:"Preferência"}},[e._v("\n          Pref.\n        ")])]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.DisciplinasInPreferenciasOrdered,(function(t){return[i("tr",{key:t.id,staticClass:"bg-custom"},[i("v-td",{attrs:{width:"90",align:"start"}},[e._v(e._s(t.codigo))]),i("v-td",{attrs:{width:"420",align:"start"}},[e._v(e._s(t.nome))]),i("v-td",{attrs:{width:"80",paddingX:"2"}},[e._v(e._s(t.perfil.abreviacao))]),i("v-td",{attrs:{width:"120"}}),i("v-td",{staticClass:"clickable",attrs:{width:"60",type:"content"},on:{click:function(i){return e.openModalAddPreferencia(t)}}},[i("font-awesome-icon",{staticClass:"icon-darkgray",attrs:{icon:["fas","plus"]}})],1)],1),e._l(t.preferencias,(function(t){return i("tr",{key:t.Docente+"-"+t.Disciplina},[i("v-td",{attrs:{width:"90"}}),i("v-td",{attrs:{width:"420"}}),i("v-td",{attrs:{width:"80"}}),i("v-td",{attrs:{width:"120",align:"start",title:t.docente.nome}},[e._v("\n              "+e._s(t.docente.apelido)+"\n            ")]),i("v-td",{staticClass:"td-pref",attrs:{width:"60",title:"Preferência: "+e.preferenciaText(t.preferencia)+"\nClique para editar"},on:{click:function(i){return e.openModalEditPreferencia(t)}}},[e._v("\n              "+e._s(t.preferencia)+"\n            ")])],1)}))]}))]},proxy:!0}])}),i("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"docente"===e.tableMode,expression:"tableMode === 'docente'"}],scopedSlots:e._u([{key:"thead",fn:function(){return[i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDocentes.docentes,orderToCheck:"nome",width:"120",align:"start"}},[e._v("\n          Docente\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDocentes.disciplinas,orderToCheck:"disciplina.codigo",width:"90"}},[e._v("\n          Código\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDocentes.disciplinas,orderToCheck:"disciplina.nome",width:"420",align:"start"}},[e._v("\n          Nome\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDocentes.disciplinas,orderToCheck:"disciplina.perfil.abreviacao",width:"80"}},[e._v("\n          Perfil\n        ")]),i("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDocentes.pref,orderToCheck:"preferencia",orderType:"desc",orderFixed:!0,width:"60",title:"Preferência"}},[e._v("\n          Pref.\n        ")])]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.DocentesInPreferenciasOrdered,(function(t){return[i("tr",{key:t.id,staticClass:"bg-custom"},[i("v-td",{attrs:{width:"120",align:"start"}},[e._v(e._s(t.apelido))]),i("v-td",{attrs:{width:"90"}}),i("v-td",{attrs:{width:"420"}}),i("v-td",{attrs:{width:"80"}}),i("v-td",{staticClass:"clickable",attrs:{width:"60",type:"content"},on:{click:function(i){return e.openModalAddPreferencia(t)}}},[i("font-awesome-icon",{staticClass:"icon-darkgray",attrs:{icon:["fas","plus"]}})],1)],1),e._l(t.preferencias,(function(t){return i("tr",{key:t.Docente+"-"+t.Disciplina},[i("v-td",{attrs:{width:"120"}}),i("v-td",{attrs:{width:"90"}},[e._v(e._s(t.disciplina.codigo))]),i("v-td",{attrs:{width:"420",align:"start"}},[e._v(e._s(t.disciplina.nome))]),i("v-td",{attrs:{width:"80"}},[e._v(e._s(t.disciplina.perfil.abreviacao))]),i("v-td",{staticClass:"td-pref",attrs:{width:"60",type:"content",title:"Preferência: "+e.preferenciaText(t.preferencia)+"\nClique para editar"},on:{click:function(i){return e.openModalEditPreferencia(t)}}},[e._v("\n              "+e._s(t.preferencia)+"\n            ")])],1)}))]}))]},proxy:!0}])})],1),i("BaseModal",{ref:"modalEditPref",staticClass:"modal-pref",attrs:{title:"Editar Preferência",hasFooter:!0,position:"right",styles:{width:"400px"}},scopedSlots:e._u([{key:"modal-body",fn:function(){return[i("div",{staticClass:"form-row w-100"},[i("span",{staticClass:"w-100 mb-2"},[i("b",[e._v("Docente:")]),e._v("\n          "+e._s(e.edit.docente?e.edit.docente.nome:"")+"\n        ")]),i("span",{staticClass:"w-100"},[i("b",[e._v("Disciplina:")]),e._v("\n          "+e._s(e.edit.disciplina?e.edit.disciplina.nome:"")+"\n        ")])]),i("div",{staticClass:"form-row w-100"},[i("div",{staticClass:"form-group col-6"},[i("label",{attrs:{for:"editPref"}},[e._v("Preferência:")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.preferenciaForm.preferencia,expression:"preferenciaForm.preferencia"}],staticClass:"form-control",attrs:{id:"editPref"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.preferenciaForm,"preferencia",t.target.multiple?i:i[0])}}},e._l([0,1,2,3],(function(t){return i("option",{key:t,domProps:{value:t}},[e._v("\n              "+e._s(t)+" - "+e._s(e.preferenciaText(t))+"\n            ")])})),0)])])]},proxy:!0},{key:"modal-footer",fn:function(){return[i("BaseButton",{staticClass:"ml-auto",attrs:{color:"lightblue",text:"Salvar"},on:{click:e.handleEditPrefs}})]},proxy:!0}])}),i("BaseModal",{ref:"modalAddPref",staticClass:"modal-pref",attrs:{title:"docente"===e.tableMode?"Adicionar preferência ao docente":"Adicionar preferência à disciplina",hasFooter:!0,position:"right",styles:{width:"400px"}},scopedSlots:e._u([{key:"modal-body",fn:function(){return["disciplina"===e.tableMode?[i("div",{staticClass:"form-row w-100"},[i("span",{staticClass:"w-100"},[i("b",[e._v("Disciplina:")]),e._v("\n            "+e._s(e.add.Disciplina?e.add.Disciplina.nome:"")+"\n          ")])]),i("div",{staticClass:"form-row w-100"},[i("div",{staticClass:"form-group col-6"},[i("label",{attrs:{for:"addDocente"}},[e._v("Docente:")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.add.Docente,expression:"add.Docente"}],staticClass:"form-control",attrs:{id:"addDocente"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.add,"Docente",t.target.multiple?i:i[0])}}},e._l(e.DocentesAtivos,(function(t){return i("option",{key:t.id+t.apelido,domProps:{value:t.id}},[e._v("\n                "+e._s(t.apelido)+"\n              ")])})),0)]),i("div",{staticClass:"form-group col-6 pl-3"},[i("label",{attrs:{for:"addPref"}},[e._v("Preferência:")]),i("select",{directives:[{name:"model",rawName:"v-model.number",value:e.add.preferencia,expression:"add.preferencia",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"addPref"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var i="_value"in t?t._value:t.value;return e._n(i)}));e.$set(e.add,"preferencia",t.target.multiple?i:i[0])}}},e._l([0,1,2,3],(function(t){return i("option",{key:t,domProps:{value:t}},[e._v("\n                "+e._s(t)+" - "+e._s(e.preferenciaText(t))+"\n              ")])})),0)])])]:"docente"===e.tableMode?[i("div",{staticClass:"form-row w-100"},[i("span",{staticClass:"w-100"},[i("b",[e._v("Docente:")]),e._v("\n            "+e._s(e.add.Docente?e.add.Docente.apelido:"")+"\n          ")])]),i("div",{staticClass:"form-row w-100"},[i("div",{staticClass:"form-group col"},[i("label",{attrs:{for:"addDisciplina"}},[e._v("Disciplina:")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.add.Disciplina,expression:"add.Disciplina"}],staticClass:"form-control",staticStyle:{width:"100%"},attrs:{id:"addDisciplina"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.add,"Disciplina",t.target.multiple?i:i[0])}}},e._l(e.DisciplinasDCCOrderedByNome,(function(t){return i("option",{key:t.id+t.codigo,domProps:{value:t.id}},[e._v("\n                "+e._s(t.nome)+"\n              ")])})),0)])]),i("div",{staticClass:"form-row w-100"},[i("div",{staticClass:"form-group col-6"},[i("label",{attrs:{for:"addDisciplina"}},[e._v("Código:")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.add.Disciplina,expression:"add.Disciplina"}],staticClass:"form-control",attrs:{id:"addDisciplina"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.add,"Disciplina",t.target.multiple?i:i[0])}}},e._l(e.DisciplinasDCCOrderedByCodigo,(function(t){return i("option",{key:t.id+t.codigo,domProps:{value:t.id}},[e._v("\n                "+e._s(t.codigo)+"\n              ")])})),0)]),i("div",{staticClass:"form-group col-6 pl-3"},[i("label",{attrs:{for:"addPref"}},[e._v("Preferência:")]),i("select",{directives:[{name:"model",rawName:"v-model.number",value:e.add.preferencia,expression:"add.preferencia",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"addPref"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var i="_value"in t?t._value:t.value;return e._n(i)}));e.$set(e.add,"preferencia",t.target.multiple?i:i[0])}}},e._l([0,1,2,3],(function(t){return i("option",{key:t,domProps:{value:t}},[e._v("\n                "+e._s(t)+" - "+e._s(e.preferenciaText(t))+"\n              ")])})),0)])])]:e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[i("BaseButton",{staticClass:"ml-auto",attrs:{color:"lightblue",text:"Confirmar"},on:{click:e.addPreferencia}})]},proxy:!0}])}),i("BaseModal",{ref:"modalNewPref",staticClass:"modal-pref",attrs:{title:"Nova Preferência",hasFooter:!0,position:"right",styles:{width:"400px"}},scopedSlots:e._u([{key:"modal-body",fn:function(){return[i("div",{staticClass:"form-row w-100"},[i("div",{staticClass:"form-group col"},[i("label",{attrs:{for:"newDisciplina"}},[e._v("Disciplina:")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.add.Disciplina,expression:"add.Disciplina"}],staticClass:"form-control",attrs:{id:"newDisciplina"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.add,"Disciplina",t.target.multiple?i:i[0])}}},e._l(e.DisciplinasDCCOrderedByNome,(function(t){return i("option",{key:t.id+t.codigo,domProps:{value:t.id}},[e._v("\n              "+e._s(t.nome)+"\n            ")])})),0)])]),i("div",{staticClass:"form-row w-100"},[i("div",{staticClass:"form-group col-6"},[i("label",{attrs:{for:"newCodigo"}},[e._v("Código:")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.add.Disciplina,expression:"add.Disciplina"}],staticClass:"form-control",attrs:{id:"newCodigo"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.add,"Disciplina",t.target.multiple?i:i[0])}}},e._l(e.DisciplinasDCCOrderedByCodigo,(function(t){return i("option",{key:t.id+t.codigo,domProps:{value:t.id}},[e._v("\n              "+e._s(t.codigo)+"\n            ")])})),0)]),i("div",{staticClass:"form-group col-6 pl-3"},[i("label",{attrs:{for:"newDocente"}},[e._v("Docente:")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.add.Docente,expression:"add.Docente"}],staticClass:"form-control",attrs:{id:"newDocente"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.add,"Docente",t.target.multiple?i:i[0])}}},e._l(e.DocentesAtivos,(function(t){return i("option",{key:t.id+t.nome,domProps:{value:t.id}},[e._v("\n              "+e._s(t.apelido)+"\n            ")])})),0)])]),i("div",{staticClass:"form-group col-6"},[i("label",{attrs:{for:"newPref"}},[e._v("Preferência:")]),i("select",{directives:[{name:"model",rawName:"v-model.number",value:e.add.preferencia,expression:"add.preferencia",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"newPref"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var i="_value"in t?t._value:t.value;return e._n(i)}));e.$set(e.add,"preferencia",t.target.multiple?i:i[0])}}},e._l([0,1,2,3],(function(t){return i("option",{key:t,domProps:{value:t}},[e._v("\n            "+e._s(t)+" - "+e._s(e.preferenciaText(t))+"\n          ")])})),0)])]},proxy:!0},{key:"modal-footer",fn:function(){return[i("BaseButton",{staticClass:"ml-auto",attrs:{color:"lightblue",text:"Confirmar"},on:{click:e.addPreferencia}})]},proxy:!0}])}),i("BaseModal",{ref:"modalUpload",staticClass:"modal-pref",attrs:{title:"Importar preferências",hasFooter:!0,position:"right",styles:{width:"400px"}},scopedSlots:e._u([{key:"modal-body",fn:function(){return[i("input",{ref:"xlsxPrefs",attrs:{type:"file",id:"xlsxPrefs"}})]},proxy:!0},{key:"modal-footer",fn:function(){return[i("BaseButton",{staticClass:"ml-auto",attrs:{color:"lightblue",text:"Importar"},on:{click:e.importPrefs}})]},proxy:!0}])}),i("ModalAjuda",{ref:"modalAjuda"},[i("li",{staticClass:"list-group-item"},[i("b",[e._v("Adicionar:")]),e._v("\n      Clique no ícone de adicionar\n      "),i("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","plus"]}}),e._v("\n      no cabeçalho da página. Em seguida, preencha a janela que se abrirá à direita e para\n      finalizar clique no botão Confirmar. Ou para adicionar uma preferência diretamente numa\n      linha da tabela clique no icone de adicionar\n      "),i("font-awesome-icon",{staticClass:"icon-darkgray",attrs:{icon:["fas","plus"]}}),e._v("\n      na coluna Pref. (preferência) da linha que deseja, preencha a janela que se abrirá à direita\n      e para finalizar clique no botão Confirmar.\n    ")],1),i("li",{staticClass:"list-group-item"},[i("b",[e._v("Editar:")]),e._v("\n      Clique no numero da coluna Pref. (preferência) na linha que deseja alterar. Em seguida, na\n      janela que se abrirá à direita altere as informações que desejar e clique em Salvar.\n    ")]),i("li",{staticClass:"list-group-item"},[i("b",[e._v("Deletar:")]),e._v("\n      Basta seguir os passos da edição descrito acima colocando o valor da preferência como zero.\n    ")]),i("li",{staticClass:"list-group-item"},[i("b",[e._v("Alterar visualizaçao da tabela:")]),e._v("\n      Clique no ícone de alterar visualizaçao\n      "),i("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","sync-alt"]}}),e._v("\n      no cabeçalho da página para alterar a visualizaçao das preferencias entre docentes por\n      disciplinas, ou disciplinas por docentes.\n    ")],1),i("li",{staticClass:"list-group-item"},[i("b",[e._v("Ordenar:")]),e._v("\n      Clique no cabeçalho da tabela, na coluna desejada, para alterar a ordenação das informações.\n      Note que existem colunas com o icone\n      "),i("font-awesome-icon",{staticClass:"icon-darkgray",attrs:{icon:["fas","thumbtack"]}}),e._v("\n      que significa que esta ordenação terá pripridade em relação as outras.\n    ")],1)])],1)},r=[],n=(i("1c01"),i("58b2"),i("8e6e"),i("d25f"),i("456d"),i("57e7"),i("28a5"),i("a481"),i("ade3")),o=(i("ac6a"),i("f3e2"),i("1146")),s=i.n(o),c=i("2f62"),d=i("0a94"),l=i("6740"),p=i("ce69"),u=i("d4b9"),f=i("dd42"),v=i("d027"),m=i("9165");function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){Object(n["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var D={name:"PreferenciasDocentes",components:{ModalAjuda:v["a"]},mixins:[m["o"]],data:function(){return{asideModalsRefs:["modalAjuda","modalAddPref","modalEditPref","modalNewPref","modalUpload"],file:null,preferenciaForm:{Docente:null,Disciplina:null,preferencia:null},edit:{docente:null,disciplina:null,isZero:null},add:{Docente:null,Disciplina:null,preferencia:0},error:null,tableMode:"docente",ordenacaoDocentes:{docentes:{order:"nome",type:"asc"},disciplinas:{order:"disciplina.codigo",type:"asc"},pref:{order:"preferencia",type:"desc"}},ordenacaoDisciplina:{disciplinas:{order:"codigo",type:"asc"},docentes:{order:"docente.apelido",type:"asc"},pref:{order:"preferencia",type:"desc"}}}},methods:{preferenciaText:function(e){switch(e){case 0:return"Inapto";case 1:return"Emergência";case 2:return"Confortável";case 3:return"Interesse";default:break}},toggleTableMode:function(){"docente"===this.tableMode?this.tableMode="disciplina":this.tableMode="docente",this.$refs.modalNewPref.close(),this.$refs.modalAddPref.close(),this.$refs.modalEditPref.close()},closeAllModals:function(){var e=this;this.asideModalsRefs.forEach((function(t){e.$refs[t].close()}))},openModalEditPreferencia:function(e){this.edit.docente=g({},e.docente),this.edit.disciplina=g({},e.disciplina);var t=e.preferencia;this.edit.isZero=0===t,this.preferenciaForm={Docente:e.Docente,Disciplina:e.Disciplina,preferencia:t},this.closeAllModals(),this.$refs.modalEditPref.open()},openModalAddPreferencia:function(e){"disciplina"===this.tableMode?this.add.Disciplina=e:this.add.Docente=e,this.closeAllModals(),this.$refs.modalAddPref.open()},findPreferencia:function(e,t){var i=Object(d["a"])(this.PreferenciasDocentes,{Docente:e.id,Disciplina:t.id});return i?i.preferencia:0},addPreferencia:function(){var e=this;this.add.Docente&&this.add.Disciplina&&this.add.preferencia&&(this.add.Docente.id&&(this.add.Docente=this.add.Docente.id),this.add.Disciplina.id&&(this.add.Disciplina=this.add.Disciplina.id),f["a"].create(this.add).then((function(){e.pushNotification({type:"success",text:"Preferência adicionada com sucesso!"}),e.add.Disciplina=null,e.add.Docente=null,e.add.preferencia=0})).catch((function(){e.pushNotification({type:"error",title:"Erro ao adicionar preferência!",text:"Verifique se a preferência já não existe"})})))},handleEditPrefs:function(){var e=this;this.edit.isZero?0!=this.preferenciaForm.preferencia&&(f["a"].create(this.preferenciaForm).then((function(){e.pushNotification({type:"success",text:"Preferência atualizada com sucesso!"})})).catch((function(t){e.error="<b>Erro ao atualizar Preferência</b>",t.response.data.fullMessage&&(e.error+="<br/>"+t.response.data.fullMessage.replace("\n","<br/>")),e.pushNotification({type:"error",text:e.error})})),this.edit.isZero=!1):this.preferenciaForm.preferencia!=this.findPreferencia(this.edit.docente,this.edit.disciplina)&&(0==this.preferenciaForm.preferencia?(f["a"].delete(this.preferenciaForm.Disciplina,this.preferenciaForm.Docente).then((function(){e.pushNotification({type:"success",text:"Preferência atualizada com sucesso!"})})).catch((function(t){e.error="<b>Erro ao atualizar Preferência</b>",t.response.data.fullMessage&&(e.error+="<br/>"+t.response.data.fullMessage.replace("\n","<br/>")),e.pushNotification({type:"error",text:e.error})})),this.edit.isZero=!0):f["a"].update(this.preferenciaForm.Disciplina,this.preferenciaForm.Docente,this.preferenciaForm).then((function(){e.pushNotification({type:"success",text:"Preferência atualizada com sucesso!"})})).catch((function(t){e.error="<b>Erro ao atualizar Preferência</b>",t.response.data.fullMessage&&(e.error+="<br/>"+t.response.data.fullMessage.replace("\n","<br/>")),e.pushNotification({type:"error",text:e.error})})))},importPrefs:function(){this.file=this.$refs.xlsxPrefs.files[0];var e=new FileReader,t=this.DocentesAtivos,i=this.DisciplinasDCC,a=this.PreferenciasDocentes;e.onload=function(e){for(var r=s.a.read(e.target.result,{type:"binary"}),n=r.Sheets[r.SheetNames[0]],o=s.a.utils.sheet_to_json(n),c=Object(l["a"])(s.a.utils.sheet_to_csv(n).split(","),(function(e){return"Disciplinas"===e.substring(0,11)})),p=[],u=0;u<c.length;u++){var v=c[u].indexOf("["),m=c[u].indexOf("\t"),h=Object(d["a"])(i,{codigo:c[u].substring(v+1,m)});p.push(h),h||console.log(c[u]+" não existe no sistema")}for(var g=0;g<o.length;g++){var D=Object(d["a"])(t,{nome:o[g].Nome.toUpperCase()});if(D)for(var _=0;_<c.length;_++)if(p[_]){var b=Object(d["a"])(a,{Docente:D.id,Disciplina:p[_].id});if(o[g][c[_]]&&0!=o[g][c[_]]){var y={Docente:D.id,Disciplina:p[_].id,preferencia:o[g][c[_]]};b?b.preferencia!=y.preferencia&&f["a"].update(b.Disciplina,b.Docente,y):f["a"].create(y)}else b&&f["a"].delete(b.Disciplina,b.Docente)}}},e.readAsBinaryString(this.file),this.$refs.modalUpload.close()}},computed:g(g({},Object(c["c"])(["DocentesAtivos","DisciplinasDCC","PreferenciasDocentes"])),{},{DocentesInPreferenciasOrdered:function(){var e=this.ordenacaoDocentes.disciplinas,t=this.ordenacaoDocentes.docentes,i=this.ordenacaoDocentes.pref,a=Object(p["a"])(this.DocentesInPreferencias,(function(t){return g(g({},t),{},{preferencias:Object(u["a"])(t.preferencias,[i.order,e.order],[i.type,e.type])})}));return Object(u["a"])(a,t.order,t.type)},DocentesInPreferencias:function(){var e=this,t=[];return this.DocentesAtivos.forEach((function(i){var a=Object(l["a"])(e.PreferenciasDocentes,["Docente",i.id]);a.length&&t.push(g(g({},a[0].docente),{},{preferencias:a}))})),t},DisciplinasInPreferenciasOrdered:function(){var e=this.ordenacaoDisciplina.docentes,t=this.ordenacaoDisciplina.disciplinas,i=this.ordenacaoDisciplina.pref,a=Object(p["a"])(this.DisciplinasInPreferencias,(function(t){return g(g({},t),{},{preferencias:Object(u["a"])(t.preferencias,[i.order,e.order],[i.type,e.type])})}));return Object(u["a"])(a,t.order,t.type)},DisciplinasInPreferencias:function(){var e=this,t=[];return this.DisciplinasDCC.forEach((function(i){var a=Object(l["a"])(e.PreferenciasDocentes,["Disciplina",i.id]);a.length&&t.push(g(g({},a[0].disciplina),{},{preferencias:a}))})),t},DisciplinasDCCOrderedByNome:function(){return Object(u["a"])(this.DisciplinasDCC,["nome"])},DisciplinasDCCOrderedByCodigo:function(){return Object(u["a"])(this.DisciplinasDCC,["codigo"])}})},_=D,b=(i("de8d"),i("2877")),y=Object(b["a"])(_,a,r,!1,null,"3fa8d9a8",null);t["default"]=y.exports},aae3:function(e,t,i){var a=i("d3f4"),r=i("2d95"),n=i("2b4c")("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==r(e))}},de8d:function(e,t,i){"use strict";i("f105")},f105:function(e,t,i){}}]);
//# sourceMappingURL=chunk-2d160b48.c4c8f47b.js.map