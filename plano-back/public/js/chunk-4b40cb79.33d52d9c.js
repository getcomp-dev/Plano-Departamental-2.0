(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b40cb79","chunk-17ab0d6b"],{"0a0f":function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"main-component row p-0"},[s("PageHeader",{attrs:{title:"Plano Departamental"}},[s("BaseButton",{attrs:{template:"filtros"},on:{click:function(i){return t.toggleAsideModal("filtros")}}}),s("BaseButton",{attrs:{template:"relatorio"},on:{click:function(i){return t.toggleAsideModal("relatorio")}}}),s("BaseButton",{attrs:{template:"ajuda"},on:{click:function(i){return t.toggleAsideModal("ajuda")}}})],1),s("div",{staticClass:"div-table"},[s("BaseTable",{scopedSlots:t._u([{key:"thead",fn:function(){return[s("v-th-ordination",{attrs:{currentOrder:t.ordenacaoMain.disciplinas,orderToCheck:"codigo",width:"80"}},[t._v("Código\n        ")]),s("v-th-ordination",{attrs:{currentOrder:t.ordenacaoMain.disciplinas,orderToCheck:"nome",width:"350",align:"start"}},[t._v("Nome\n        ")]),s("v-th-ordination",{attrs:{currentOrder:t.ordenacaoMain.disciplinas,orderToCheck:"perfil.abreviacao",width:"80",align:"center"}},[t._v("Perfil\n        ")]),s("v-th",{attrs:{width:"30",title:"Créditos"}},[t._v("C.")]),s("v-th",{attrs:{width:"30",title:"Período letivo"}},[t._v("P.")]),s("v-th",{attrs:{width:"35",title:"Turma"}},[t._v("T.")]),s("v-th",{attrs:{width:"150"}},[t._v("Docentes")]),s("v-th",{attrs:{width:"130"}},[t._v("Horário")]),t.algumPeriodoAtivado?[s("v-th",{attrs:{width:"45",title:t.theadTitle.creditos}},[t._v("\n            SC\n          ")]),s("v-th",{attrs:{width:"45",title:t.theadTitle.vagas}},[t._v("\n            SV\n          ")])]:t._e()]},proxy:!0},{key:"tbody",fn:function(){return[s("tr",{directives:[{name:"show",rawName:"v-show",value:t.DisciplinasInTurmasOrdered.length,expression:"DisciplinasInTurmasOrdered.length"}],staticClass:"bg-total-vg"},[s("v-td",{attrs:{width:"80"}}),s("v-td",{attrs:{width:"350",align:"start"}},[t._v("TOTAIS")]),s("v-td",{attrs:{width:"80"}}),s("v-td",{attrs:{width:"30"}}),s("v-td",{attrs:{width:"30"}}),s("v-td",{attrs:{width:"35"}}),s("v-td",{attrs:{width:"150"}}),s("v-td",{attrs:{width:"130"}}),s("v-td",{attrs:{width:"45"}},[t._v(t._s(t.somatoriosTotais.creditos))]),s("v-td",{attrs:{width:"45"}},[t._v(t._s(t.somatoriosTotais.vagas))])],1),t._l(t.DisciplinasInTurmasOrdered,function(i){return[s("tr",{key:i.id+i.codigo,staticClass:"bg-custom"},[s("v-td",{attrs:{width:"80"}},[t._v(t._s(i.codigo))]),s("v-td",{attrs:{width:"350",align:"start"}},[t._v(t._s(i.nome))]),s("v-td",{attrs:{width:"80"}},[t._v(t._s(i.perfil.abreviacao))]),s("v-td",{attrs:{width:"30"}},[t._v(t._s(i.creditoTotal))]),s("v-td",{attrs:{width:"30"}}),s("v-td",{attrs:{width:"30"}}),s("v-td",{attrs:{width:"150"}}),s("v-td",{attrs:{width:"130"}}),s("v-td",{attrs:{width:"45"}},[t._v("\n              "+t._s(i.somatorioCreditos)+"\n            ")]),s("v-td",{attrs:{width:"45"}},[t._v("\n              "+t._s(i.somatorioVagas)+"\n            ")])],1),t._l(i.turmas,function(i){return s("tr",{key:i.id+i.letra},[s("v-td",{attrs:{width:"80"}}),s("v-td",{attrs:{width:"350"}}),s("v-td",{attrs:{width:"80"}}),s("v-td",{attrs:{width:"30"}}),s("v-td",{attrs:{width:"30"}},[t._v(t._s(i.periodo))]),s("v-td",{attrs:{width:"35",paddingX:"0"}},[t._v(t._s(i.letra))]),s("v-td",{attrs:{width:"150",paddingX:"2"}},[t._v("\n              "+t._s(t.generateDocentesText(i.Docente1,i.Docente2))+"\n            ")]),s("v-td",{attrs:{width:"130",paddingX:"2"}},[t._v("\n              "+t._s(t.generateHorariosText(i.Horario1,i.Horario2))+"\n            ")]),s("v-td",{attrs:{width:"45"}}),t.algumPeriodoAtivado?s("v-td",{staticClass:"td-vagas clickable",attrs:{width:"45"},nativeOn:{click:function(s){return t.handleClickInTurmaVaga(i)}}},[t._v("\n              "+t._s(i.vagas)+"\n            ")]):s("v-td",{attrs:{width:"45"}})],1)})]}),s("tr",{directives:[{name:"show",rawName:"v-show",value:!t.DisciplinasInTurmasOrdered.length,expression:"!DisciplinasInTurmasOrdered.length"}]},[s("v-td",{attrs:{width:"885",colspan:"7"}},[s("b",[t._v("Nenhuma disciplina encontrada.")]),t._v(" Clique no botão de filtros\n            "),s("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),t._v(" para\n            selecioná-las.\n          ")],1),t.algumPeriodoAtivado?[s("v-td",{staticClass:"borderX-0",attrs:{width:"45"}}),s("v-td",{staticClass:"borderX-0",attrs:{width:"45"}})]:t._e()],2)]},proxy:!0}])})],1),s("ModalFiltros",{ref:"modalFiltros",attrs:{callbacks:t.modalFiltrosCallbacks,tabsOptions:t.modalFiltrosTabs}},[s("div",{staticClass:"div-table"},[s("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Perfis"===t.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Perfis'"}],attrs:{type:"modal"},scopedSlots:t._u([{key:"thead",fn:function(){return[s("v-th",{attrs:{width:"25"}}),s("v-th-ordination",{attrs:{currentOrder:t.ordenacaoModal.perfis,orderToCheck:"nome",width:"425",align:"start"}},[t._v("Nome\n          ")])]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.PerfisOptionsOrdered,function(i){return s("tr",{key:i.id+i.nome,on:{click:function(s){return s.stopPropagation(),t.selectPerfis(i)}}},[s("v-td",{attrs:{width:"25"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filtroPerfis.selecionados,expression:"filtroPerfis.selecionados"}],staticClass:"form-check-input position-static m-0",attrs:{type:"checkbox"},domProps:{value:i,indeterminate:i.halfChecked,checked:Array.isArray(t.filtroPerfis.selecionados)?t._i(t.filtroPerfis.selecionados,i)>-1:t.filtroPerfis.selecionados},on:{click:function(s){return s.stopPropagation(),t.selectPerfis(i)},change:function(s){var a=t.filtroPerfis.selecionados,e=s.target,o=!!e.checked;if(Array.isArray(a)){var r=i,n=t._i(a,r);e.checked?n<0&&t.$set(t.filtroPerfis,"selecionados",a.concat([r])):n>-1&&t.$set(t.filtroPerfis,"selecionados",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.filtroPerfis,"selecionados",o)}}})]),s("v-td",{attrs:{width:"425",align:"start"}},[t._v(t._s(i.nome))])],1)})},proxy:!0}])}),s("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Disciplinas"===t.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Disciplinas'"}],attrs:{type:"modal",hasSearchBar:!0},scopedSlots:t._u([{key:"thead-search",fn:function(){return[s("InputSearch",{attrs:{placeholder:"Pesquise nome ou codigo de uma disciplina..."},model:{value:t.searchDisciplinas,callback:function(i){t.searchDisciplinas=i},expression:"searchDisciplinas"}})]},proxy:!0},{key:"thead",fn:function(){return[s("v-th",{attrs:{width:"25"}}),s("v-th-ordination",{attrs:{currentOrder:t.ordenacaoModal.disciplinas,orderToCheck:"codigo",width:"70",align:"start"}},[t._v("Código\n          ")]),s("v-th-ordination",{attrs:{currentOrder:t.ordenacaoModal.disciplinas,orderToCheck:"nome",width:"270",align:"start"}},[t._v("Nome\n          ")]),s("v-th-ordination",{attrs:{currentOrder:t.ordenacaoModal.disciplinas,orderToCheck:"perfil.abreviacao",width:"85",align:"start"}},[t._v("Perfil\n          ")])]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.DisciplinasOptionsOrdered,function(i){return s("tr",{key:i.id+i.nome,on:{click:function(s){return s.stopPropagation(),t.selectDisciplina(i)}}},[s("v-td",{attrs:{width:"25"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filtroDisciplinas.selecionados,expression:"filtroDisciplinas.selecionados"}],staticClass:"form-check-input position-static m-0",attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(t.filtroDisciplinas.selecionados)?t._i(t.filtroDisciplinas.selecionados,i)>-1:t.filtroDisciplinas.selecionados},on:{click:function(s){return s.stopPropagation(),t.selectDisciplina(i)},change:function(s){var a=t.filtroDisciplinas.selecionados,e=s.target,o=!!e.checked;if(Array.isArray(a)){var r=i,n=t._i(a,r);e.checked?n<0&&t.$set(t.filtroDisciplinas,"selecionados",a.concat([r])):n>-1&&t.$set(t.filtroDisciplinas,"selecionados",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.filtroDisciplinas,"selecionados",o)}}})]),s("v-td",{attrs:{width:"70",align:"start"}},[t._v(t._s(i.codigo))]),s("v-td",{attrs:{align:"start",width:"270",title:i.nome}},[t._v("\n              "+t._s(i.nome)+"\n            ")]),s("v-td",{attrs:{width:"85",align:"start"}},[t._v(t._s(i.perfil.abreviacao))])],1)}),t.DisciplinasOptionsOrdered.length?t._e():s("tr",[s("v-td",{attrs:{colspan:"3",width:"450"}},[t._v("\n              NENHUMA DISCIPLINA ENCONTRADA.\n            ")])],1)]},proxy:!0}])}),s("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Períodos"===t.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Períodos'"}],attrs:{type:"modal"},scopedSlots:t._u([{key:"thead",fn:function(){return[s("v-th",{attrs:{width:"25"}}),s("v-th",{attrs:{width:"425",align:"start"}},[t._v("Periodos Letivo")])]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.PeriodosOptions,function(i){return s("tr",{key:i.id+i.nome,on:{click:function(s){return s.stopPropagation(),t.selecionaPeriodo(i,t.filtroPeriodos.selecionados)}}},[s("v-td",{attrs:{width:"25"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filtroPeriodos.selecionados,expression:"filtroPeriodos.selecionados"}],staticClass:"form-check-input position-static m-0",attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(t.filtroPeriodos.selecionados)?t._i(t.filtroPeriodos.selecionados,i)>-1:t.filtroPeriodos.selecionados},on:{click:function(s){return s.stopPropagation(),t.selecionaPeriodo(i)},change:function(s){var a=t.filtroPeriodos.selecionados,e=s.target,o=!!e.checked;if(Array.isArray(a)){var r=i,n=t._i(a,r);e.checked?n<0&&t.$set(t.filtroPeriodos,"selecionados",a.concat([r])):n>-1&&t.$set(t.filtroPeriodos,"selecionados",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.filtroPeriodos,"selecionados",o)}}})]),s("v-td",{attrs:{width:"425",align:"start"}},[t._v(t._s(i.nome))])],1)})},proxy:!0}])}),s("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Semestres"===t.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Semestres'"}],attrs:{type:"modal"},scopedSlots:t._u([{key:"thead",fn:function(){return[s("v-th",{attrs:{width:"25"}}),s("v-th",{attrs:{width:"425",align:"start"}},[t._v("Semestre Letivo")])]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.SemestresOptions,function(i){return s("tr",{key:i.id+i.nome,on:{click:function(s){return s.stopPropagation(),t.selecionaSemestre(i)}}},[s("v-td",{attrs:{width:"25"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filtroSemestres.selecionados,expression:"filtroSemestres.selecionados"}],staticClass:"form-check-input position-static m-0",attrs:{type:"checkbox"},domProps:{indeterminate:i.halfChecked,value:i,checked:Array.isArray(t.filtroSemestres.selecionados)?t._i(t.filtroSemestres.selecionados,i)>-1:t.filtroSemestres.selecionados},on:{click:function(s){return s.stopPropagation(),t.selecionaSemestre(i)},change:function(s){var a=t.filtroSemestres.selecionados,e=s.target,o=!!e.checked;if(Array.isArray(a)){var r=i,n=t._i(a,r);e.checked?n<0&&t.$set(t.filtroSemestres,"selecionados",a.concat([r])):n>-1&&t.$set(t.filtroSemestres,"selecionados",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.filtroSemestres,"selecionados",o)}}})]),s("v-td",{attrs:{width:"425",align:"start"}},[t._v(t._s(i.nome)+" ")])],1)})},proxy:!0}])})],1)]),s("ModalVagas",{ref:"modalVagas",attrs:{turma:t.turmaClicked}}),s("ModalRelatorio",{ref:"modalRelatorio",on:{"selection-option":function(i){return t.pdf(i)}}}),s("ModalAjuda",{ref:"modalAjuda"},[s("li",{staticClass:"list-group-item"},[s("b",[t._v("Visualizar plano:")]),t._v(" Clique no ícone filtros\n      "),s("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),t._v(". Em\n      seguida, utilize as abas para navegar entre os filtros. Selecione as\n      informações que deseja visualizar e clique em OK.\n    ")],1),s("li",{staticClass:"list-group-item"},[s("b",[t._v("Relatório :")]),t._v("\n      Clique no ícone relatório\n      "),s("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","file-alt"]}}),t._v(". Em\n      seguida, indique se deseja gerar o relatório completo com todas as\n      disciplinas ou o relatório parcial com as disciplinas exibidas na tela.\n    ")],1),s("li",{staticClass:"list-group-item"},[s("b",[t._v("Visualizar vagas por turma:")]),t._v("\n      Clique no número de vagas desta turma, na última coluna da tabela, na linha\n      correspondente.\n    ")])])],1)},e=[],o=(s("4917"),s("759f"),s("d25f"),s("ac6a"),s("f3e2"),s("6d67"),s("cebc")),r=s("e814"),n=s.n(r),d=(s("7514"),s("0cd8"),s("75fc")),l=s("2f62"),c=s("7556"),u=s("eaf8"),f=s("9165"),p=s("25df"),h=s("d027"),v=s("bec4"),m={name:"PlanoDepartamental",mixins:[f["k"],f["f"],f["e"],f["j"],f["a"],f["b"]],components:{ModalRelatorio:h["f"],ModalFiltros:h["e"],ModalAjuda:h["a"],InputSearch:p["d"],ModalVagas:v["default"]},data:function(){var t=this;return{turmaClicked:null,searchDisciplinas:"",asideModalsRefs:["modalFiltros","modalAjuda","modalRelatorio"],ordenacaoMain:{disciplinas:{order:"codigo",type:"asc"}},ordenacaoModal:{perfis:{order:"nome",type:"asc"},disciplinas:{order:"codigo",type:"asc"}},filtroDisciplinas:{ativados:[],selecionados:[]},filtroPerfis:{selecionados:[]},filtroPeriodos:{ativados:[],selecionados:[]},filtroSemestres:{selecionados:[]},modalFiltrosTabs:{current:"Perfis",array:["Perfis","Disciplinas","Períodos","Semestres"]},modalFiltrosCallbacks:{selectAll:{Perfis:function(){t.filtroDisciplinas.selecionados=Object(d["a"])(t.DisciplinasOptions),t.filtroPerfis.selecionados=Object(d["a"])(t.PerfisOptions)},Disciplinas:function(){t.filtroDisciplinas.selecionados=Object(d["a"])(t.DisciplinasOptions),t.filtroPerfis.selecionados=Object(d["a"])(t.PerfisOptions)},Periodos:function(){t.filtroPeriodos.selecionados=Object(d["a"])(t.PeriodosOptions),t.filtroSemestres.selecionados=Object(d["a"])(t.SemestresOptions)},Semestres:function(){t.filtroSemestres.selecionados=Object(d["a"])(t.SemestresOptions),t.filtroPeriodos.selecionados=Object(d["a"])(t.PeriodosOptions)}},selectNone:{Perfis:function(){t.filtroPerfis.selecionados=[],t.filtroDisciplinas.selecionados=[]},Disciplinas:function(){t.filtroDisciplinas.selecionados=[],t.filtroPerfis.selecionados=[]},Periodos:function(){t.filtroPeriodos.selecionados=[],t.filtroSemestres.selecionados=[]},Semestres:function(){t.filtroSemestres.selecionados=[],t.filtroPeriodos.selecionados=[]}},btnOk:function(){t.filtroPeriodos.ativados=Object(d["a"])(t.$_.orderBy(t.filtroPeriodos.selecionados,"id")),t.filtroDisciplinas.ativados=Object(d["a"])(t.filtroDisciplinas.selecionados)}}}},beforeMount:function(){this.modalFiltrosCallbacks.selectAll.Periodos(),this.modalFiltrosCallbacks.selectAll.Perfis(),this.modalFiltrosCallbacks.selectAll.Disciplinas(),this.modalFiltrosCallbacks.btnOk()},methods:{handleClickInTurmaVaga:function(t){this.turmaClicked=t,this.$refs.modalVagas.open()},getVagasByTurmaId:function(t){var i=this.Pedidos[t];return this.$_.reduce(i,function(t,i){return t+i.vagasPeriodizadas+i.vagasNaoPeriodizadas},0)},pdf:function(t){var i=t?this.DisciplinasDCCInPerfis:this.DisciplinasInTurmasFiltered;c["a"].pdfRelatorioDisciplinas({disciplinasSelecionadas:i,plano:this.$_.find(this.AllPlanos,["id",n()(localStorage.getItem("Plano"))])})}},computed:Object(o["a"])({},Object(l["c"])(["TurmasInDisciplinasPerfis","DisciplinasDCCInPerfis","PerfisDCC","AllPlanos","Pedidos"]),{DisciplinasInTurmasOrdered:function(){return this.$_.orderBy(this.DisciplinasInTurmasSomatorios,["periodo",this.ordenacaoMain.disciplinas.order],["asc",this.ordenacaoMain.disciplinas.type])},DisciplinasInTurmasSomatorios:function(){var t=this;return this.$_.map(this.DisciplinasInTurmasFiltered,function(i){var s=[],a=0,e=0;return t.$_.forEach(i.turmas,function(r){if(r.Disciplina===i.id){var n=t.getVagasByTurmaId(r.id);e+=r.disciplina.creditoTotal,a+=n,s.push(Object(o["a"])({},r,{vagas:n}))}}),Object(o["a"])({},i,{turmas:s,somatorioCreditos:e,somatorioVagas:a})})},DisciplinasInTurmasFiltered:function(){var t=this,i=this.$_.filter(this.DisciplinasInTurmas,function(i){return t.$_.some(t.filtroDisciplinas.ativados,["id",i.id])}),s=[];return this.$_.forEach(i,function(i){var a=t.$_.filter(i.turmas,function(i){return t.$_.some(t.filtroPeriodos.ativados,["id",i.periodo])});a.length&&s.push(Object(o["a"])({},i,{turmas:a}))}),s},DisciplinasInTurmas:function(){var t=this,i=this.$_.orderBy(this.TurmasInDisciplinasPerfis,"periodo");return this.$_.map(this.DisciplinasDCCInPerfis,function(s){var a=t.$_.filter(i,["Disciplina",s.id]);return Object(o["a"])({},s,{turmas:a})})},somatoriosTotais:function(){var t=0,i=0;return this.$_.forEach(this.DisciplinasInTurmasSomatorios,function(s){t+=s.somatorioVagas,i+=s.somatorioCreditos}),{creditos:i,vagas:t}},PerfisOptionsOrdered:function(){return this.$_.orderBy(this.PerfisOptions,this.ordenacaoModal.perfis.order,this.ordenacaoModal.perfis.type)},PerfisOptions:function(){var t=this;return this.$_.map(this.PerfisDCC,function(i){var s=t.$_.filter(t.DisciplinasOptions,["Perfil",i.id]),a=t.$_.filter(t.filtroDisciplinas.selecionados,["Perfil",i.id]),e=!1;return s.length===a.length?e=!1:a.length>0&&(e=!0),Object(o["a"])({},i,{halfChecked:e})})},DisciplinasOptionsOrdered:function(){return this.$_.orderBy(this.DisciplinasOptionsFiltered,this.ordenacaoModal.disciplinas.order,this.ordenacaoModal.disciplinas.type)},DisciplinasOptionsFiltered:function(){if(""===this.searchDisciplinas)return this.DisciplinasOptions;var t=Object(u["c"])(this.searchDisciplinas);return this.$_.filter(this.DisciplinasOptions,function(i){var s=Object(u["c"])(i.nome),a=Object(u["c"])(i.codigo);return s.match(t)||a.match(t)})},DisciplinasOptions:function(){return this.DisciplinasDCCInPerfis},theadTitle:function(){var t=this.filtroPeriodos.ativados;if(!t.length)return{creditos:"",vagas:""};var i="";return this.$_.forEach(t,function(s,a){i+="".concat(s.id,"º"),a!==t.length-1&&(i+=", ")}),{creditos:"Somatório dos créditos no ".concat(i," período"),vagas:"Somatório das vagas no ".concat(i," período")}},algumPeriodoAtivado:function(){return 0!==this.filtroPeriodos.ativados.length}})},g=m,_=(s("a0e7"),s("2877")),P=Object(_["a"])(g,a,e,!1,null,"c0d2a146",null);i["default"]=P.exports},"278e":function(t,i,s){},6057:function(t,i,s){"use strict";var a=s("278e"),e=s.n(a);e.a},"767b":function(t,i,s){},a0e7:function(t,i,s){"use strict";var a=s("767b"),e=s.n(a);e.a},bec4:function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("BaseModal",{ref:"baseModalVagas",attrs:{type:"editVagas",classes:"modal-vagas"},scopedSlots:t._u([null!==t.turma?{key:"modal-body",fn:function(){return[s("div",{staticClass:"modal-vagas-header"},[s("h2",{staticClass:"title"},[t._v("\n        "+t._s(t.turma.disciplina.codigo+" - "+t.turma.disciplina.nome)+"\n      ")]),s("label",{staticClass:"m-0 mr-2",attrs:{for:"selectTurma"}},[t._v("Turma:")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.turmaLetraForm,expression:"turmaLetraForm"}],staticClass:"form-control select-letra",attrs:{id:"selectTurma"},on:{change:function(i){var s=Array.prototype.filter.call(i.target.options,function(t){return t.selected}).map(function(t){var i="_value"in t?t._value:t.value;return i});t.turmaLetraForm=i.target.multiple?s:s[0]}}},t._l(t.TurmasOptionsModalVagas,function(i){return s("option",{key:"mdVagas"+i.id+i.periodo,domProps:{value:i.letra}},[t._v(t._s(i.letra))])}),0)]),s("div",{staticClass:"div-table"},[s("BaseTable",{attrs:{type:"modal"},scopedSlots:t._u([{key:"thead",fn:function(){return[s("th",{staticClass:"clickable",staticStyle:{width:"55px"},attrs:{title:"Código"},on:{click:function(i){return t.toggleOrder(t.ordenacaoVagas,"curso.codigo")}}},[t._v("\n            Cód.\n            "),s("i",{class:t.setIconByOrder(t.ordenacaoVagas,"curso.codigo")})]),s("th",{staticClass:"clickable t-start",staticStyle:{width:"300px"},on:{click:function(i){return t.toggleOrder(t.ordenacaoVagas,"curso.nome")}}},[t._v("\n            Nome\n            "),s("i",{class:t.setIconByOrder(t.ordenacaoVagas,"curso.nome")})]),s("th",{staticClass:"clickable less-padding",staticStyle:{width:"55px"},attrs:{title:"Vagas periodizadas"},on:{click:function(i){return t.toggleOrder(t.ordenacaoVagas,"vagasPeriodizadas","desc")}}},[t._v("\n            Grade\n            "),s("i",{class:t.setIconByOrder(t.ordenacaoVagas,"vagasPeriodizadas")})]),s("th",{staticClass:"clickable less-padding",staticStyle:{width:"55px"},attrs:{title:"Vagas não periodizadas"},on:{click:function(i){return t.toggleOrder(t.ordenacaoVagas,"vagasNaoPeriodizadas","desc")}}},[t._v("\n            Extra\n            "),s("i",{class:t.setIconByOrder(t.ordenacaoVagas,"vagasNaoPeriodizadas")})]),s("th",{staticClass:"clickable less-padding",staticStyle:{width:"55px"},attrs:{title:"Total de vagas"},on:{click:function(i){return t.toggleOrder(t.ordenacaoVagas,"vagasTotais","desc")}}},[t._v("\n            Total\n            "),s("i",{class:t.setIconByOrder(t.ordenacaoVagas,"vagasTotais")})])]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.PedidosOrdered,function(i){return s("tr",{key:"trPedido"+i.Curso+i.Turma},[s("td",{staticStyle:{width:"55px"}},[t._v(t._s(i.curso.codigo))]),s("td",{staticClass:"t-start",staticStyle:{width:"300px"}},[t._v("\n              "+t._s(i.curso.nome)+"\n            ")]),s("td",{staticStyle:{width:"55px"}},[t._v(t._s(i.vagasPeriodizadas))]),s("td",{staticStyle:{width:"55px"}},[t._v(t._s(i.vagasNaoPeriodizadas))]),s("td",{staticStyle:{width:"55px"}},[t._v("\n              "+t._s(i.vagasTotais)+"\n            ")])])}),s("tr",{directives:[{name:"show",rawName:"v-show",value:!t.PedidosOrdered.length,expression:"!PedidosOrdered.length"}]},[s("td",{staticStyle:{width:"520px"},attrs:{colspan:"5"}},[s("b",[t._v("Turma atual não possui nenhuma vaga cadastrada.")])])])]},proxy:!0}],null,!1,3993074124)})],1)]},proxy:!0}:null],null,!0)})},e=[],o=(s("6d67"),s("d25f"),s("7514"),s("cebc")),r=s("2f62"),n=s("9165"),d={name:"ModalVagas",mixins:[n["k"],n["l"]],props:{turma:{type:null|Object,required:!0}},data:function(){return{turmaLetraForm:null,ordenacaoVagas:{order:"vagasTotais",type:"desc"}}},methods:{open:function(){this.$refs.baseModalVagas.open()},close:function(){this.$refs.baseModalVagas.close()}},computed:Object(o["a"])({},Object(r["c"])(["TurmasInDisciplinasPerfis","AllCursos"]),{PedidosOrdered:function(){return this.$_.orderBy(this.PedidosFiltredByTurma,this.ordenacaoVagas.order,this.ordenacaoVagas.type)},PedidosFiltredByTurma:function(){var t=this;if(null===this.turmaLetraForm)return[];var i=this.$_.find(this.TurmasOptionsModalVagas,["letra",this.turmaLetraForm]),s=this.$_.filter(this.Pedidos[i.id],function(t){return t.vagasPeriodizadas>0||t.vagasNaoPeriodizadas>0});return this.$_.map(s,function(i){var s=t.$_.find(t.AllCursos,["id",i.Curso]);return Object(o["a"])({},i,{vagasTotais:i.vagasPeriodizadas+i.vagasNaoPeriodizadas,curso:s})})},TurmasOptionsModalVagas:function(){var t=this;if(null===this.turma)return[];var i=this.$_.filter(this.TurmasInDisciplinasPerfis,function(i){return i.Disciplina===t.turma.Disciplina&&i.periodo===t.turma.periodo});return this.$_.orderBy(i,["periodo"])},Pedidos:function(){return this.$store.state.pedido.Pedidos}}),watch:{turma:function(t){this.turmaLetraForm=t.letra}}},l=d,c=(s("6057"),s("2877")),u=Object(c["a"])(l,a,e,!1,null,"5e81087a",null);i["default"]=u.exports}}]);
//# sourceMappingURL=chunk-4b40cb79.33d52d9c.js.map