(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f3a24ef"],{"0bbd":function(e,i,o){"use strict";o.r(i);var t=function(){var e=this,i=e.$createElement,o=e._self._c||i;return o("div",{staticClass:"main-component row"},[o("PageHeader",{attrs:{title:"Logs"}},[o("BaseButton",{attrs:{template:"filtros"},on:{click:function(i){return e.toggleAsideModal("filtros")}}}),o("BaseButton",{attrs:{template:"ajuda"},on:{click:function(i){return e.toggleAsideModal("ajuda")}}})],1),o("div",{staticClass:"div-table"},[o("BaseTable",{scopedSlots:e._u([{key:"thead",fn:function(){return[o("v-th",{attrs:{width:"110"}},[e._v("Tabela Modificada")]),o("v-th",{attrs:{width:"120"}},[e._v("Campo Modificado")]),o("v-th",{attrs:{width:"200"}},[e._v("Linha Modificada")]),o("v-th",{attrs:{width:"120"}},[e._v("Valor Anterior")]),o("v-th",{attrs:{width:"120"}},[e._v("Novo Valor")]),o("v-th",{attrs:{width:"65"}},[e._v("Operação")]),o("v-th",{attrs:{width:"80"}},[e._v("Usuário")]),o("v-th",{attrs:{width:"160"}},[e._v("Data")])]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.HistoryOrdered,function(i){return o("tr",{key:i.id},[o("v-td",{attrs:{width:"110"}},[e._v(e._s(i.tabelaModificada))]),o("v-td",{attrs:{width:"120",paddingX:"0"}},[e._v("\n            "+e._s(i.campoModificado)+"\n          ")]),o("v-td",{attrs:{width:"200",paddingX:"0"}},[e._v("\n            "+e._s(e.linhaModificada(i))+"\n          ")]),o("v-td",{attrs:{width:"120",paddingX:"0"}},[e._v("\n            "+e._s(e.valorAnterior(i))+"\n          ")]),o("v-td",{attrs:{width:"120",paddingX:"0"}},[e._v("\n            "+e._s(e.valorNovo(i))+"\n          ")]),o("v-td",{attrs:{width:"65",paddingX:"0"}},[e._v("\n            "+e._s(i.tipoOperacao)+"\n          ")]),o("v-td",{attrs:{width:"80",paddingX:"0"}},[e._v("\n            "+e._s(i.usuario)+"\n          ")]),o("v-td",{attrs:{width:"160",paddingX:"0"}},[e._v("\n            "+e._s(e._f("convertDateUTC")(i.createdAt))+"\n          ")])],1)}),o("tr",{directives:[{name:"show",rawName:"v-show",value:!e.HistoryOrdered.length,expression:"!HistoryOrdered.length"}]},[o("v-td",{attrs:{width:"975",colspan:"8"}},[o("b",[e._v("Nenhuma operação encontrada.")]),e._v("\n            Clique no botão de filtros\n            "),o("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),e._v("\n            para selecioná-las.\n          ")],1)],1)]},proxy:!0}])})],1),o("ModalFiltros",{ref:"modalFiltros",attrs:{callbacks:e.modalFiltrosCallbacks,tabsOptions:e.modalFiltrosTabs}},[o("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Tabelas"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Tabelas'"}],attrs:{type:"modal"},scopedSlots:e._u([{key:"thead",fn:function(){return[o("v-th",{attrs:{width:"25"}}),o("v-th",{attrs:{width:"425",align:"start"}},[e._v("Nome")])]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.TabelasOptions,function(i){return o("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:i.id+i.nome,on:{click:function(o){return e.toggleItemInArray(i,e.filtroTabelas.selecionados)}}},[o("v-td",{attrs:{width:"25",type:"content"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroTabelas.selecionados,expression:"filtroTabelas.selecionados"}],attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.filtroTabelas.selecionados)?e._i(e.filtroTabelas.selecionados,i)>-1:e.filtroTabelas.selecionados},on:{change:function(o){var t=e.filtroTabelas.selecionados,a=o.target,s=!!a.checked;if(Array.isArray(t)){var r=i,n=e._i(t,r);a.checked?n<0&&e.$set(e.filtroTabelas,"selecionados",t.concat([r])):n>-1&&e.$set(e.filtroTabelas,"selecionados",t.slice(0,n).concat(t.slice(n+1)))}else e.$set(e.filtroTabelas,"selecionados",s)}}})]),o("v-td",{attrs:{width:"425",align:"start"}},[e._v(e._s(i.nome))])],1)})},proxy:!0}])}),o("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Operações"===e.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Operações'"}],attrs:{type:"modal"},scopedSlots:e._u([{key:"thead",fn:function(){return[o("v-th",{attrs:{width:"25"}}),o("v-th",{attrs:{width:"425",align:"start"}},[e._v("Tipo")])]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.OperacoesOptions,function(i){return o("tr",{directives:[{name:"prevent-click-selection",rawName:"v-prevent-click-selection"}],key:i.id+i.nome,on:{click:function(o){return e.toggleItemInArray(i,e.filtroOperacoes.selecionados)}}},[o("v-td",{attrs:{width:"25",type:"content"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.filtroOperacoes.selecionados,expression:"filtroOperacoes.selecionados"}],attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.filtroOperacoes.selecionados)?e._i(e.filtroOperacoes.selecionados,i)>-1:e.filtroOperacoes.selecionados},on:{change:function(o){var t=e.filtroOperacoes.selecionados,a=o.target,s=!!a.checked;if(Array.isArray(t)){var r=i,n=e._i(t,r);a.checked?n<0&&e.$set(e.filtroOperacoes,"selecionados",t.concat([r])):n>-1&&e.$set(e.filtroOperacoes,"selecionados",t.slice(0,n).concat(t.slice(n+1)))}else e.$set(e.filtroOperacoes,"selecionados",s)}}})]),o("v-td",{attrs:{width:"425",align:"start"}},[e._v(e._s(i.nome))])],1)})},proxy:!0}])})],1),o("ModalAjuda",{ref:"modalAjuda"},[o("li",{staticClass:"list-group-item"},[o("b",[e._v("Visualizar conteúdo:")]),e._v("\n      Clique no ícone de filtros\n      "),o("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),e._v("\n      no cabeçalho da página e, na janela que se abrirá, utilize as abas para navegar\n      entre os tipos de filtro disponíveis. Marque quais informações deseja visualizar,\n      e para finalizar clique no botão OK.\n    ")],1)])],1)},a=[],s=(o("759f"),o("d25f"),o("cebc")),r=o("e814"),n=o.n(r),c=(o("7514"),o("28a5"),o("75fc")),d=o("9165"),l=o("d027"),v=o("2f62"),u={name:"DashboardHistory",mixins:[d["m"],d["l"],d["c"],d["k"]],components:{ModalFiltros:l["e"],ModalAjuda:l["a"]},data:function(){var e=this;return{asideModalsRefs:["modalFiltros","modalAjuda"],filtroOperacoes:{ativados:[],selecionados:[]},filtroTabelas:{ativados:[],selecionados:[]},modalFiltrosTabs:{current:"Tabelas",array:["Tabelas","Operações"]},modalFiltrosCallbacks:{selectNone:{Tabelas:function(){e.filtroTabelas.selecionados=[]},Operacoes:function(){e.filtroOperacoes.selecionados=[]}},selectAll:{Tabelas:function(){e.filtroTabelas.selecionados=Object(c["a"])(e.TabelasOptions)},Operacoes:function(){e.filtroOperacoes.selecionados=Object(c["a"])(e.OperacoesOptions)}},btnOk:function(){e.filtroTabelas.ativados=Object(c["a"])(e.filtroTabelas.selecionados),e.filtroOperacoes.ativados=Object(c["a"])(e.filtroOperacoes.selecionados)}}}},beforeMount:function(){this.modalFiltrosCallbacks.selectAll.Operacoes()},methods:{linhaModificada:function(e){var i=e.linhaModificada,o=void 0;switch(e.tabelaModificada){case"CargaPos":if("Delete"===e.tipoOperacao){o=i.split("/");var t=this.$_.find(this.$store.state.docente.Docentes,{id:n()(o[2])});i=void 0===t?"".concat(o[0],"/").concat(o[1],"/").concat(o[2]):"".concat(o[0],"/").concat(o[1],"/").concat(t.apelido)}break;case"DisciplinaGrade":o=i.split("/");var a=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(o[1])}),s=this.$_.find(this.$store.state.grade.Grades,{id:n()(o[2])}),r=void 0===s?void 0:this.$_.find(this.$store.state.curso.Cursos,{id:s.Curso});i="".concat(void 0===s?o[2]:(void 0===r?"Curso Excluído":r.codigo)+" - "+s.nome,"/").concat(void 0===a?o[1]:a.codigo,"/").concat(o[0]);break;case"DocentePerfil":o=i.split("/");var c=this.$_.find(this.$store.state.docente.Docentes,{id:n()(o[1])}),d=this.$_.find(this.$store.state.perfil.Perfis,{id:n()(o[0])});i="".concat(void 0===c?o[1]:c.nome,"/").concat(void 0===d?o[0]:d.nome);break;case"Grade":o=i.split("/");var l=this.$_.find(this.$store.state.curso.Cursos,{id:n()(o[0])});i="".concat(void 0===l?o[0]:l.codigo," - ").concat(o[1]);break;case"Pedido":o=i.split("/");var v=this.$_.find(this.$store.state.turma.Turmas,{id:n()(o[0])}),u=void 0===v?void 0:this.$_.find(this.$store.state.disciplina.Disciplinas,{id:v.Disciplina}),f=this.$_.find(this.$store.state.curso.Cursos,{id:n()(o[1])});i="".concat(void 0===v?o[0]:null===v.Disciplina?"Turma Excluída":u.codigo+" "+v.letra,"/").concat(void 0===f?o[1]:f.codigo);break;case"PedidoExterno":o=i.split("/");var h=this.$_.find(this.$store.state.turmaExterna.Turmas,{id:n()(o[0])}),p=void 0===h?void 0:this.$_.find(this.$store.state.disciplina.Disciplinas,{id:h.Disciplina}),b=this.$_.find(this.$store.state.curso.Cursos,{id:n()(o[1])});i="".concat(void 0===h?o[0]:p.codigo+" "+h.letra,"/").concat(void 0===b?o[1]:b.codigo);break;case"Turma":o=i.split("/");var m=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(o[1])});i="".concat(void 0===m?o[1]:m.codigo,"/").concat(o[0]);break;case"TurmaExterna":o=i.split("/");var _=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(o[1])});i="".concat(void 0===_?o[1]:_.codigo,"/").concat(o[0]);break}return i},valorAnterior:function(e){var i=e.valorAnterior;switch(e.campoModificado){case"Curso":i=this.$_.find(this.$store.state.curso.Cursos,{id:n()(e.valorAnterior)}),i=void 0===i?e.valorAnterior:i.codigo;break;case"Disciplina":i=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(e.valorAnterior)}),i=void 0===i?e.valorAnterior:i.codigo;break;case"Docente":case"Docente1":case"Docente2":i=this.$_.find(this.$store.state.docente.Docentes,{id:n()(e.valorAnterior)}),i=void 0===i?e.valorAnterior:i.apelido;break;case"Grade":if(i=this.$_.find(this.$store.state.grade.Grades,{id:n()(e.valorAnterior)}),void 0===i)i=e.valorAnterior;else{var o=this.$_.find(this.$store.state.curso.Cursos,{id:n()(i.Curso)});i="".concat(void 0===o?i.Curso:o.codigo,"/").concat(i.nome)}break;case"Horario":case"Horario1":case"Horario2":i=this.$_.find(this.$store.state.horario.Horarios,{id:n()(e.valorAnterior)}),i=void 0===i?e.valorAnterior:i.horario;break;case"Perfil":i=this.$_.find(this.$store.state.perfil.Perfis,{id:n()(e.valorAnterior)}),i=void 0===i?e.valorAnterior:i.nome;break;case"Sala":case"Sala1":case"Sala2":i=this.$_.find(this.$store.state.sala.Salas,{id:n()(e.valorAnterior)}),i=void 0===i?e.valorAnterior:i.nome;break}return i},valorNovo:function(e){var i=e.valorNovo;switch(e.campoModificado){case"Curso":i=this.$_.find(this.$store.state.curso.Cursos,{id:n()(e.valorNovo)}),i=void 0===i?e.valorNovo:i.codigo;break;case"Disciplina":i=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(e.valorNovo)}),i=void 0===i?e.valorNovo:i.codigo;break;case"Docente":case"Docente1":case"Docente2":i=this.$_.find(this.$store.state.docente.Docentes,{id:n()(e.valorNovo)}),i=void 0===i?e.valorNovo:i.apelido;break;case"Grade":if(i=this.$_.find(this.$store.state.grade.Grades,{id:n()(e.valorNovo)}),void 0===i)i=e.valorNovo;else{var o=this.$_.find(this.$store.state.curso.Cursos,{id:n()(i.Curso)});i="".concat(void 0===o?i.Curso:o.codigo,"/").concat(i.nome)}break;case"Horario":case"Horario1":case"Horario2":i=this.$_.find(this.$store.state.horario.Horarios,{id:n()(e.valorNovo)}),i=void 0===i?e.valorNovo:i.horario;break;case"Perfil":i=this.$_.find(this.$store.state.perfil.Perfis,{id:n()(e.valorNovo)}),i=void 0===i?e.valorNovo:i.nome;break;case"Sala":case"Sala1":case"Sala2":i=this.$_.find(this.$store.state.sala.Salas,{id:n()(e.valorNovo)}),i=void 0===i?e.valorNovo:i.nome;break}return i}},computed:Object(s["a"])({},Object(v["c"])(["onLoading","History"]),{HistoryOrdered:function(){return this.$_.orderBy(this.HistoryFilteredByOperacao,"id","desc")},HistoryFilteredByOperacao:function(){var e=this;return this.$_.filter(this.HistoryFilteredByTabelas,function(i){return e.$_.some(e.filtroOperacoes.ativados,["id",i.tipoOperacao])})},HistoryFilteredByTabelas:function(){var e=this;return this.$_.filter(this.History,function(i){return e.$_.some(e.filtroTabelas.ativados,["id",i.tabelaModificada])})},OperacoesOptions:function(){return[{nome:"Criação",id:"Create"},{nome:"Exclusão",id:"Delete"},{nome:"Edição",id:"Edit"}]},TabelasOptions:function(){return[{nome:"CARGA PÓS",id:"CargaPos"},{nome:"CURSO",id:"Curso"},{nome:"DISCIPLINA",id:"Disciplina"},{nome:"DISCIPLINA GRADE",id:"DisciplinaGrade"},{nome:"DOCENTE",id:"Docente"},{nome:"DOCENTE PERFIL",id:"DocentePerfil"},{nome:"GRADE",id:"Grade"},{nome:"PEDIDO",id:"Pedido"},{nome:"PEDIDO EXTERNO",id:"PedidoExterno"},{nome:"PERFIL",id:"Perfil"},{nome:"PLANO",id:"Plano"},{nome:"SALA",id:"Sala"},{nome:"TURMA",id:"Turma"},{nome:"TURMA EXTERNA",id:"TurmaExterna"}]}})},f=u,h=o("2877"),p=Object(h["a"])(f,t,a,!1,null,null,null);i["default"]=p.exports},"28a5":function(e,i,o){"use strict";var t=o("aae3"),a=o("cb7c"),s=o("ebd6"),r=o("0390"),n=o("9def"),c=o("5f1b"),d=o("520a"),l=o("79e5"),v=Math.min,u=[].push,f="split",h="length",p="lastIndex",b=4294967295,m=!l(function(){RegExp(b,"y")});o("214f")("split",2,function(e,i,o,l){var _;return _="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[h]||2!="ab"[f](/(?:ab)*/)[h]||4!="."[f](/(.?)(.?)/)[h]||"."[f](/()()/)[h]>1||""[f](/.?/)[h]?function(e,i){var a=String(this);if(void 0===e&&0===i)return[];if(!t(e))return o.call(a,e,i);var s,r,n,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,f=void 0===i?b:i>>>0,m=new RegExp(e.source,l+"g");while(s=d.call(m,a)){if(r=m[p],r>v&&(c.push(a.slice(v,s.index)),s[h]>1&&s.index<a[h]&&u.apply(c,s.slice(1)),n=s[0][h],v=r,c[h]>=f))break;m[p]===s.index&&m[p]++}return v===a[h]?!n&&m.test("")||c.push(""):c.push(a.slice(v)),c[h]>f?c.slice(0,f):c}:"0"[f](void 0,0)[h]?function(e,i){return void 0===e&&0===i?[]:o.call(this,e,i)}:o,[function(o,t){var a=e(this),s=void 0==o?void 0:o[i];return void 0!==s?s.call(o,a,t):_.call(String(a),o,t)},function(e,i){var t=l(_,e,this,i,_!==o);if(t.done)return t.value;var d=a(e),u=String(this),f=s(d,RegExp),h=d.unicode,p=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),$=new f(m?d:"^(?:"+d.source+")",p),g=void 0===i?b:i>>>0;if(0===g)return[];if(0===u.length)return null===c($,u)?[u]:[];var k=0,y=0,O=[];while(y<u.length){$.lastIndex=m?y:0;var w,T=c($,m?u:u.slice(y));if(null===T||(w=v(n($.lastIndex+(m?0:y)),u.length))===k)y=r(u,y,h);else{if(O.push(u.slice(k,y)),O.length===g)return O;for(var A=1;A<=T.length-1;A++)if(O.push(T[A]),O.length===g)return O;y=k=w}}return O.push(u.slice(k)),O}]})}}]);
//# sourceMappingURL=chunk-1f3a24ef.7c858baa.js.map