(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28b4a00e","chunk-5eac8872"],{6847:function(t,r,o){},"6f49":function(t,r,o){"use strict";var e=o("b0c7"),a=o.n(e);a.a},ab6d:function(t,r,o){"use strict";o.r(r);var e=function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("div",{staticClass:"main-component row p-0"},[o("PageHeader",{attrs:{title:"Turmas - Cursos"}},[o("BaseButton",{attrs:{template:"filtros"},on:{click:function(r){return t.toggleAsideModal("filtros")}}}),o("BaseButton",{attrs:{template:"relatorio"},on:{click:function(r){return t.toggleAsideModal("relatorio")}}}),o("BaseButton",{attrs:{template:"download"},on:{click:function(r){return t.toggleAsideModal("DownloadTurmasCursos")}}})],1),o("div",{staticClass:"div-table"},[o("BaseTable",{scopedSlots:t._u([{key:"thead",fn:function(){return[o("v-th",{attrs:{width:"80",title:"Código do Curso"}},[t._v("Cód. Curso")]),o("v-th",{attrs:{width:"300",title:"Nome do Curso"}},[t._v("Nome do Curso")]),o("v-th",{attrs:{width:"40",title:"Período"}},[t._v("P.")]),o("v-th",{attrs:{width:"80",title:"Código da Disciplina"}},[t._v("Disciplina")]),o("v-th",{attrs:{width:"40",title:"Turma"}},[t._v("T.")]),o("v-th",{attrs:{width:"120",title:"Horário"}},[t._v("Horário")]),o("v-th",{attrs:{width:"80",title:"Vagas da Grade"}},[t._v("Grade")]),o("v-th",{attrs:{width:"80",title:"Vagas Não Grade"}},[t._v("Extra")])]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.filtroCursos.ativados,(function(r){return[o("tr",{key:"Curso"+r.id,staticStyle:{"background-color":"#f1f1f1"}},[o("v-td",{attrs:{width:"80"}},[t._v(t._s(r.codigo))]),o("v-td",{attrs:{width:"300"}},[t._v(t._s(r.nome))]),o("v-td",{attrs:{width:"40"}}),o("v-td",{attrs:{width:"80"}}),o("v-td",{attrs:{width:"40"}}),o("v-td",{attrs:{width:"120"}}),o("v-td",{attrs:{width:"80"}}),o("v-td",{attrs:{width:"80"}})],1),t._l(t.turmas(r.id),(function(e){return o("tr",{key:"Curso"+r.id+"Turma"+e.turma.id},[o("v-td",{attrs:{width:"80"}}),o("v-td",{attrs:{width:"300"}}),o("v-td",{attrs:{width:"40"}},[t._v(t._s(e.turma.periodo))]),o("v-td",{attrs:{width:"80"}},[t._v(t._s(e.turma.disciplina.codigo))]),o("v-td",{attrs:{width:"40"}},[t._v(t._s(e.turma.letra))]),o("v-td",{attrs:{width:"120"}},[t._v(t._s(t.horarioTotal(e.turma)))]),o("v-td",{attrs:{width:"80"}},[t._v(t._s(e.pedido.vagasPeriodizadas))]),o("v-td",{attrs:{width:"80"}},[t._v(t._s(e.pedido.vagasNaoPeriodizadas))])],1)}))]}))]},proxy:!0}])})],1),o("ModalRelatorio",{ref:"modalRelatorio",on:{"selection-option":function(r){return t.pdf(r)}}}),o("ModalDownloadTurmasCursos",{ref:"modalDownloadTurmasCursos",on:{"selection-option":function(r){return t.downloadTurmasCursos(r)}}}),o("ModalFiltros",{ref:"modalFiltros",attrs:{callbacks:t.modalFiltrosCallbacks,tabsOptions:t.modalFiltrosTabs}},[o("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Cursos"===t.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Cursos'"}],attrs:{type:"modal",hasSearchBar:!0},scopedSlots:t._u([{key:"thead-search",fn:function(){return[o("InputSearch",{attrs:{placeholder:"Pesquise nome ou codigo de um curso..."},model:{value:t.searchCursos,callback:function(r){t.searchCursos=r},expression:"searchCursos"}})]},proxy:!0},{key:"thead",fn:function(){return[o("v-th",{attrs:{width:"25"}}),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoModal.cursos,orderToCheck:"codigo",width:"70",align:"start"}},[t._v("\n          Código\n        ")]),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoModal.cursos,orderToCheck:"nome",width:"270",align:"start"}},[t._v("\n          Nome\n        ")]),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoModal.cursos,orderToCheck:"turno",width:"85",align:"start"}},[t._v("\n          Turno\n        ")])]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.CursosFiltrados,(function(r){return o("tr",{key:r.id+r.nome},[o("v-td",{attrs:{width:"25",type:"content"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtroCursos.selecionados,expression:"filtroCursos.selecionados"}],attrs:{type:"checkbox"},domProps:{value:r,checked:Array.isArray(t.filtroCursos.selecionados)?t._i(t.filtroCursos.selecionados,r)>-1:t.filtroCursos.selecionados},on:{change:function(o){var e=t.filtroCursos.selecionados,a=o.target,s=!!a.checked;if(Array.isArray(e)){var i=r,n=t._i(e,i);a.checked?n<0&&t.$set(t.filtroCursos,"selecionados",e.concat([i])):n>-1&&t.$set(t.filtroCursos,"selecionados",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.filtroCursos,"selecionados",s)}}})]),o("v-td",{attrs:{width:"70",align:"start"}},[t._v(t._s(r.codigo))]),o("v-td",{attrs:{align:"start",width:"270",title:r.nome}},[t._v("\n            "+t._s(r.nome)+"\n          ")]),o("v-td",{attrs:{width:"85",align:"start"}},[t._v(t._s(r.turno))])],1)})),t.AllCursos.length?t._e():o("tr",[o("v-td",{attrs:{colspan:"3",width:"450"}},[t._v("\n            NENHUM CURSO ENCONTRADO\n          ")])],1)]},proxy:!0}])}),o("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Períodos"===t.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Períodos'"}],attrs:{type:"modal"},scopedSlots:t._u([{key:"thead",fn:function(){return[o("v-th",{attrs:{width:"25"}}),o("v-th",{attrs:{width:"425",align:"start"}},[t._v("Período Letivo")])]},proxy:!0},{key:"tbody",fn:function(){return[o("tr",[o("v-td",{attrs:{width:"25",type:"content"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtroPeriodos.selecionados,expression:"filtroPeriodos.selecionados"}],attrs:{type:"checkbox"},domProps:{value:1,checked:Array.isArray(t.filtroPeriodos.selecionados)?t._i(t.filtroPeriodos.selecionados,1)>-1:t.filtroPeriodos.selecionados},on:{change:function(r){var o=t.filtroPeriodos.selecionados,e=r.target,a=!!e.checked;if(Array.isArray(o)){var s=1,i=t._i(o,s);e.checked?i<0&&t.$set(t.filtroPeriodos,"selecionados",o.concat([s])):i>-1&&t.$set(t.filtroPeriodos,"selecionados",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(t.filtroPeriodos,"selecionados",a)}}})]),o("v-td",{attrs:{width:"425",align:"start"}},[t._v("PRIMEIRO")])],1),o("tr",[o("v-td",{attrs:{width:"25",type:"content"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtroPeriodos.selecionados,expression:"filtroPeriodos.selecionados"}],attrs:{type:"checkbox"},domProps:{value:3,checked:Array.isArray(t.filtroPeriodos.selecionados)?t._i(t.filtroPeriodos.selecionados,3)>-1:t.filtroPeriodos.selecionados},on:{change:function(r){var o=t.filtroPeriodos.selecionados,e=r.target,a=!!e.checked;if(Array.isArray(o)){var s=3,i=t._i(o,s);e.checked?i<0&&t.$set(t.filtroPeriodos,"selecionados",o.concat([s])):i>-1&&t.$set(t.filtroPeriodos,"selecionados",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(t.filtroPeriodos,"selecionados",a)}}})]),o("v-td",{attrs:{width:"425",align:"start"}},[t._v("TERCEIRO")])],1)]},proxy:!0}])})],1),o("ModalAjuda",{ref:"modalAjuda"},[o("li",{staticClass:"list-group-item"},[o("b",[t._v("Visualizar plano:")]),t._v("\n      Clique no ícone filtros\n      "),o("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),t._v("\n      . Em seguida, utilize as abas para navegar entre os filtros. Selecione as\n      informações que deseja visualizar e clique em OK.\n    ")],1),o("li",{staticClass:"list-group-item"},[o("b",[t._v("Relatório :")]),t._v("\n      Clique no ícone relatório\n      "),o("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","file-alt"]}}),t._v("\n      . Em seguida, indique se deseja gerar o relatório completo com todas as\n      disciplinas ou o relatório parcial com as disciplinas exibidas na tela.\n    ")],1),o("li",{staticClass:"list-group-item"},[o("b",[t._v("Visualizar vagas por turma:")]),t._v("\n      Clique no número de vagas desta turma, na última coluna da tabela, na linha\n      correspondente.\n    ")])])],1)},a=[],s=(o("1c01"),o("58b2"),o("8e6e"),o("456d"),o("4917"),o("ade3")),i=(o("96cf"),o("1da1")),n=(o("d25f"),o("7514"),o("ac6a"),o("f3e2"),o("2909")),d=o("2f62"),l=o("7556"),c=o("eaf8"),u=o("9165"),f=o("25df"),v=o("d027"),h=o("bec4"),m=o("2ef0"),p=o.n(m),g=o("027e"),C=o("21a6");function _(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,e)}return o}function w(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?_(Object(o),!0).forEach((function(r){Object(s["a"])(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}var y={name:"TurmasCursos",mixins:[u["n"],u["g"],u["f"],u["m"],u["a"],u["b"],u["l"]],components:{ModalRelatorio:v["g"],ModalFiltros:v["f"],ModalAjuda:v["a"],InputSearch:f["d"],ModalVagas:h["default"],ModalDownloadTurmasCursos:v["d"]},data:function(){var t=this;return{turmaClicked:null,searchCursos:"",asideModalsRefs:["modalAjuda","modalRelatorio","modalFiltros","modalDownloadTurmasCursos"],ordenacaoMain:{disciplinas:{order:"codigo",type:"asc"}},ordenacaoModal:{cursos:{order:"codigo",type:"asc"}},filtroCursos:{selecionados:[],ativados:[]},filtroPeriodos:{selecionados:[],ativados:[]},modalFiltrosTabs:{current:"Cursos",array:["Cursos","Períodos"]},modalFiltrosCallbacks:{selectAll:{Cursos:function(){t.filtroCursos.selecionados=Object(n["a"])(t.CursosFiltrados)},Periodos:function(){t.filtroPeriodos.selecionados=[1,3]}},selectNone:{Cursos:function(){t.filtroCursos.selecionados=[]},Periodos:function(){t.filtroPeriodos.selecionados=[]}},btnOk:function(){t.filtroCursos.ativados=Object(n["a"])(t.filtroCursos.selecionados),t.filtroPeriodos.ativados=Object(n["a"])(t.filtroPeriodos.selecionados)}}}},mounted:function(){this.turmas(1)},methods:{turmas:function(t){var r=this,o=[];return this.TurmasInDisciplinasPerfis.forEach((function(e){var a=r.Pedidos[e.id],s=p.a.find(a,["Curso",t]);(s.vagasPeriodizadas>0||s.vagasNaoPeriodizadas>0)&&o.push({turma:e,pedido:s})})),this.$_.orderBy(this.$_.orderBy(this.$_.orderBy(this.$_.filter(o,(function(t){var o=!1;return r.filtroPeriodos.ativados.forEach((function(r){r==t.turma.periodo&&(o=!0)})),o})),(function(t){return t.turma.letra})),(function(t){return t.turma.disciplina.codigo})),(function(t){return t.turma.periodo}))},horarioTotal:function(t){var r=p.a.find(this.$store.state.horario.Horarios,{id:t.Horario1}),o=p.a.find(this.$store.state.horario.Horarios,{id:t.Horario2}),e=void 0;return e=void 0===r&&void 0===o?"":void 0===o?r.horario:void 0===r?o.horario:r.horario+"/"+o.horario,e},pdf:function(t){t?l["a"].pdfTurmasCursos({Cursos:this.AllCursos,periodos:this.filtroPeriodos.ativados}):l["a"].pdfTurmasCursos({Cursos:this.filtroCursos.ativados,periodos:this.filtroPeriodos.ativados})},downloadTurmasCursos:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g["a"].generatePdfTurmasCurso({Plano:localStorage.getItem("Plano"),periodo:r}).then((function(){return g["a"].createZipTurmasCursos().then((function(){return fetch("http://200.131.219.57:3000/api/download/downloadTurmasCursosZip",{method:"GET",headers:{Authorization:"Bearer ".concat(o.$store.state.auth.token)}}).then((function(t){return t.blob()})).then((function(t){Object(C["saveAs"])(t,"TurmasCursos.zip")}))}))}));case 2:case"end":return t.stop()}}),t)})));function r(r){return t.apply(this,arguments)}return r}()},computed:w(w({},Object(d["c"])(["TurmasInDisciplinasPerfis","DisciplinasDCCInPerfis","PerfisDCC","AllPlanos","Pedidos","AllCursos"])),{},{CursosOrdered:function(){return this.$_.orderBy(this.AllCursos,"codigo")},CursosFiltrados:function(){if(""===this.searchCursos)return this.AllCursos;var t=Object(c["c"])(this.searchCursos);return this.$_.filter(this.AllCursos,(function(r){var o=Object(c["c"])(r.nome),e=Object(c["c"])(r.codigo);return o.match(t)||e.match(t)}))}})},b=y,P=(o("6f49"),o("2877")),O=Object(P["a"])(b,e,a,!1,null,"c778eee2",null);r["default"]=O.exports},b0c7:function(t,r,o){},bec4:function(t,r,o){"use strict";o.r(r);var e=function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("BaseModal",{ref:"baseModalVagas",attrs:{type:"editVagas",classes:"modal-vagas"},scopedSlots:t._u([null!==t.turma?{key:"modal-body",fn:function(){return[o("div",{staticClass:"modal-vagas-header"},[o("h2",{staticClass:"title"},[t._v("\n        "+t._s(t.turma.disciplina.codigo+" - "+t.turma.disciplina.nome)+"\n      ")]),o("label",{staticClass:"m-0 mr-2",attrs:{for:"selectTurma"}},[t._v("Turma:")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.turmaLetraForm,expression:"turmaLetraForm"}],staticClass:"form-control select-letra",attrs:{id:"selectTurma"},on:{change:function(r){var o=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){var r="_value"in t?t._value:t.value;return r}));t.turmaLetraForm=r.target.multiple?o:o[0]}}},t._l(t.TurmasOptionsModalVagas,(function(r){return o("option",{key:r.id+r.letra,domProps:{value:r.letra}},[t._v("\n          "+t._s(r.letra)+"\n        ")])})),0)]),o("div",{staticClass:"div-table"},[o("BaseTable",{attrs:{styles:"height:auto"},scopedSlots:t._u([{key:"thead",fn:function(){return[o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoVagas,orderToCheck:"curso.codigo",width:"65",align:"start"}},[t._v("\n            Código\n          ")]),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoVagas,orderToCheck:"curso.nome",width:"300",align:"start"}},[t._v("\n            Nome\n          ")]),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoVagas,orderToCheck:"vagasPeriodizadas",orderType:"desc",width:"55",title:"Vagas periodizadas"}},[t._v("\n            Grade\n          ")]),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoVagas,orderToCheck:"vagasNaoPeriodizadas",orderType:"desc",width:"55",title:"Vagas não periodizadas"}},[t._v("\n            Extra\n          ")]),o("v-th-ordination",{attrs:{currentOrder:t.ordenacaoVagas,orderToCheck:"vagasTotais",orderType:"desc",width:"55",title:"Total de vagas"}},[t._v("\n            Total\n          ")])]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.PedidosOrdered,(function(r){return o("tr",{key:r.Turma+r.curso.codigo},[o("v-td",{attrs:{width:"65",align:"start"}},[t._v(t._s(r.curso.codigo))]),o("v-td",{attrs:{width:"300",align:"start"}},[t._v(t._s(r.curso.nome))]),o("v-td",{attrs:{width:"55"}},[t._v(t._s(r.vagasPeriodizadas))]),o("v-td",{attrs:{width:"55"}},[t._v(t._s(r.vagasNaoPeriodizadas))]),o("v-td",{attrs:{width:"55"}},[t._v(t._s(r.vagasTotais))])],1)})),o("tr",{directives:[{name:"show",rawName:"v-show",value:!t.PedidosOrdered.length,expression:"!PedidosOrdered.length"}]},[o("v-td",{attrs:{colspan:"5",width:"530"}},[o("b",[t._v("Turma atual não possui nenhuma vaga cadastrada")])])],1)]},proxy:!0}],null,!1,806228415)})],1)]},proxy:!0}:null],null,!0)})},a=[],s=(o("1c01"),o("58b2"),o("8e6e"),o("f3e2"),o("ac6a"),o("456d"),o("6d67"),o("d25f"),o("7514"),o("ade3")),i=o("2f62");function n(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,e)}return o}function d(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?n(Object(o),!0).forEach((function(r){Object(s["a"])(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}var l={name:"ModalVagas",props:{turma:{type:null|Object,required:!0}},data:function(){return{turmaLetraForm:null,ordenacaoVagas:{order:"vagasTotais",type:"desc"}}},methods:{open:function(){this.$refs.baseModalVagas.open()},close:function(){this.$refs.baseModalVagas.close()}},computed:d(d({},Object(i["c"])(["TurmasInDisciplinasPerfis","AllCursos"])),{},{PedidosOrdered:function(){return this.$_.orderBy(this.PedidosFiltredByTurma,this.ordenacaoVagas.order,this.ordenacaoVagas.type)},PedidosFiltredByTurma:function(){var t=this;if(null===this.turmaLetraForm)return[];var r=this.$_.find(this.TurmasOptionsModalVagas,["letra",this.turmaLetraForm]),o=this.$_.filter(this.Pedidos[r.id],(function(t){return t.vagasPeriodizadas>0||t.vagasNaoPeriodizadas>0}));return this.$_.map(o,(function(r){var o=t.$_.find(t.AllCursos,["id",r.Curso]);return d(d({},r),{},{vagasTotais:r.vagasPeriodizadas+r.vagasNaoPeriodizadas,curso:o})}))},TurmasOptionsModalVagas:function(){var t=this;if(null===this.turma)return[];var r=this.$_.filter(this.TurmasInDisciplinasPerfis,(function(r){return r.Disciplina===t.turma.Disciplina&&r.periodo===t.turma.periodo}));return this.$_.orderBy(r,["periodo"])},Pedidos:function(){return this.$store.state.pedido.Pedidos}}),watch:{turma:function(t){this.turmaLetraForm=t.letra}}},c=l,u=(o("c182"),o("2877")),f=Object(u["a"])(c,e,a,!1,null,"1f592a77",null);r["default"]=f.exports},c182:function(t,r,o){"use strict";var e=o("6847"),a=o.n(e);a.a}}]);
//# sourceMappingURL=chunk-28b4a00e.9aa1eaa6.js.map