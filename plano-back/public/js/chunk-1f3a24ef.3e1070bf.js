(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f3a24ef"],{"0bbd":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"main-component row"},[e("PageHeader",{attrs:{title:"Logs"}},[e("BaseButton",{attrs:{template:"filtros"},on:{click:function(i){return t.toggleAsideModal("filtros")}}}),e("BaseButton",{attrs:{template:"ajuda"},on:{click:function(i){return t.toggleAsideModal("ajuda")}}})],1),e("div",{staticClass:"div-table"},[e("BaseTable",{scopedSlots:t._u([{key:"thead",fn:function(){return[e("th",{staticStyle:{width:"110px"}},[t._v("Tabela Modificada")]),e("th",{staticStyle:{width:"120px"}},[t._v("Campo Modificado")]),e("th",{staticStyle:{width:"200px"}},[t._v("Linha Modificada")]),e("th",{staticStyle:{width:"120px"}},[t._v("Valor Anterior")]),e("th",{staticStyle:{width:"120px"}},[t._v("Novo Valor")]),e("th",{staticStyle:{width:"65px"}},[t._v("Operação")]),e("th",{staticStyle:{width:"80px"}},[t._v("Usuário")]),e("th",{staticStyle:{width:"160px"}},[t._v("Data")])]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.HistoryOrdered,function(i){return e("tr",{key:"History"+i.id},[e("td",{staticStyle:{width:"110px"}},[t._v(t._s(i.tabelaModificada))]),e("td",{staticClass:"less-padding",staticStyle:{width:"120px"}},[t._v("\n            "+t._s(i.campoModificado)+"\n          ")]),e("td",{staticClass:"less-padding",staticStyle:{width:"200px"}},[t._v("\n            "+t._s(t.linhaModificada(i))+"\n          ")]),e("td",{staticClass:"less-padding",staticStyle:{width:"120px"}},[t._v("\n            "+t._s(t.valorAnterior(i))+"\n          ")]),e("td",{staticClass:"less-padding",staticStyle:{width:"120px"}},[t._v("\n            "+t._s(t.valorNovo(i))+"\n          ")]),e("td",{staticClass:"less-padding",staticStyle:{width:"65px"}},[t._v("\n            "+t._s(i.tipoOperacao)+"\n          ")]),e("td",{staticClass:"less-padding",staticStyle:{width:"80px"}},[t._v("\n            "+t._s(i.usuario)+"\n          ")]),e("td",{staticClass:"less-padding",staticStyle:{width:"160px"}},[t._v("\n            "+t._s(t._f("convertDateUTC")(i.createdAt))+"\n          ")])])}),e("tr",{directives:[{name:"show",rawName:"v-show",value:!t.HistoryOrdered.length,expression:"!HistoryOrdered.length"}]},[e("td",{staticStyle:{width:"975px"}},[e("b",[t._v("Nenhuma operação encontrada.")]),t._v(" Clique no botão de filtros\n            "),e("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),t._v("\n            para selecioná-las.\n          ")],1)])]},proxy:!0}])})],1),e("ModalFiltros",{ref:"modalFiltros",attrs:{callbacks:t.modalFiltrosCallbacks,tabsOptions:t.modalFiltrosTabs}},[e("div",{staticClass:"div-table"},[e("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Tabelas"===t.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Tabelas'"}],attrs:{type:"modal"},scopedSlots:t._u([{key:"thead",fn:function(){return[e("th",{staticStyle:{width:"25px"}}),e("th",{staticClass:"t-start",staticStyle:{width:"425px"}},[t._v("Nome")])]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.TabelasOptions,function(i){return e("tr",{key:i.nome+i.id,on:{click:function(e){return t.toggleItemInArray(i,t.filtroTabelas.selecionados)}}},[e("td",{staticStyle:{width:"25px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filtroTabelas.selecionados,expression:"filtroTabelas.selecionados"}],staticClass:"form-check-input position-static m-0",attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(t.filtroTabelas.selecionados)?t._i(t.filtroTabelas.selecionados,i)>-1:t.filtroTabelas.selecionados},on:{change:function(e){var a=t.filtroTabelas.selecionados,o=e.target,s=!!o.checked;if(Array.isArray(a)){var r=i,n=t._i(a,r);o.checked?n<0&&t.$set(t.filtroTabelas,"selecionados",a.concat([r])):n>-1&&t.$set(t.filtroTabelas,"selecionados",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.filtroTabelas,"selecionados",s)}}})]),e("td",{staticClass:"t-start upper-case",staticStyle:{width:"425px"}},[t._v("\n              "+t._s(i.nome)+"\n            ")])])})},proxy:!0}])}),e("BaseTable",{directives:[{name:"show",rawName:"v-show",value:"Operações"===t.modalFiltrosTabs.current,expression:"modalFiltrosTabs.current === 'Operações'"}],attrs:{type:"modal"},scopedSlots:t._u([{key:"thead",fn:function(){return[e("th",{staticStyle:{width:"25px"}}),e("th",{staticClass:"t-start",staticStyle:{width:"425px"}},[t._v("Tipo")])]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.OperacoesOptions,function(i){return e("tr",{key:i.id,on:{click:function(e){return t.toggleItemInArray(i,t.filtroOperacoes.selecionados)}}},[e("td",{staticStyle:{width:"25px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filtroOperacoes.selecionados,expression:"filtroOperacoes.selecionados"}],staticClass:"form-check-input position-static m-0",attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(t.filtroOperacoes.selecionados)?t._i(t.filtroOperacoes.selecionados,i)>-1:t.filtroOperacoes.selecionados},on:{change:function(e){var a=t.filtroOperacoes.selecionados,o=e.target,s=!!o.checked;if(Array.isArray(a)){var r=i,n=t._i(a,r);o.checked?n<0&&t.$set(t.filtroOperacoes,"selecionados",a.concat([r])):n>-1&&t.$set(t.filtroOperacoes,"selecionados",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.filtroOperacoes,"selecionados",s)}}})]),e("td",{staticClass:"t-start upper-case",staticStyle:{width:"425px"}},[t._v("\n              "+t._s(i.nome)+"\n            ")])])})},proxy:!0}])})],1)]),e("ModalAjuda",{ref:"modalAjuda"},[e("li",{staticClass:"list-group-item"},[e("b",[t._v("Visualizar conteúdo:")]),t._v("\n      Clique no ícone de filtros\n      "),e("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","list-ul"]}}),t._v(" no\n      cabeçalho da página e, na janela que se abrirá, utilize as abas para navegar\n      entre os tipos de filtro disponíveis. Marque quais informações deseja\n      visualizar, e para finalizar clique no botão OK.\n    ")],1)])],1)},o=[],s=(e("759f"),e("d25f"),e("cebc")),r=e("e814"),n=e.n(r),c=(e("7514"),e("28a5"),e("75fc")),l=e("9165"),d=e("d027"),u=e("2f62"),v={name:"DashboardHistory",mixins:[l["k"],l["j"],l["c"]],components:{ModalFiltros:d["e"],ModalAjuda:d["a"]},data:function(){var t=this;return{asideModalsRefs:["modalFiltros","modalAjuda"],filtroOperacoes:{ativados:[],selecionados:[]},filtroTabelas:{ativados:[],selecionados:[]},modalFiltrosTabs:{current:"Tabelas",array:["Tabelas","Operações"]},modalFiltrosCallbacks:{selectNone:{Tabelas:function(){t.filtroTabelas.selecionados=[]},Operacoes:function(){t.filtroOperacoes.selecionados=[]}},selectAll:{Tabelas:function(){t.filtroTabelas.selecionados=Object(c["a"])(t.TabelasOptions)},Operacoes:function(){t.filtroOperacoes.selecionados=Object(c["a"])(t.OperacoesOptions)}},btnOk:function(){t.filtroTabelas.ativados=Object(c["a"])(t.filtroTabelas.selecionados),t.filtroOperacoes.ativados=Object(c["a"])(t.filtroOperacoes.selecionados)}}}},beforeMount:function(){this.modalFiltrosCallbacks.selectAll.Operacoes()},methods:{linhaModificada:function(t){var i=t.linhaModificada,e=void 0;switch(t.tabelaModificada){case"CargaPos":if("Delete"===t.tipoOperacao){e=i.split("/");var a=this.$_.find(this.$store.state.docente.Docentes,{id:n()(e[2])});i=void 0===a?"".concat(e[0],"/").concat(e[1],"/").concat(e[2]):"".concat(e[0],"/").concat(e[1],"/").concat(a.apelido)}break;case"DisciplinaGrade":e=i.split("/");var o=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(e[1])}),s=this.$_.find(this.$store.state.grade.Grades,{id:n()(e[2])}),r=void 0===s?void 0:this.$_.find(this.$store.state.curso.Cursos,{id:s.Curso});i="".concat(void 0===s?e[2]:(void 0===r?"Curso Excluído":r.codigo)+" - "+s.nome,"/").concat(void 0===o?e[1]:o.codigo,"/").concat(e[0]);break;case"DocentePerfil":e=i.split("/");var c=this.$_.find(this.$store.state.docente.Docentes,{id:n()(e[1])}),l=this.$_.find(this.$store.state.perfil.Perfis,{id:n()(e[0])});i="".concat(void 0===c?e[1]:c.nome,"/").concat(void 0===l?e[0]:l.nome);break;case"Grade":e=i.split("/");var d=this.$_.find(this.$store.state.curso.Cursos,{id:n()(e[0])});i="".concat(void 0===d?e[0]:d.codigo," - ").concat(e[1]);break;case"Pedido":e=i.split("/");var u=this.$_.find(this.$store.state.turma.Turmas,{id:n()(e[0])}),v=void 0===u?void 0:this.$_.find(this.$store.state.disciplina.Disciplinas,{id:u.Disciplina}),f=this.$_.find(this.$store.state.curso.Cursos,{id:n()(e[1])});i="".concat(void 0===u?e[0]:null===u.Disciplina?"Turma Excluída":v.codigo+" "+u.letra,"/").concat(void 0===f?e[1]:f.codigo);break;case"PedidoExterno":e=i.split("/");var p=this.$_.find(this.$store.state.turmaExterna.Turmas,{id:n()(e[0])}),h=void 0===p?void 0:this.$_.find(this.$store.state.disciplina.Disciplinas,{id:p.Disciplina}),b=this.$_.find(this.$store.state.curso.Cursos,{id:n()(e[1])});i="".concat(void 0===p?e[0]:h.codigo+" "+p.letra,"/").concat(void 0===b?e[1]:b.codigo);break;case"Turma":e=i.split("/");var m=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(e[1])});i="".concat(void 0===m?e[1]:m.codigo,"/").concat(e[0]);break;case"TurmaExterna":e=i.split("/");var _=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(e[1])});i="".concat(void 0===_?e[1]:_.codigo,"/").concat(e[0]);break}return i},valorAnterior:function(t){var i=t.valorAnterior;switch(t.campoModificado){case"Curso":i=this.$_.find(this.$store.state.curso.Cursos,{id:n()(t.valorAnterior)}),i=void 0===i?t.valorAnterior:i.codigo;break;case"Disciplina":i=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(t.valorAnterior)}),i=void 0===i?t.valorAnterior:i.codigo;break;case"Docente":case"Docente1":case"Docente2":i=this.$_.find(this.$store.state.docente.Docentes,{id:n()(t.valorAnterior)}),i=void 0===i?t.valorAnterior:i.apelido;break;case"Grade":if(i=this.$_.find(this.$store.state.grade.Grades,{id:n()(t.valorAnterior)}),void 0===i)i=t.valorAnterior;else{var e=this.$_.find(this.$store.state.curso.Cursos,{id:n()(i.Curso)});i="".concat(void 0===e?i.Curso:e.codigo,"/").concat(i.nome)}break;case"Horario":case"Horario1":case"Horario2":i=this.$_.find(this.$store.state.horario.Horarios,{id:n()(t.valorAnterior)}),i=void 0===i?t.valorAnterior:i.horario;break;case"Perfil":i=this.$_.find(this.$store.state.perfil.Perfis,{id:n()(t.valorAnterior)}),i=void 0===i?t.valorAnterior:i.nome;break;case"Sala":case"Sala1":case"Sala2":i=this.$_.find(this.$store.state.sala.Salas,{id:n()(t.valorAnterior)}),i=void 0===i?t.valorAnterior:i.nome;break}return i},valorNovo:function(t){var i=t.valorNovo;switch(t.campoModificado){case"Curso":i=this.$_.find(this.$store.state.curso.Cursos,{id:n()(t.valorNovo)}),i=void 0===i?t.valorNovo:i.codigo;break;case"Disciplina":i=this.$_.find(this.$store.state.disciplina.Disciplinas,{id:n()(t.valorNovo)}),i=void 0===i?t.valorNovo:i.codigo;break;case"Docente":case"Docente1":case"Docente2":i=this.$_.find(this.$store.state.docente.Docentes,{id:n()(t.valorNovo)}),i=void 0===i?t.valorNovo:i.apelido;break;case"Grade":if(i=this.$_.find(this.$store.state.grade.Grades,{id:n()(t.valorNovo)}),void 0===i)i=t.valorNovo;else{var e=this.$_.find(this.$store.state.curso.Cursos,{id:n()(i.Curso)});i="".concat(void 0===e?i.Curso:e.codigo,"/").concat(i.nome)}break;case"Horario":case"Horario1":case"Horario2":i=this.$_.find(this.$store.state.horario.Horarios,{id:n()(t.valorNovo)}),i=void 0===i?t.valorNovo:i.horario;break;case"Perfil":i=this.$_.find(this.$store.state.perfil.Perfis,{id:n()(t.valorNovo)}),i=void 0===i?t.valorNovo:i.nome;break;case"Sala":case"Sala1":case"Sala2":i=this.$_.find(this.$store.state.sala.Salas,{id:n()(t.valorNovo)}),i=void 0===i?t.valorNovo:i.nome;break}return i}},computed:Object(s["a"])({},Object(u["c"])(["onLoading","History"]),{HistoryOrdered:function(){return this.$_.orderBy(this.HistoryFilteredByOperacao,"id","desc")},HistoryFilteredByOperacao:function(){var t=this;return this.$_.filter(this.HistoryFilteredByTabelas,function(i){return t.$_.some(t.filtroOperacoes.ativados,["id",i.tipoOperacao])})},HistoryFilteredByTabelas:function(){var t=this;return this.$_.filter(this.History,function(i){return t.$_.some(t.filtroTabelas.ativados,["id",i.tabelaModificada])})},OperacoesOptions:function(){return[{nome:"Criação",id:"Create"},{nome:"Exclusão",id:"Delete"},{nome:"Edição",id:"Edit"}]},TabelasOptions:function(){return[{nome:"CARGA PÓS",id:"CargaPos"},{nome:"CURSO",id:"Curso"},{nome:"DISCIPLINA",id:"Disciplina"},{nome:"DISCIPLINA GRADE",id:"DisciplinaGrade"},{nome:"DOCENTE",id:"Docente"},{nome:"DOCENTE PERFIL",id:"DocentePerfil"},{nome:"GRADE",id:"Grade"},{nome:"PEDIDO",id:"Pedido"},{nome:"PEDIDO EXTERNO",id:"PedidoExterno"},{nome:"PERFIL",id:"Perfil"},{nome:"PLANO",id:"Plano"},{nome:"SALA",id:"Sala"},{nome:"TURMA",id:"Turma"},{nome:"TURMA EXTERNA",id:"TurmaExterna"}]}})},f=v,p=e("2877"),h=Object(p["a"])(f,a,o,!1,null,null,null);i["default"]=h.exports},"28a5":function(t,i,e){"use strict";var a=e("aae3"),o=e("cb7c"),s=e("ebd6"),r=e("0390"),n=e("9def"),c=e("5f1b"),l=e("520a"),d=e("79e5"),u=Math.min,v=[].push,f="split",p="length",h="lastIndex",b=4294967295,m=!d(function(){RegExp(b,"y")});e("214f")("split",2,function(t,i,e,d){var _;return _="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||"."[f](/()()/)[p]>1||""[f](/.?/)[p]?function(t,i){var o=String(this);if(void 0===t&&0===i)return[];if(!a(t))return e.call(o,t,i);var s,r,n,c=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,f=void 0===i?b:i>>>0,m=new RegExp(t.source,d+"g");while(s=l.call(m,o)){if(r=m[h],r>u&&(c.push(o.slice(u,s.index)),s[p]>1&&s.index<o[p]&&v.apply(c,s.slice(1)),n=s[0][p],u=r,c[p]>=f))break;m[h]===s.index&&m[h]++}return u===o[p]?!n&&m.test("")||c.push(""):c.push(o.slice(u)),c[p]>f?c.slice(0,f):c}:"0"[f](void 0,0)[p]?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,a){var o=t(this),s=void 0==e?void 0:e[i];return void 0!==s?s.call(e,o,a):_.call(String(o),e,a)},function(t,i){var a=d(_,t,this,i,_!==e);if(a.done)return a.value;var l=o(t),v=String(this),f=s(l,RegExp),p=l.unicode,h=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(m?"y":"g"),y=new f(m?l:"^(?:"+l.source+")",h),$=void 0===i?b:i>>>0;if(0===$)return[];if(0===v.length)return null===c(y,v)?[v]:[];var g=0,O=0,x=[];while(O<v.length){y.lastIndex=m?O:0;var k,C=c(y,m?v:v.slice(O));if(null===C||(k=u(n(y.lastIndex+(m?0:O)),v.length))===g)O=r(v,O,p);else{if(x.push(v.slice(g,O)),x.length===$)return x;for(var w=1;w<=C.length-1;w++)if(x.push(C[w]),x.length===$)return x;O=g=k}}return x.push(v.slice(g)),x}]})}}]);
//# sourceMappingURL=chunk-1f3a24ef.3e1070bf.js.map