(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45b57fff"],{"21ca":function(a,e,t){"use strict";var o=t("57be"),r=t.n(o);r.a},"57be":function(a,e,t){},ad7f:function(a,e,t){"use strict";t.r(e);var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"main-component row"},[t("PageHeader",{attrs:{title:"Salas"}},[t("BaseButton",{attrs:{template:"ajuda"},on:{click:function(e){return a.$refs.modalAjuda.toggle()}}})],1),t("div",{staticClass:"page-content"},[t("div",{staticClass:"div-table"},[t("BaseTable",{scopedSlots:a._u([{key:"thead",fn:function(){return[t("th",{staticClass:"clickable t-start",staticStyle:{width:"82px"},on:{click:function(e){return a.toggleOrder(a.ordenacaoSalasMain,"nome")}}},[a._v("\n            Nome\n            "),t("i",{class:a.setIconByOrder(a.ordenacaoSalasMain,"nome")})]),t("th",{staticClass:"clickable",staticStyle:{width:"90px"},on:{click:function(e){return a.toggleOrder(a.ordenacaoSalasMain,"laboratorio","desc")}}},[a._v("\n            Laboratório\n            "),t("i",{class:a.setIconByOrder(a.ordenacaoSalasMain,"laboratorio")})]),t("th",{staticClass:"clickable",staticStyle:{width:"100px"},on:{click:function(e){return a.toggleOrder(a.ordenacaoSalasMain,"lotacao_maxima","desc")}}},[a._v("\n            Lotação Max.\n            "),t("i",{class:a.setIconByOrder(a.ordenacaoSalasMain,"lotacao_maxima")})])]},proxy:!0},{key:"tbody",fn:function(){return[a._l(a.SalasOrdered,function(e){return[t("tr",{key:e.id,class:[{"bg-selected":a.salaSelected===e.id},"clickable"],on:{click:function(t){return a.handleClickInSala(e)}}},[t("td",{staticClass:"t-start",staticStyle:{width:"82px"}},[a._v(a._s(e.nome))]),t("td",{staticStyle:{width:"90px"}},[a._v("\n                "+a._s(a.booleanToText(e.laboratorio))+"\n              ")]),t("td",{staticStyle:{width:"100px"}},[a._v(a._s(e.lotacao_maxima))])])]})]},proxy:!0}])})],1),t("Card",{attrs:{title:"Sala",toggleFooter:a.isEdit},on:{"btn-salvar":a.editSala,"btn-delete":a.openModalDelete,"btn-add":a.addSala,"btn-clean":a.cleanSala},scopedSlots:a._u([{key:"form-group",fn:function(){return[t("div",{staticClass:"row mb-2 mx-0"},[t("div",{staticClass:"form-group col m-0 px-0"},[t("label",{staticClass:"col-form-label",attrs:{required:"",for:"nome"}},[a._v("Nome")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.salaForm.nome,expression:"salaForm.nome"}],staticClass:"input-menor form-control form-control-sm",attrs:{type:"text",id:"nome"},domProps:{value:a.salaForm.nome},on:{input:function(e){e.target.composing||a.$set(a.salaForm,"nome",e.target.value)}}})])]),t("div",{staticClass:"row mb-2 mx-0"},[t("div",{staticClass:"form-group col m-0 px-0"},[t("label",{staticClass:"col-form-label",attrs:{required:"",for:"lotacao_maxima"}},[a._v("Lotação Máx.")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.salaForm.lotacao_maxima,expression:"salaForm.lotacao_maxima"}],staticClass:"input-menor form-control form-control-sm",attrs:{type:"text",id:"lotacao_maxima"},domProps:{value:a.salaForm.lotacao_maxima},on:{keypress:a.maskOnlyNumber,input:function(e){e.target.composing||a.$set(a.salaForm,"lotacao_maxima",e.target.value)}}})])]),t("div",{staticClass:"row mb-2 mx-0"},[t("div",{staticClass:"form-check form-check-inline col m-0 px-0 pl-1"},[t("label",{staticClass:"form-check-label mr-2",attrs:{for:"laboratorio"}},[a._v("Laboratório")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.salaForm.laboratorio,expression:"salaForm.laboratorio"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"laboratorio",value:"1"},domProps:{checked:Array.isArray(a.salaForm.laboratorio)?a._i(a.salaForm.laboratorio,"1")>-1:a.salaForm.laboratorio},on:{change:function(e){var t=a.salaForm.laboratorio,o=e.target,r=!!o.checked;if(Array.isArray(t)){var l="1",s=a._i(t,l);o.checked?s<0&&a.$set(a.salaForm,"laboratorio",t.concat([l])):s>-1&&a.$set(a.salaForm,"laboratorio",t.slice(0,s).concat(t.slice(s+1)))}else a.$set(a.salaForm,"laboratorio",r)}}})])])]},proxy:!0}])})],1),t("ModalDelete",{ref:"modalDelete",attrs:{isDeleting:a.isEdit},on:{"btn-deletar":a.deleteSala}},[t("li",{staticClass:"list-group-item"},[a.isEdit?t("span",[a._v("\n        Tem certeza que deseja excluír a sala\n        "),t("b",[a._v(a._s(a.salaForm.nome))]),a._v("?\n      ")]):t("span",[a._v("Nenhuma sala selecionada.")])])]),t("ModalAjuda",{ref:"modalAjuda"},[t("li",{staticClass:"list-group-item"},[t("b",[a._v("Adicionar:")]),a._v("\n      Preencha o cartão em branco à direita e em seguida, clique em Adicionar\n      "),t("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","plus"]}}),a._v(".\n    ")],1),t("li",{staticClass:"list-group-item"},[t("b",[a._v("Editar:")]),a._v(" Clique na linha da tabela da sala que deseja alterar. Em\n      seguida, no cartão à direita, altere as informações que desejar e clique em\n      Salvar "),t("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","check"]}}),a._v(".\n    ")],1),t("li",{staticClass:"list-group-item"},[t("b",[a._v("Deletar:")]),a._v(" Clique na linha da tabela da sala que deseja remover. Em\n      seguida, no cartão à direita, clique em Remover\n      "),t("font-awesome-icon",{staticClass:"icon-red",attrs:{icon:["fas","trash-alt"]}}),a._v(" e\n      confirme a remoção na janela que será aberta.\n    ")],1),t("li",{staticClass:"list-group-item"},[t("b",[a._v("Limpar:")]),a._v(" No cartão à direita, clique em Cancelar\n      "),t("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","times"]}}),a._v(", para limpar\n      as informações.\n    ")],1),t("li",{staticClass:"list-group-item"},[t("b",[a._v("Ordenar:")]),a._v(" Clique no cabeçalho da tabela, na coluna desejada, para\n      alterar a ordenação das informações.\n    ")])])],1)},r=[],l=t("cebc"),s=(t("a481"),t("93a3")),i=t("9165"),n=t("25df"),c=t("d027"),d=t("2f62"),m={id:null,nome:null,laboratorio:null,lotacao_maxima:null},u={name:"DashboardSalas",mixins:[i["n"],i["i"]],components:{Card:n["b"],ModalAjuda:c["a"],ModalDelete:c["b"]},data:function(){return{error:null,salaSelected:null,salaForm:this.$_.clone(m),ordenacaoSalasMain:{order:"nome",type:"asc"}}},methods:{openModalDelete:function(){this.$refs.modalDelete.open()},booleanToText:function(a){return a?"Sim":"-"},handleClickInSala:function(a){this.showSala(a),this.salaSelected=a.id},cleanSala:function(){this.salaSelected=null,this.salaForm=this.$_.clone(m),this.error=null},showSala:function(a){this.cleanSala(),this.salaForm=this.$_.clone(a)},addSala:function(){var a=this;s["a"].create(this.salaForm).then(function(e){a.cleanSala(),a.$notify({group:"general",title:"Sucesso!",text:"A Sala ".concat(e.Sala.nome," foi criada!"),type:"success"})}).catch(function(e){a.error="",e.response.data.fullMessage&&(a.error+=e.response.data.fullMessage.replace("\n","<br/>")),a.$notify({group:"general",title:"Erro ao criar sala!",text:a.error,type:"error"})})},editSala:function(){var a=this;""===this.salaForm.lotacao_maxima&&(this.salaForm.lotacao_maxima=0),s["a"].update(this.salaForm.id,this.salaForm).then(function(e){a.$notify({group:"general",title:"Sucesso!",text:"A Sala ".concat(e.Sala.nome," foi atualizada!"),type:"success"})}).catch(function(e){a.error="<b>Erro ao atualizar Sala</b>",e.response.data.fullMessage&&(a.error+="<br/>"+e.response.data.fullMessage.replace("\n","<br/>")),a.$notify({group:"general",title:"Erro!",text:a.error,type:"error"})})},deleteSala:function(){var a=this;s["a"].delete(this.salaForm.id,this.salaForm).then(function(e){a.cleanSala(),a.$notify({group:"general",title:"Sucesso!",text:"A Sala ".concat(e.Sala.nome," foi excluída!"),type:"success"})}).catch(function(){a.error="<b>Erro ao excluir Sala</b>",a.$notify({group:"general",title:"Erro!",text:a.error,type:"error"})})}},computed:Object(l["a"])({},Object(d["c"])(["AllSalas"]),{SalasOrdered:function(){return this.$_.orderBy(this.AllSalas,this.ordenacaoSalasMain.order,this.ordenacaoSalasMain.type)},isEdit:function(){return null!=this.salaForm.id}})},f=u,p=(t("21ca"),t("2877")),b=Object(p["a"])(f,o,r,!1,null,"2d1221d6",null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-45b57fff.833f2d38.js.map