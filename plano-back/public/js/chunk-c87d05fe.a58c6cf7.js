(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c87d05fe","chunk-2d0cebdd"],{"616b":function(i,e,a){"use strict";a.r(e);var t=function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("div",{staticClass:"page-content"},[a("div",{staticClass:"flex flex-column flex-grow-1"},[a("NavTab",{attrs:{currentTab:i.currentTab,allTabs:["DCC","Outros"]},on:{"change-tab":function(e){return i.$emit("change-tab",e)}}}),a("div",{staticClass:"div-table"},[a("BaseTable",{attrs:{styles:"height:calc(100vh - 130px)"},scopedSlots:i._u([{key:"thead",fn:function(){return[a("v-th-ordination",{attrs:{currentOrder:i.ordenacaoDisciplinasMain,orderToCheck:"periodo",width:"70",title:"Período letivo"}},[i._v("\n            Período\n          ")]),a("v-th-ordination",{attrs:{currentOrder:i.ordenacaoDisciplinasMain,orderToCheck:"disciplina.codigo",width:"80",align:"start",title:"Código da Disciplina"}},[i._v("\n            Código\n          ")]),a("v-th-ordination",{attrs:{currentOrder:i.ordenacaoDisciplinasMain,orderToCheck:"disciplina.nome",width:"400",align:"start",title:"Nome da Disciplina"}},[i._v("\n            Disciplina\n          ")]),a("v-th-ordination",{attrs:{currentOrder:i.ordenacaoDisciplinasMain,orderToCheck:"obrigatoria",width:"70",title:"Disciplina Obrigatória na Grade"}},[i._v("\n            Obrigatória\n          ")])]},proxy:!0},{key:"tbody",fn:function(){return[i._l(i.DisciplinaGradesOrdered,(function(e){return a("tr",{key:e.Disciplina,class:["clickable",{"bg-custom":i.isEven(e.periodo)},{"bg-selected":i.disciplinaSelectedId===e.Disciplina}],on:{click:function(a){return i.handleClickInDisciplina(e)}}},[a("v-td",{attrs:{width:"70"}},[i._v(i._s(e.periodo))]),a("v-td",{attrs:{width:"80",align:"start"}},[i._v(i._s(e.disciplina.codigo))]),a("v-td",{attrs:{width:"400",align:"start"}},[i._v(i._s(e.disciplina.nome))]),e.obrigatoria?a("v-td",{attrs:{width:"70"}},[i._v("Sim")]):a("v-td",{attrs:{width:"70"}},[i._v("-")])],1)})),i.hasGradeSelected?i.DisciplinaGradesOrdered.length?i._e():a("tr",[a("v-td",{attrs:{width:"620",colspan:"3"}},[a("b",[i._v("Nenhuma disciplina encontrada")]),i._v("\n              na grade selecionada.\n            ")])],1):a("tr",[a("v-td",{attrs:{width:"620",colspan:"3"}},[a("b",[i._v("Nenhuma disciplina encontrada")]),i._v("\n              , selecione uma grade.\n            ")])],1)]},proxy:!0}])})],1)],1),a("Card",{attrs:{title:"Disciplinas",width:"420"},scopedSlots:i._u([{key:"body",fn:function(){return[a("div",{staticClass:"row"},[a("div",{staticClass:"col-8"},[a("VSelect",{attrs:{label:"Curso"},on:{change:i.handleSelectCursos},model:{value:i.currentCursoId,callback:function(e){i.currentCursoId=e},expression:"currentCursoId"}},[i.CursosOptions.length?i._e():a("VOption",{attrs:{text:"Nenhum cursos encontrado"}}),i._l(i.CursosOptions,(function(i){return a("VOption",{key:i.nome+i.id,attrs:{value:i.id,text:i.nome}})}))],2)],1),a("div",{staticClass:"col"},[a("VSelect",{attrs:{label:"Grade",disabled:!i.hasCursoSelected},on:{change:i.handleSelectGrade},model:{value:i.currentGradeId,callback:function(e){i.currentGradeId=e},expression:"currentGradeId"}},[i.GradesOptionsFiltred.length?i._e():a("VOption",{attrs:{text:"Nenhuma grade encontrada"}}),i._l(i.GradesOptionsFiltred,(function(i){return a("VOption",{key:i.id+i.nome,attrs:{value:i.id,text:i.nome}})}))],2)],1)]),a("div",{staticClass:"w-100 border my-2"}),a("VSelect",{attrs:{label:"Disciplina",validation:i.$v.disciplinaGradeForm.Disciplina,disabled:!i.hasGradeSelected},on:{change:i.handleSelectDisciplina},model:{value:i.disciplinaGradeForm.Disciplina,callback:function(e){i.$set(i.disciplinaGradeForm,"Disciplina",e)},expression:"disciplinaGradeForm.Disciplina"}},[i.DisciplinasOptions.length?i._e():a("VOption",{attrs:{text:"Nenhuma disciplina encontrada"}}),i._l(i.DisciplinasOptions,(function(i){return a("VOption",{key:i.id+i.nome,attrs:{value:i.id,text:i.nome}})}))],2),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("VSelect",{attrs:{label:"Código",validation:i.$v.disciplinaGradeForm.Disciplina,disabled:!i.hasGradeSelected},on:{change:i.handleSelectDisciplina},model:{value:i.disciplinaGradeForm.Disciplina,callback:function(e){i.$set(i.disciplinaGradeForm,"Disciplina",e)},expression:"disciplinaGradeForm.Disciplina"}},[i.DisciplinasOptions.length?i._e():a("VOption",{attrs:{text:"Nenhuma disciplina encontrada"}}),i._l(i.DisciplinasOptions,(function(i){return a("VOption",{key:i.id+i.nome,attrs:{value:i.id,text:i.codigo}})}))],2)],1),a("div",{staticClass:"col-3"},[a("VInput",{attrs:{inputType:"number",label:"Período",validation:i.$v.disciplinaGradeForm.periodo,min:1,disabled:!i.hasGradeSelected},model:{value:i.disciplinaGradeForm.periodo,callback:function(e){i.$set(i.disciplinaGradeForm,"periodo",i._n(e))},expression:"disciplinaGradeForm.periodo"}})],1),a("div",{staticClass:"col-3"},[a("VSelect",{attrs:{label:"Obrigatória",validation:i.$v.disciplinaGradeForm.obrigatoria,disabled:!i.hasDisciplinaSelected},on:{change:i.handleSelectObrigatoria},model:{value:i.disciplinaGradeForm.obrigatoria,callback:function(e){i.$set(i.disciplinaGradeForm,"obrigatoria",e)},expression:"disciplinaGradeForm.obrigatoria"}},[i.DisciplinasOptions.length?i._e():a("VOption",{attrs:{text:"-"}}),i._l(i.obrigatoriaOpcoes,(function(i){return a("VOption",{key:i,attrs:{text:i,value:i}})}))],2)],1),a("div",{staticClass:"col"},[a("BaseButton",{staticClass:"btn-append",staticStyle:{"margin-top":"23px"},attrs:{disabled:!i.hasGradeSelected||!i.isEditDisciplina,template:"salvar",title:"Atualizar período da disciplina"},on:{click:i.handleUpdateDisciplinaGrade}})],1)])]},proxy:!0},{key:"footer",fn:function(){return[a("BaseButton",{attrs:{template:"adicionar",title:"Adicionar à Grade",disabled:!i.hasGradeSelected||i.isEditDisciplina},on:{click:i.handleCreateDisciplinaGrade}}),a("BaseButton",{attrs:{template:"deletar",title:"Deletar Disciplina",disabled:!i.hasGradeSelected||!i.isEditDisciplina},on:{click:function(e){return i.$refs.modalDelete.open()}}}),a("BaseButton",{attrs:{template:"cancelar",disabled:!i.hasGradeSelected},on:{click:i.clearDisciplina}})]},proxy:!0}])}),a("ModalDelete",{ref:"modalDelete",attrs:{isDeleting:i.isEditDisciplina},on:{"btn-deletar":i.handleDeleteDisciplinaGrade}},[i.isEditDisciplina?a("li",{staticClass:"list-group-item"},[a("span",[i._v("\n        Tem certeza que deseja excluír a disciplina\n        "),a("b",[i._v(i._s(i.disciplinaGradeForm.disciplina.nome))]),i._v("\n        ?\n      ")])]):a("li",{staticClass:"list-group-item"},[i._v("Nenhuma disciplina selecionada.")])])],1)},r=[],n=(a("2caf"),a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("6b54"),a("87b3"),a("1c01"),a("58b2"),a("8e6e"),a("f3e2"),a("ac6a"),a("456d"),a("d25f"),a("96cf"),a("1da1")),s=a("ade3"),c=(a("7514"),a("2f62")),o=a("5c8a"),l=a("d4b9"),d=a("b5ae"),u=a("a91e"),p=a("d027"),h=a("25df");function f(i,e){var a;if("undefined"===typeof Symbol||null==i[Symbol.iterator]){if(Array.isArray(i)||(a=b(i))||e&&i&&"number"===typeof i.length){a&&(i=a);var t=0,r=function(){};return{s:r,n:function(){return t>=i.length?{done:!0}:{done:!1,value:i[t++]}},e:function(i){throw i},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,c=!1;return{s:function(){a=i[Symbol.iterator]()},n:function(){var i=a.next();return s=i.done,i},e:function(i){c=!0,n=i},f:function(){try{s||null==a.return||a.return()}finally{if(c)throw n}}}}function b(i,e){if(i){if("string"===typeof i)return m(i,e);var a=Object.prototype.toString.call(i).slice(8,-1);return"Object"===a&&i.constructor&&(a=i.constructor.name),"Map"===a||"Set"===a?Array.from(i):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(i,e):void 0}}function m(i,e){(null==e||e>i.length)&&(e=i.length);for(var a=0,t=new Array(e);a<e;a++)t[a]=i[a];return t}function v(i,e){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),a.push.apply(a,t)}return a}function g(i){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){Object(s["a"])(i,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))}))}return i}var D={name:"DisciplinasGradesContent",components:{Card:h["b"],ModalDelete:p["b"],NavTab:h["e"],VInput:h["h"],VSelect:h["m"],VOption:h["l"]},props:{currentTab:{type:String,required:!0},arraysData:{type:Object,required:!0,validator:function(i){return"DisciplinasGrades"in i&&"Grades"in i&&"Cursos"in i}},disciplinaGradeServices:{type:Object,required:!0,validator:function(i){return"create"in i&&"update"in i&&"delete"in i}}},data:function(){return{disciplinaGradeForm:Object(u["c"])(),gradeForm:Object(u["e"])(),currentGradeId:null,currentCursoId:null,currentDisciplina:null,disciplinaSelectedId:null,ordenacaoDisciplinasMain:{order:"periodo",type:"asc"},obrigatoriaOpcoes:["Não","Sim"]}},validations:{disciplinaGradeForm:{periodo:{required:d["required"],integer:d["integer"],maxValue:Object(d["maxValue"])(15),minValue:Object(d["minValue"])(1)},Disciplina:{required:d["required"]},obrigatoria:{required:d["required"]}}},methods:{handleSelectCursos:function(){this.clearDisciplina(),this.clearGradeForm(),this.currentGradeId=null,this.currentDisciplina=null},handleSelectGrade:function(){this.clearDisciplina(),this.currentDisciplina=null,this.currentGradeId&&this.showGrade(this.currentGradeId)},handleSelectDisciplina:function(){var i=this;this.currentDisciplina=this.disciplinaGradeForm.Disciplina;var e=this.AllDisciplinas.find((function(e){return e.id===i.disciplinaGradeForm.Disciplina}));if(e){this.disciplinaGradeForm.disciplina=g({},e),this.disciplinaGradeForm.Grade=this.currentGradeId,this.disciplinaGradeForm.obrigatoria=this.obrigatoriaOpcoes[this.isDisciplinaObrigatoria(this.disciplinaGradeForm.disciplina)];var a=this.DisciplinaGradesFiltred.find((function(i){return i.Disciplina===e.id}));a?(this.disciplinaSelectedId=e.id,this.disciplinaGradeForm.periodo=a.periodo):this.clearClick()}},handleSelectObrigatoria:function(){return this.currentObrigatoria=this.disciplinaGradeForm.obrigatoria},isDisciplinaObrigatoria:function(i){if(i){var e,a=f(this.DisciplinaGradesOrdered);try{for(a.s();!(e=a.n()).done;){var t=e.value;if(t.disciplina.id===i.id)return t.obrigatoria}}catch(r){a.e(r)}finally{a.f()}}},handleClickInDisciplina:function(i){this.currentDisciplina=this.disciplinaGradeForm.Disciplina,this.disciplinaSelectedId=i.Disciplina,this.showGrade(this.currentGradeId),this.showDisciplina(i)},clearClick:function(){this.disciplinaSelectedId=null},clearGradeForm:function(){this.gradeForm=Object(u["e"])()},clearDisciplina:function(){var i=this;this.clearClick(),this.disciplinaGradeForm=Object(u["c"])(),this.$nextTick((function(){return i.$v.$reset()}))},showGrade:function(i){var e=this.arraysData.Grades.find((function(e){return e.id===i}));this.gradeForm=Object(o["a"])(e)},showDisciplina:function(i){this.disciplinaGradeForm=Object(o["a"])(i),this.disciplinaGradeForm.obrigatoria=this.obrigatoriaOpcoes[this.isDisciplinaObrigatoria(this.disciplinaGradeForm.disciplina)],this.disciplinaGradeForm.Grade=this.gradeForm.id},converteObrigatoriaParaNum:function(i){if(i)return"number"===typeof i?i:"Sim"===i?1:0},isEven:function(i){return i%2===0},handleCreateDisciplinaGrade:function(){var i=Object(n["a"])(regeneratorRuntime.mark((function i(){var e,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(this.$v.disciplinaGradeForm.$touch(),!this.$v.disciplinaGradeForm.$anyError){i.next=3;break}return i.abrupt("return");case 3:return i.prev=3,this.setLoading({type:"partial",value:!0}),e=g({},this.disciplinaGradeForm),e.obrigatoria=this.converteObrigatoriaParaNum(e.obrigatoria),i.next=9,this.disciplinaGradeServices.create(e);case 9:a=i.sent,this.disciplinaSelectedId=a.DisciplinaGrade.Disciplina,this.$notify({group:"general",title:"Sucesso!",text:"A disciplina <b>".concat(e.disciplina.nome,"</b> foi adicionada à grade\n          <b>").concat(this.gradeForm.nome,"</b>"),type:"success"}),i.next=17;break;case 14:i.prev=14,i.t0=i["catch"](3),this.$notify({group:"general",title:"Erro!",text:"Erro ao incluir disciplina, verifique se a disciplina já não existe na grade",type:"error"});case 17:return i.prev=17,this.setLoading({type:"partial",value:!1}),i.finish(17);case 20:case"end":return i.stop()}}),i,this,[[3,14,17,20]])})));function e(){return i.apply(this,arguments)}return e}(),handleUpdateDisciplinaGrade:function(){var i=Object(n["a"])(regeneratorRuntime.mark((function i(){var e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(this.$v.disciplinaGradeForm.$touch(),!this.$v.disciplinaGradeForm.$anyError){i.next=3;break}return i.abrupt("return");case 3:return i.prev=3,this.setLoading({type:"partial",value:!0}),e=g({},this.disciplinaGradeForm),e.obrigatoria=this.converteObrigatoriaParaNum(e.obrigatoria),i.next=9,this.disciplinaGradeServices.update(e.Disciplina,e.Grade,e);case 9:this.$notify({group:"general",title:"Sucesso!",text:"A disciplina <b>".concat(this.disciplinaGradeForm.disciplina.nome,"</b> foi atualizada!"),type:"success"}),i.next=15;break;case 12:i.prev=12,i.t0=i["catch"](3),this.$notify({group:"general",title:"Erro!",text:"Erro ao atualizar disciplina",type:"error"});case 15:return i.prev=15,this.setLoading({type:"partial",value:!1}),i.finish(15);case 18:case"end":return i.stop()}}),i,this,[[3,12,15,18]])})));function e(){return i.apply(this,arguments)}return e}(),handleDeleteDisciplinaGrade:function(){var i=Object(n["a"])(regeneratorRuntime.mark((function i(){var e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,this.setLoading({type:"partial",value:!0}),e=g({},this.disciplinaGradeForm),e.obrigatoria=this.converteObrigatoriaParaNum(e.obrigatoria),i.next=6,this.disciplinaGradeServices.delete(e.Disciplina,e.Grade,e);case 6:this.$notify({group:"general",title:"Sucesso!",text:"A disciplina <b>".concat(e.disciplina.nome,"</b> foi excluída da grade\n           <b>").concat(this.gradeForm.nome,"</b>"),type:"success"}),this.clearClick(),i.next=13;break;case 10:i.prev=10,i.t0=i["catch"](0),this.$notify({group:"general",title:"Erro!",text:"Erro ao excluir disciplina",type:"error"});case 13:return i.prev=13,this.setLoading({type:"partial",value:!1}),i.finish(13);case 16:case"end":return i.stop()}}),i,this,[[0,10,13,16]])})));function e(){return i.apply(this,arguments)}return e}()},computed:g(g({},Object(c["c"])(["AllDisciplinas"])),{},{hasCursoSelected:function(){return null!=this.currentCursoId},hasGradeSelected:function(){return null!=this.currentGradeId},hasDisciplinaSelected:function(){return null!=this.currentDisciplina},isEditDisciplina:function(){return null!==this.disciplinaSelectedId},DisciplinaGradesOrdered:function(){var i=this.ordenacaoDisciplinasMain,e=i.order,a=i.type;return Object(l["a"])(this.DisciplinaGradesFiltred,e,a)},DisciplinaGradesFiltred:function(){var i=this;return this.arraysData.DisciplinasGrades.filter((function(e){return i.currentGradeId===e.Grade}))},GradesOptionsFiltred:function(){var i=this;return this.arraysData.Grades.filter((function(e){return e.Curso==i.currentCursoId}))},DisciplinasOptions:function(){return Object(l["a"])(this.AllDisciplinas,"nome")},CursosOptions:function(){return Object(l["a"])(this.arraysData.Cursos,"nome")}})},G=D,O=a("2877"),y=Object(O["a"])(G,t,r,!1,null,null,null);e["default"]=y.exports},7545:function(i,e,a){"use strict";a.r(e);var t=function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("div",{staticClass:"main-component row"},[a("portal",{attrs:{to:"page-header"}},[a("BaseButton",{attrs:{template:"ajuda"},on:{click:function(e){return i.$refs.modalAjuda.toggle()}}})],1),a("keep-alive",["DCC"===i.currentTab?a("DisciplinasGradesContent",{key:"DCC",attrs:{arraysData:i.contentPropsDCC.arraysData,disciplinaGradeServices:i.contentPropsDCC.services,currentTab:i.currentTab},on:{"change-tab":function(e){i.currentTab=e}}}):a("DisciplinasGradesContent",{key:"Outros",attrs:{arraysData:i.contentPropsOutros.arraysData,disciplinaGradeServices:i.contentPropsOutros.services,currentTab:i.currentTab},on:{"change-tab":function(e){i.currentTab=e}}})],1),a("ModalAjuda",{ref:"modalAjuda"},[a("li",{staticClass:"list-group-item"},[a("b",[i._v("Visualizar conteúdo:")]),i._v("\n      Na parte superior do cartão à direita, selecione o curso e a grade que deseja visualizar.\n    ")]),a("li",{staticClass:"list-group-item"},[a("b",[i._v("Adicionar disciplina na grade:")]),i._v("\n      Para adicionar uma disciplina à grade selecionada, preencha o cartão à direita com os dados\n      necessários e em seguida clique em Adicionar.\n      "),a("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","plus"]}}),i._v("\n      .\n    ")],1),a("li",{staticClass:"list-group-item"},[a("b",[i._v("Editar disciplina da grade:")]),i._v("\n      Para editar uma disciplinas da grade selecionada clique na linha da tabela da disciplina que\n      deseja alterar. Em seguida, no cartão à direita, altere as informações que desejar e clique\n      em Salvar\n      "),a("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","check"]}}),i._v("\n      .\n    ")],1),a("li",{staticClass:"list-group-item"},[a("b",[i._v("Deletar disciplina da grade:")]),i._v("\n      Clique na linha da tabela da disciplina que deseja remover. Em seguida, no cartão à direita,\n      clique em Remover\n      "),a("font-awesome-icon",{staticClass:"icon-red",attrs:{icon:["fas","trash-alt"]}}),i._v("\n      e confirme a remoção na janela que será aberta.\n    ")],1),a("li",{staticClass:"list-group-item"},[a("b",[i._v("Limpar formulário:")]),i._v("\n      No cartão à direita, clique em Cancelar\n      "),a("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","times"]}}),i._v("\n      , para limpar as informações da disciplina porém a grade continuará selecionada.\n    ")],1)])],1)},r=[],n=(a("1c01"),a("58b2"),a("8e6e"),a("f3e2"),a("ac6a"),a("456d"),a("759f"),a("d25f"),a("ade3")),s=a("2f62"),c=a("fb5e"),o=a("4929"),l=a("d027"),d=a("616b");function u(i,e){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),a.push.apply(a,t)}return a}function p(i){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(n["a"])(i,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))}))}return i}var h={name:"GerenciarGrades",components:{DisciplinasGradesContent:d["default"],ModalAjuda:l["a"]},data:function(){return{currentTab:"DCC"}},computed:p(p({},Object(s["c"])(["DisciplinasGradesExternas","AllGradesCursosExternos","AllCursos","AllGrades","DisciplinasGrades","PrincipaisCursosDCC"])),{},{CursosComGradesExternas:function(){var i=this;return this.AllCursos.filter((function(e){return i.AllGradesCursosExternos.some((function(i){return i.Curso===e.id}))}))},contentPropsDCC:function(){return{arraysData:{DisciplinasGrades:this.DisciplinasGrades,Grades:this.AllGrades,Cursos:this.PrincipaisCursosDCC},services:o["a"]}},contentPropsOutros:function(){return{arraysData:{DisciplinasGrades:this.DisciplinasGradesExternas,Grades:this.AllGradesCursosExternos,Cursos:this.CursosComGradesExternas},services:c["a"]}}})},f=h,b=a("2877"),m=Object(b["a"])(f,t,r,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-c87d05fe.a58c6cf7.js.map