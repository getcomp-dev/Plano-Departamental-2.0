(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c87d05fe","chunk-2d0cebdd"],{"616b":function(e,i,a){"use strict";a.r(i);var t=function(){var e=this,i=e.$createElement,a=e._self._c||i;return a("div",{staticClass:"page-content"},[a("div",{staticClass:"flex flex-column flex-grow-1"},[a("NavTab",{attrs:{currentTab:e.currentTab,allTabs:["DCC","Outros"]},on:{"change-tab":function(i){return e.$emit("change-tab",i)}}}),a("div",{staticClass:"div-table"},[a("BaseTable",{attrs:{styles:"height:calc(100vh - 130px)"},scopedSlots:e._u([{key:"thead",fn:function(){return[a("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplinasMain,orderToCheck:"periodo",width:"65",title:"Período letivo"}},[e._v("\n            Período\n          ")]),a("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplinasMain,orderToCheck:"disciplina.codigo",width:"80",align:"start",title:"Código da Disciplina"}},[e._v("\n            Código\n          ")]),a("v-th-ordination",{attrs:{currentOrder:e.ordenacaoDisciplinasMain,orderToCheck:"disciplina.nome",width:"400",align:"start",title:"Nome da Disciplina"}},[e._v("\n            Disciplina\n          ")])]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.DisciplinaGradesOrdered,(function(i){return a("tr",{key:i.Disciplina,class:["clickable",{"bg-custom":e.isEven(i.periodo)},{"bg-selected":e.disciplinaSelectedId===i.Disciplina}],on:{click:function(a){return e.handleClickInDisciplina(i)}}},[a("v-td",{attrs:{width:"65"}},[e._v(e._s(i.periodo))]),a("v-td",{attrs:{width:"80",align:"start"}},[e._v(e._s(i.disciplina.codigo))]),a("v-td",{attrs:{width:"400",align:"start"}},[e._v(e._s(i.disciplina.nome))])],1)})),e.hasGradeSelected?e.DisciplinaGradesOrdered.length?e._e():a("tr",[a("v-td",{attrs:{width:"545",colspan:"3"}},[a("b",[e._v("Nenhuma disciplina encontrada")]),e._v("\n              na grade selecionada.\n            ")])],1):a("tr",[a("v-td",{attrs:{width:"545",colspan:"3"}},[a("b",[e._v("Nenhuma disciplina encontrada")]),e._v("\n              , selecione uma grade.\n            ")])],1)]},proxy:!0}])})],1)],1),a("Card",{attrs:{title:"Disciplinas",width:"420"},scopedSlots:e._u([{key:"body",fn:function(){return[a("div",{staticClass:"row"},[a("div",{staticClass:"col-8"},[a("VSelect",{attrs:{label:"Curso"},on:{change:e.handleSelectCursos},model:{value:e.currentCursoId,callback:function(i){e.currentCursoId=i},expression:"currentCursoId"}},[e.CursosOptions.length?e._e():a("VOption",{attrs:{text:"Nenhum cursos encontrado"}}),e._l(e.CursosOptions,(function(e){return a("VOption",{key:e.nome+e.id,attrs:{value:e.id,text:e.nome}})}))],2)],1),a("div",{staticClass:"col"},[a("VSelect",{attrs:{label:"Grade",disabled:!e.hasCursoSelected},on:{change:e.handleSelectGrade},model:{value:e.currentGradeId,callback:function(i){e.currentGradeId=i},expression:"currentGradeId"}},[e.GradesOptionsFiltred.length?e._e():a("VOption",{attrs:{text:"Nenhuma grade encontrada"}}),e._l(e.GradesOptionsFiltred,(function(e){return a("VOption",{key:e.id+e.nome,attrs:{value:e.id,text:e.nome}})}))],2)],1)]),a("div",{staticClass:"w-100 border my-2"}),a("VSelect",{attrs:{label:"Disciplina",validation:e.$v.disciplinaGradeForm.Disciplina,disabled:!e.hasGradeSelected},on:{change:e.handleSelectDisciplina},model:{value:e.disciplinaGradeForm.Disciplina,callback:function(i){e.$set(e.disciplinaGradeForm,"Disciplina",i)},expression:"disciplinaGradeForm.Disciplina"}},[e.DisciplinasOptions.length?e._e():a("VOption",{attrs:{text:"Nenhuma disciplina encontrada"}}),e._l(e.DisciplinasOptions,(function(e){return a("VOption",{key:e.id+e.nome,attrs:{value:e.id,text:e.nome}})}))],2),a("div",{staticClass:"row"},[a("div",{staticClass:"col-7"},[a("VSelect",{attrs:{label:"Código",validation:e.$v.disciplinaGradeForm.Disciplina,disabled:!e.hasGradeSelected},on:{change:e.handleSelectDisciplina},model:{value:e.disciplinaGradeForm.Disciplina,callback:function(i){e.$set(e.disciplinaGradeForm,"Disciplina",i)},expression:"disciplinaGradeForm.Disciplina"}},[e.DisciplinasOptions.length?e._e():a("VOption",{attrs:{text:"Nenhuma disciplina encontrada"}}),e._l(e.DisciplinasOptions,(function(e){return a("VOption",{key:e.id+e.nome,attrs:{value:e.id,text:e.codigo}})}))],2)],1),a("div",{staticClass:"col-3"},[a("VInput",{attrs:{inputType:"number",label:"Período",validation:e.$v.disciplinaGradeForm.periodo,min:1,disabled:!e.hasGradeSelected},model:{value:e.disciplinaGradeForm.periodo,callback:function(i){e.$set(e.disciplinaGradeForm,"periodo",e._n(i))},expression:"disciplinaGradeForm.periodo"}})],1),a("div",{staticClass:"col"},[a("BaseButton",{staticClass:"btn-append",staticStyle:{"margin-top":"23px"},attrs:{disabled:!e.hasGradeSelected||!e.isEditDisciplina,template:"salvar",title:"Atualizar período da disciplina"},on:{click:e.handleUpdateDisciplinaGrade}})],1)])]},proxy:!0},{key:"footer",fn:function(){return[a("BaseButton",{attrs:{template:"adicionar",title:"Adicionar à Grade",disabled:!e.hasGradeSelected||e.isEditDisciplina},on:{click:e.handleCreateDisciplinaGrade}}),a("BaseButton",{attrs:{template:"deletar",title:"Deletar Disciplina",disabled:!e.hasGradeSelected||!e.isEditDisciplina},on:{click:function(i){return e.$refs.modalDelete.open()}}}),a("BaseButton",{attrs:{template:"cancelar",disabled:!e.hasGradeSelected},on:{click:e.clearDisciplina}})]},proxy:!0}])}),a("ModalDelete",{ref:"modalDelete",attrs:{isDeleting:e.isEditDisciplina},on:{"btn-deletar":e.handleDeleteDisciplinaGrade}},[e.isEditDisciplina?a("li",{staticClass:"list-group-item"},[a("span",[e._v("\n        Tem certeza que deseja excluír a disciplina\n        "),a("b",[e._v(e._s(e.disciplinaGradeForm.disciplina.nome))]),e._v("\n        ?\n      ")])]):a("li",{staticClass:"list-group-item"},[e._v("Nenhuma disciplina selecionada.")])])],1)},r=[],n=(a("1c01"),a("58b2"),a("8e6e"),a("f3e2"),a("ac6a"),a("456d"),a("d25f"),a("96cf"),a("1da1")),s=a("ade3"),c=(a("7514"),a("2f62")),o=a("5c8a"),l=a("d4b9"),d=a("b5ae"),u=a("a91e"),p=a("d027"),h=a("25df");function f(e,i){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),a.push.apply(a,t)}return a}function m(e){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?f(Object(a),!0).forEach((function(i){Object(s["a"])(e,i,a[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))}))}return e}var v={name:"DisciplinasGradesContent",components:{Card:h["b"],ModalDelete:p["b"],NavTab:h["f"],VInput:h["i"],VSelect:h["m"],VOption:h["l"]},props:{currentTab:{type:String,required:!0},arraysData:{type:Object,required:!0,validator:function(e){return"DisciplinasGrades"in e&&"Grades"in e&&"Cursos"in e}},disciplinaGradeServices:{type:Object,required:!0,validator:function(e){return"create"in e&&"update"in e&&"delete"in e}}},data:function(){return{disciplinaGradeForm:Object(u["c"])(),gradeForm:Object(u["e"])(),currentGradeId:null,currentCursoId:null,disciplinaSelectedId:null,ordenacaoDisciplinasMain:{order:"periodo",type:"asc"}}},validations:{disciplinaGradeForm:{periodo:{required:d["required"],integer:d["integer"],maxValue:Object(d["maxValue"])(15),minValue:Object(d["minValue"])(1)},Disciplina:{required:d["required"]}}},methods:{handleSelectCursos:function(){this.clearDisciplina(),this.clearGradeForm(),this.currentGradeId=null},handleSelectGrade:function(){this.clearDisciplina(),this.currentGradeId&&this.showGrade(this.currentGradeId)},handleSelectDisciplina:function(){var e=this,i=this.AllDisciplinas.find((function(i){return i.id===e.disciplinaGradeForm.Disciplina}));if(i){this.disciplinaGradeForm.disciplina=m({},i),this.disciplinaGradeForm.Grade=this.currentGradeId;var a=this.DisciplinaGradesFiltred.find((function(e){return e.Disciplina===i.id}));a?(this.disciplinaSelectedId=i.id,this.disciplinaGradeForm.periodo=a.periodo):this.clearClick()}},handleClickInDisciplina:function(e){this.disciplinaSelectedId=e.Disciplina,this.showGrade(this.currentGradeId),this.showDisciplina(e)},clearClick:function(){this.disciplinaSelectedId=null},clearGradeForm:function(){this.gradeForm=Object(u["e"])()},clearDisciplina:function(){var e=this;this.clearClick(),this.disciplinaGradeForm=Object(u["c"])(),this.$nextTick((function(){return e.$v.$reset()}))},showGrade:function(e){var i=this.arraysData.Grades.find((function(i){return i.id===e}));this.gradeForm=Object(o["a"])(i)},showDisciplina:function(e){this.disciplinaGradeForm=Object(o["a"])(e),this.disciplinaGradeForm.Grade=this.gradeForm.id},isEven:function(e){return e%2===0},handleCreateDisciplinaGrade:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$v.disciplinaGradeForm.$touch(),!this.$v.disciplinaGradeForm.$anyError){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,this.setLoading({type:"partial",value:!0}),i=m({},this.disciplinaGradeForm),e.next=8,this.disciplinaGradeServices.create(i);case 8:a=e.sent,this.disciplinaSelectedId=a.DisciplinaGrade.Disciplina,this.$notify({group:"general",title:"Sucesso!",text:"A disciplina <b>".concat(i.disciplina.nome,"</b> foi adicionada à grade \n          <b>").concat(this.gradeForm.nome,"</b>"),type:"success"}),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),this.$notify({group:"general",title:"Erro!",text:"Erro ao incluir disciplina, verifique se a disciplina já não existe na grade",type:"error"});case 16:return e.prev=16,this.setLoading({type:"partial",value:!1}),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})));function i(){return e.apply(this,arguments)}return i}(),handleUpdateDisciplinaGrade:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$v.disciplinaGradeForm.$touch(),!this.$v.disciplinaGradeForm.$anyError){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,this.setLoading({type:"partial",value:!0}),i=m({},this.disciplinaGradeForm),e.next=8,this.disciplinaGradeServices.update(i.Disciplina,i.Grade,i);case 8:this.$notify({group:"general",title:"Sucesso!",text:"A disciplina <b>".concat(this.disciplinaGradeForm.disciplina.nome,"</b> foi atualizada!"),type:"success"}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),this.$notify({group:"general",title:"Erro!",text:"Erro ao atualizar disciplina",type:"error"});case 14:return e.prev=14,this.setLoading({type:"partial",value:!1}),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,11,14,17]])})));function i(){return e.apply(this,arguments)}return i}(),handleDeleteDisciplinaGrade:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.setLoading({type:"partial",value:!0}),i=m({},this.disciplinaGradeForm),e.next=5,this.disciplinaGradeServices.delete(i.Disciplina,i.Grade,i);case 5:this.$notify({group:"general",title:"Sucesso!",text:"A disciplina <b>".concat(i.disciplina.nome,"</b> foi excluída da grade\n           <b>").concat(this.gradeForm.nome,"</b>"),type:"success"}),this.clearClick(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.$notify({group:"general",title:"Erro!",text:"Erro ao excluir disciplina",type:"error"});case 12:return e.prev=12,this.setLoading({type:"partial",value:!1}),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[0,9,12,15]])})));function i(){return e.apply(this,arguments)}return i}()},computed:m(m({},Object(c["c"])(["AllDisciplinas"])),{},{hasCursoSelected:function(){return null!=this.currentCursoId},hasGradeSelected:function(){return null!=this.currentGradeId},isEditDisciplina:function(){return null!==this.disciplinaSelectedId},DisciplinaGradesOrdered:function(){var e=this.ordenacaoDisciplinasMain,i=e.order,a=e.type;return Object(l["a"])(this.DisciplinaGradesFiltred,i,a)},DisciplinaGradesFiltred:function(){var e=this;return this.arraysData.DisciplinasGrades.filter((function(i){return e.currentGradeId===i.Grade}))},GradesOptionsFiltred:function(){var e=this;return this.arraysData.Grades.filter((function(i){return i.Curso==e.currentCursoId}))},DisciplinasOptions:function(){return Object(l["a"])(this.AllDisciplinas,"nome")},CursosOptions:function(){return Object(l["a"])(this.arraysData.Cursos,"nome")}})},b=v,D=a("2877"),G=Object(D["a"])(b,t,r,!1,null,null,null);i["default"]=G.exports},7545:function(e,i,a){"use strict";a.r(i);var t=function(){var e=this,i=e.$createElement,a=e._self._c||i;return a("div",{staticClass:"main-component row"},[a("portal",{attrs:{to:"page-header"}},[a("BaseButton",{attrs:{template:"ajuda"},on:{click:function(i){return e.$refs.modalAjuda.toggle()}}})],1),a("keep-alive",["DCC"===e.currentTab?a("DisciplinasGradesContent",{key:"DCC",attrs:{arraysData:e.contentPropsDCC.arraysData,disciplinaGradeServices:e.contentPropsDCC.services,currentTab:e.currentTab},on:{"change-tab":function(i){e.currentTab=i}}}):a("DisciplinasGradesContent",{key:"Outros",attrs:{arraysData:e.contentPropsOutros.arraysData,disciplinaGradeServices:e.contentPropsOutros.services,currentTab:e.currentTab},on:{"change-tab":function(i){e.currentTab=i}}})],1),a("ModalAjuda",{ref:"modalAjuda"},[a("li",{staticClass:"list-group-item"},[a("b",[e._v("Visualizar conteúdo:")]),e._v("\n      Na parte superior do cartão à direita, selecione o curso e a grade que deseja visualizar.\n    ")]),a("li",{staticClass:"list-group-item"},[a("b",[e._v("Adicionar:")]),e._v("\n      Para adicionar uma disciplinas à grade selecionada, com a parte de baixo do cartão à direita\n      em branco, preencha-a e em seguida clique em Adicionar\n      "),a("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","plus"]}}),e._v("\n      .\n    ")],1),a("li",{staticClass:"list-group-item"},[a("b",[e._v("Editar:")]),e._v("\n      Para editar uma disciplinas da grade selecionada clique na linha da tabela da disciplina que\n      deseja alterar. Em seguida, no cartão à direita, altere as informações que desejar e clique\n      em Salvar\n      "),a("font-awesome-icon",{staticClass:"icon-green",attrs:{icon:["fas","check"]}}),e._v("\n      .\n    ")],1),a("li",{staticClass:"list-group-item"},[a("b",[e._v("Deletar:")]),e._v("\n      Clique na linha da tabela da disciplina que deseja remover. Em seguida, no cartão à direita,\n      clique em Remover\n      "),a("font-awesome-icon",{staticClass:"icon-red",attrs:{icon:["fas","trash-alt"]}}),e._v("\n      e confirme a remoção na janela que será aberta.\n    ")],1),a("li",{staticClass:"list-group-item"},[a("b",[e._v("Limpar:")]),e._v("\n      No cartão à direita, clique em Cancelar\n      "),a("font-awesome-icon",{staticClass:"icon-gray",attrs:{icon:["fas","times"]}}),e._v("\n      , para limpar as informações da disciplina porém a grade continuará selecionada.\n    ")],1),a("li",{staticClass:"list-group-item"},[a("b",[e._v("Ordenar:")]),e._v("\n      Clique no cabeçalho da tabela, na coluna desejada, para alterar a ordenação das informações.\n    ")])])],1)},r=[],n=(a("1c01"),a("58b2"),a("8e6e"),a("f3e2"),a("ac6a"),a("456d"),a("759f"),a("d25f"),a("ade3")),s=a("2f62"),c=a("fb5e"),o=a("4929"),l=a("d027"),d=a("616b");function u(e,i){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),a.push.apply(a,t)}return a}function p(e){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?u(Object(a),!0).forEach((function(i){Object(n["a"])(e,i,a[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))}))}return e}var h={name:"GerenciarGrades",components:{DisciplinasGradesContent:d["default"],ModalAjuda:l["a"]},data:function(){return{currentTab:"DCC"}},computed:p(p({},Object(s["c"])(["DisciplinasGradesExternas","AllGradesCursosExternos","AllCursos","AllGrades","DisciplinasGrades","PrincipaisCursosDCC"])),{},{CursosComGradesExternas:function(){var e=this;return this.AllCursos.filter((function(i){return e.AllGradesCursosExternos.some((function(e){return e.Curso===i.id}))}))},contentPropsDCC:function(){return{arraysData:{DisciplinasGrades:this.DisciplinasGrades,Grades:this.AllGrades,Cursos:this.PrincipaisCursosDCC},services:o["a"]}},contentPropsOutros:function(){return{arraysData:{DisciplinasGrades:this.DisciplinasGradesExternas,Grades:this.AllGradesCursosExternos,Cursos:this.CursosComGradesExternas},services:c["a"]}}})},f=h,m=a("2877"),v=Object(m["a"])(f,t,r,!1,null,null,null);i["default"]=v.exports}}]);
//# sourceMappingURL=chunk-c87d05fe.eb35cb62.js.map